/**
 * Built on Thu Apr 20 17:39:45 EEST 2017 by AlexanderC <alexander.moldova@gmail.com>
 *
 * deep-framework@1.12.26
 * deep-asset@1.12.10
 * deep-cache@1.12.9
 * deep-core@1.12.14
 * deep-db@1.12.16
 * deep-di@1.12.9
 * deep-event@1.12.9
 * deep-fs@1.12.9
 * deep-kernel@1.12.12
 * deep-log@1.12.13
 * deep-notification@1.12.9
 * deep-resource@1.12.15
 * deep-search@0.4.16
 * deep-security@1.12.11
 * deep-validation@1.12.12
 **/

var DeepFramework=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=239)}([function(module,exports,__webpack_require__){"use strict";(function(global){function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):"string"==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromString(that,string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return that=createBuffer(that,len),0===that.length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128==(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!=0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var base64=__webpack_require__(304),ieee754=__webpack_require__(480),isArray=__webpack_require__(182);exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,byteLength|=0,!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,byteLength|=0,!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){var AWS={util:__webpack_require__(5)};({}).toString(),module.exports=AWS,AWS.util.update(AWS,{VERSION:"2.43.0",Signers:{},Protocol:{Json:__webpack_require__(82),Query:__webpack_require__(139),Rest:__webpack_require__(60),RestJson:__webpack_require__(140),RestXml:__webpack_require__(141)},XML:{Builder:__webpack_require__(301),Parser:null},JSON:{Builder:__webpack_require__(80),Parser:__webpack_require__(81)},Model:{Api:__webpack_require__(134),Operation:__webpack_require__(136),Shape:__webpack_require__(43),Paginator:__webpack_require__(137),ResourceWaiter:__webpack_require__(138)},util:__webpack_require__(5),apiLoader:function(){throw new Error("No API loader set")}}),__webpack_require__(32),__webpack_require__(274),__webpack_require__(131),__webpack_require__(132),__webpack_require__(277),__webpack_require__(278),__webpack_require__(275),__webpack_require__(276),__webpack_require__(133),__webpack_require__(142),__webpack_require__(279),__webpack_require__(285),__webpack_require__(287),__webpack_require__(286),__webpack_require__(293),__webpack_require__(281),AWS.events=new AWS.SequentialExecutor},function(module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},function(module,exports,__webpack_require__){"use strict";(function(global){var _Interface=__webpack_require__(90),_Runtime=__webpack_require__(348),_Region=__webpack_require__(164),_Service=__webpack_require__(89),_Policy=__webpack_require__(65),_Factory=__webpack_require__(340),_ObjectStorage=__webpack_require__(353),_UniversalRequire=__webpack_require__(355),_ObjectVector=__webpack_require__(354),_MethodsProxy=__webpack_require__(352),_Exception=__webpack_require__(14),_MethodsNotImplementedException=__webpack_require__(165),_InvalidArgumentException=__webpack_require__(35),_DatabaseOperationException=__webpack_require__(349),_ResourceNotFoundException=__webpack_require__(350),_Sandbox=__webpack_require__(167),_Helper=__webpack_require__(166);module.exports={IS_DEV_SERVER:global.__DEEP_DEV_SERVER||!1,Exception:{Exception:_Exception.Exception,InvalidArgumentException:_InvalidArgumentException.InvalidArgumentException,MethodsNotImplementedException:_MethodsNotImplementedException.MethodsNotImplementedException,DatabaseOperationException:_DatabaseOperationException.DatabaseOperationException,ResourceNotFoundException:_ResourceNotFoundException.ResourceNotFoundException},HTTP:{Helper:_Helper.Helper},Runtime:{Sandbox:_Sandbox.Sandbox},OOP:{Interface:_Interface.Interface},Generic:{ObjectStorage:_ObjectStorage.ObjectStorage,ObjectVector:_ObjectVector.ObjectVector,MethodsProxy:_MethodsProxy.MethodsProxy,UniversalRequire:_UniversalRequire.UniversalRequire},AWS:{Region:_Region.Region,Service:_Service.Service,IAM:{Factory:_Factory.Factory,Policy:_Policy.Policy},Lambda:{Runtime:_Runtime.Runtime}}}}).call(exports,__webpack_require__(4))},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){(function(process){var AWS,util={engine:function(){if(util.isBrowser()&&"undefined"!=typeof navigator)return navigator.userAgent;var engine=process.platform+"/"+process.version;return __webpack_require__.i({AWS_SERVICES:"lambda,cognitoidentity,cognitosync,sqs",NODE_ENV:"production"}).AWS_EXECUTION_ENV&&(engine+=" exec-env/"+__webpack_require__.i({AWS_SERVICES:"lambda,cognitoidentity,cognitosync,sqs",NODE_ENV:"production"}).AWS_EXECUTION_ENV),engine},userAgent:function(){var name=util.isBrowser()?"js":"nodejs",agent="aws-sdk-"+name+"/"+__webpack_require__(1).VERSION;return"nodejs"===name&&(agent+=" "+util.engine()),agent},isBrowser:function(){return process&&process.browser},isNode:function(){return!util.isBrowser()},uriEscape:function(string){var output=encodeURIComponent(string);return output=output.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),output=output.replace(/[*]/g,function(ch){return"%"+ch.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(string){var parts=[];return util.arrayEach(string.split("/"),function(part){parts.push(util.uriEscape(part))}),parts.join("/")},urlParse:function(url){return util.url.parse(url)},urlFormat:function(url){return util.url.format(url)},queryStringParse:function(qs){return util.querystring.parse(qs)},queryParamsToString:function(params){var items=[],escape=util.uriEscape,sortedKeys=Object.keys(params).sort();return util.arrayEach(sortedKeys,function(name){var value=params[name],ename=escape(name),result=ename+"=";if(Array.isArray(value)){var vals=[];util.arrayEach(value,function(item){vals.push(escape(item))}),result=ename+"="+vals.sort().join("&"+ename+"=")}else void 0!==value&&null!==value&&(result=ename+"="+escape(value));items.push(result)}),items.join("&")},readFileSync:function(path){return util.isBrowser()?null:__webpack_require__(125).readFileSync(path,"utf-8")},base64:{encode:function(string){if("number"==typeof string)throw util.error(new Error("Cannot base64 encode number "+string));return null===string||void 0===string?string:("function"==typeof util.Buffer.from&&util.Buffer.from!==Uint8Array.from?util.Buffer.from(string):new util.Buffer(string)).toString("base64")},decode:function(string){if("number"==typeof string)throw util.error(new Error("Cannot base64 decode number "+string));return null===string||void 0===string?string:"function"==typeof util.Buffer.from&&util.Buffer.from!==Uint8Array.from?util.Buffer.from(string,"base64"):new util.Buffer(string,"base64")}},buffer:{toStream:function(buffer){util.Buffer.isBuffer(buffer)||(buffer=new util.Buffer(buffer));var readable=new util.stream.Readable,pos=0;return readable._read=function(size){if(pos>=buffer.length)return readable.push(null);var end=pos+size;end>buffer.length&&(end=buffer.length),readable.push(buffer.slice(pos,end)),pos=end},readable},concat:function(buffers){var i,length=0,offset=0,buffer=null;for(i=0;i<buffers.length;i++)length+=buffers[i].length;for(buffer=new util.Buffer(length),i=0;i<buffers.length;i++)buffers[i].copy(buffer,offset),offset+=buffers[i].length;return buffer}},string:{byteLength:function(string){if(null===string||void 0===string)return 0;if("string"==typeof string&&(string=new util.Buffer(string)),"number"==typeof string.byteLength)return string.byteLength;if("number"==typeof string.length)return string.length;if("number"==typeof string.size)return string.size;if("string"==typeof string.path)return __webpack_require__(125).lstatSync(string.path).size;throw util.error(new Error("Cannot determine length of "+string),{object:string})},upperFirst:function(string){return string[0].toUpperCase()+string.substr(1)},lowerFirst:function(string){return string[0].toLowerCase()+string.substr(1)}},ini:{parse:function(ini){var currentSection,map={};return util.arrayEach(ini.split(/\r?\n/),function(line){line=line.split(/(^|\s)[;#]/)[0];var section=line.match(/^\s*\[([^\[\]]+)\]\s*$/);if(section)currentSection=section[1];else if(currentSection){var item=line.match(/^\s*(.+?)\s*=\s*(.+?)\s*$/);item&&(map[currentSection]=map[currentSection]||{},map[currentSection][item[1]]=item[2])}}),map}},fn:{noop:function(){},makeAsync:function(fn,expectedArgs){return expectedArgs&&expectedArgs<=fn.length?fn:function(){var args=Array.prototype.slice.call(arguments,0);args.pop()(fn.apply(null,args))}}},date:{getDate:function(){return AWS||(AWS=__webpack_require__(1)),AWS.config.systemClockOffset?new Date((new Date).getTime()+AWS.config.systemClockOffset):new Date},iso8601:function(date){return void 0===date&&(date=util.date.getDate()),date.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(date){return void 0===date&&(date=util.date.getDate()),date.toUTCString()},unixTimestamp:function(date){return void 0===date&&(date=util.date.getDate()),date.getTime()/1e3},from:function(date){return"number"==typeof date?new Date(1e3*date):new Date(date)},format:function(date,formatter){return formatter||(formatter="iso8601"),util.date[formatter](util.date.from(date))},parseTimestamp:function(value){if("number"==typeof value)return new Date(1e3*value);if(value.match(/^\d+$/))return new Date(1e3*value);if(value.match(/^\d{4}/))return new Date(value);if(value.match(/^\w{3},/))return new Date(value);throw util.error(new Error("unhandled timestamp format: "+value),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(data){var tbl=util.crypto.crc32Table,crc=-1;"string"==typeof data&&(data=new util.Buffer(data));for(var i=0;i<data.length;i++){crc=crc>>>8^tbl[255&(crc^data.readUInt8(i))]}return(-1^crc)>>>0},hmac:function(key,string,digest,fn){return digest||(digest="binary"),"buffer"===digest&&(digest=void 0),fn||(fn="sha256"),"string"==typeof string&&(string=new util.Buffer(string)),util.crypto.lib.createHmac(fn,key).update(string).digest(digest)},md5:function(data,digest,callback){return util.crypto.hash("md5",data,digest,callback)},sha256:function(data,digest,callback){return util.crypto.hash("sha256",data,digest,callback)},hash:function(algorithm,data,digest,callback){var hash=util.crypto.createHash(algorithm);digest||(digest="binary"),"buffer"===digest&&(digest=void 0),"string"==typeof data&&(data=new util.Buffer(data));var sliceFn=util.arraySliceFn(data),isBuffer=util.Buffer.isBuffer(data);if(util.isBrowser()&&"undefined"!=typeof ArrayBuffer&&data&&data.buffer instanceof ArrayBuffer&&(isBuffer=!0),callback&&"object"==typeof data&&"function"==typeof data.on&&!isBuffer)data.on("data",function(chunk){hash.update(chunk)}),data.on("error",function(err){callback(err)}),data.on("end",function(){callback(null,hash.digest(digest))});else{if(!callback||!sliceFn||isBuffer||"undefined"==typeof FileReader){util.isBrowser()&&"object"==typeof data&&!isBuffer&&(data=new util.Buffer(new Uint8Array(data)));var out=hash.update(data).digest(digest);return callback&&callback(null,out),out}var index=0,reader=new FileReader;reader.onerror=function(){callback(new Error("Failed to read data."))},reader.onload=function(){var buf=new util.Buffer(new Uint8Array(reader.result));hash.update(buf),index+=buf.length,reader._continueReading()},reader._continueReading=function(){if(index>=data.size)return void callback(null,hash.digest(digest));var back=index+524288;back>data.size&&(back=data.size),reader.readAsArrayBuffer(sliceFn.call(data,index,back))},reader._continueReading()}},toHex:function(data){for(var out=[],i=0;i<data.length;i++)out.push(("0"+data.charCodeAt(i).toString(16)).substr(-2,2));return out.join("")},createHash:function(algorithm){return util.crypto.lib.createHash(algorithm)}},abort:{},each:function(object,iterFunction){for(var key in object)if(Object.prototype.hasOwnProperty.call(object,key)){var ret=iterFunction.call(this,key,object[key]);if(ret===util.abort)break}},arrayEach:function(array,iterFunction){for(var idx in array)if(Object.prototype.hasOwnProperty.call(array,idx)){var ret=iterFunction.call(this,array[idx],parseInt(idx,10));if(ret===util.abort)break}},update:function(obj1,obj2){return util.each(obj2,function(key,item){obj1[key]=item}),obj1},merge:function(obj1,obj2){return util.update(util.copy(obj1),obj2)},copy:function(object){if(null===object||void 0===object)return object;var dupe={};for(var key in object)dupe[key]=object[key];return dupe},isEmpty:function(obj){for(var prop in obj)if(Object.prototype.hasOwnProperty.call(obj,prop))return!1;return!0},arraySliceFn:function(obj){var fn=obj.slice||obj.webkitSlice||obj.mozSlice;return"function"==typeof fn?fn:null},isType:function(obj,type){return"function"==typeof type&&(type=util.typeName(type)),Object.prototype.toString.call(obj)==="[object "+type+"]"},typeName:function(type){if(Object.prototype.hasOwnProperty.call(type,"name"))return type.name;var str=type.toString(),match=str.match(/^\s*function (.+)\(/);return match?match[1]:str},error:function(err,options){var originalError=null;return"string"==typeof err.message&&""!==err.message&&("string"==typeof options||options&&options.message)&&(originalError=util.copy(err),originalError.message=err.message),err.message=err.message||null,"string"==typeof options?err.message=options:"object"==typeof options&&null!==options&&(util.update(err,options),options.message&&(err.message=options.message),(options.code||options.name)&&(err.code=options.code||options.name),options.stack&&(err.stack=options.stack)),"function"==typeof Object.defineProperty&&(Object.defineProperty(err,"name",{writable:!0,enumerable:!1}),Object.defineProperty(err,"message",{enumerable:!0})),err.name=options&&options.name||err.name||err.code||"Error",err.time=new Date,originalError&&(err.originalError=originalError),err},inherit:function(klass,features){var newObject=null;if(void 0===features)features=klass,klass=Object,newObject={};else{var ctor=function(){};ctor.prototype=klass.prototype,newObject=new ctor}return features.constructor===Object&&(features.constructor=function(){if(klass!==Object)return klass.apply(this,arguments)}),features.constructor.prototype=newObject,util.update(features.constructor.prototype,features),features.constructor.__super__=klass,features.constructor},mixin:function(){for(var klass=arguments[0],i=1;i<arguments.length;i++)for(var prop in arguments[i].prototype){var fn=arguments[i].prototype[prop];"constructor"!==prop&&(klass.prototype[prop]=fn)}return klass},hideProperties:function(obj,props){"function"==typeof Object.defineProperty&&util.arrayEach(props,function(key){Object.defineProperty(obj,key,{enumerable:!1,writable:!0,configurable:!0})})},property:function(obj,name,value,enumerable,isValue){var opts={configurable:!0,enumerable:void 0===enumerable||enumerable};"function"!=typeof value||isValue?(opts.value=value,opts.writable=!0):opts.get=value,Object.defineProperty(obj,name,opts)},memoizedProperty:function(obj,name,get,enumerable){var cachedValue=null;util.property(obj,name,function(){return null===cachedValue&&(cachedValue=get()),cachedValue},enumerable)},hoistPayloadMember:function(resp){var req=resp.request,operation=req.operation,output=req.service.api.operations[operation].output;if(output.payload){var payloadMember=output.members[output.payload],responsePayload=resp.data[output.payload];"structure"===payloadMember.type&&util.each(responsePayload,function(key,value){util.property(resp.data,key,value,!1)})}},computeSha256:function(body,done){if(util.isNode()){var Stream=util.stream.Stream,fs=__webpack_require__(125);if(body instanceof Stream){if("string"!=typeof body.path)return done(new Error("Non-file stream objects are not supported with SigV4"));var settings={};"number"==typeof body.start&&(settings.start=body.start),"number"==typeof body.end&&(settings.end=body.end),body=fs.createReadStream(body.path,settings)}}util.crypto.sha256(body,"hex",function(err,sha){err?done(err):done(null,sha)})},isClockSkewed:function(serverTime){if(serverTime)return util.property(AWS.config,"isClockSkewed",Math.abs((new Date).getTime()-serverTime)>=3e5,!1),AWS.config.isClockSkewed},applyClockOffset:function(serverTime){serverTime&&(AWS.config.systemClockOffset=serverTime-(new Date).getTime())},extractRequestId:function(resp){var requestId=resp.httpResponse.headers["x-amz-request-id"]||resp.httpResponse.headers["x-amzn-requestid"];!requestId&&resp.data&&resp.data.ResponseMetadata&&(requestId=resp.data.ResponseMetadata.RequestId),requestId&&(resp.requestId=requestId),resp.error&&(resp.error.requestId=requestId)},addPromises:function(constructors,PromiseDependency){if(void 0===PromiseDependency&&AWS&&AWS.config&&(PromiseDependency=AWS.config.getPromisesDependency()),void 0===PromiseDependency&&"undefined"!=typeof Promise&&(PromiseDependency=Promise),"function"!=typeof PromiseDependency)var deletePromises=!0;Array.isArray(constructors)||(constructors=[constructors]);for(var ind=0;ind<constructors.length;ind++){var constructor=constructors[ind];deletePromises?constructor.deletePromisesFromClass&&constructor.deletePromisesFromClass():constructor.addPromisesToClass&&constructor.addPromisesToClass(PromiseDependency)}},promisifyMethod:function(methodName,PromiseDependency){return function(){var self=this;return new PromiseDependency(function(resolve,reject){self[methodName](function(err,data){err?reject(err):resolve(data)})})}},isDualstackAvailable:function(service){if(!service)return!1;var metadata=__webpack_require__(266);return"string"!=typeof service&&(service=service.serviceIdentifier),!("string"!=typeof service||!metadata.hasOwnProperty(service))&&!!metadata[service].dualstackAvailable},calculateRetryDelay:function(retryCount,retryDelayOptions){retryDelayOptions||(retryDelayOptions={});var customBackoff=retryDelayOptions.customBackoff||null;if("function"==typeof customBackoff)return customBackoff(retryCount);var base="number"==typeof retryDelayOptions.base?retryDelayOptions.base:100;return Math.random()*(Math.pow(2,retryCount)*base)},handleRequestWithRetries:function(httpRequest,options,cb){options||(options={});var http=AWS.HttpClient.getInstance(),httpOptions=options.httpOptions||{},retryCount=0,errCallback=function(err){var maxRetries=options.maxRetries||0;if(err&&"TimeoutError"===err.code&&(err.retryable=!0),err&&err.retryable&&retryCount<maxRetries){retryCount++;var delay=util.calculateRetryDelay(retryCount,options.retryDelayOptions);setTimeout(sendRequest,delay+(err.retryAfter||0))}else cb(err)},sendRequest=function(){var data="";http.handleRequest(httpRequest,httpOptions,function(httpResponse){httpResponse.on("data",function(chunk){data+=chunk.toString()}),httpResponse.on("end",function(){var statusCode=httpResponse.statusCode;if(statusCode<300)cb(null,data);else{var retryAfter=1e3*parseInt(httpResponse.headers["retry-after"],10)||0,err=util.error(new Error,{retryable:statusCode>=500||429===statusCode});retryAfter&&err.retryable&&(err.retryAfter=retryAfter),errCallback(err)}})},errCallback)};process.nextTick(sendRequest)},uuid:{v4:function(){return __webpack_require__(646).v4()}},convertPayloadToString:function(resp){var req=resp.request,operation=req.operation,rules=req.service.api.operations[operation].output||{};rules.payload&&resp.data[rules.payload]&&(resp.data[rules.payload]=resp.data[rules.payload].toString())}};module.exports=util}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){(function(module){!function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}function BN(number,base,endian){if(BN.isBN(number))return number;this.negative=0,this.words=null,this.length=0,this.red=null,null!==number&&("le"!==base&&"be"!==base||(endian=base,base=10),this._init(number||0,base||10,endian||"be"))}function parseHex(str,start,end){for(var r=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r<<=4,r|=c>=49&&c<=54?c-49+10:c>=17&&c<=22?c-17+10:15&c}return r}function parseBase(str,start,end,mul){for(var r=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul,r+=c>=49?c-49+10:c>=17?c-17+10:c}return r}function toBitArray(num){for(var w=new Array(num.bitLength()),bit=0;bit<w.length;bit++){var off=bit/26|0,wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit}return w}function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len,len=len-1|0;var a=0|self.words[0],b=0|num.words[0],r=a*b,lo=67108863&r,carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){for(var ncarry=carry>>>26,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;a=0|self.words[i],b=0|num.words[j],r=a*b+rword,ncarry+=r/67108864|0,rword=67108863&r}out.words[k]=0|rword,carry=0|ncarry}return 0!==carry?out.words[k]=0|carry:out.length--,out.strip()}function bigMulTo(self,num,out){out.negative=num.negative^self.negative,out.length=self.length+num.length;for(var carry=0,hncarry=0,k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;for(var rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j,a=0|self.words[i],b=0|num.words[j],r=a*b,lo=67108863&r;ncarry=ncarry+(r/67108864|0)|0,lo=lo+rword|0,rword=67108863&lo,ncarry=ncarry+(lo>>>26)|0,hncarry+=ncarry>>>26,ncarry&=67108863}out.words[k]=rword,carry=ncarry,ncarry=hncarry}return 0!==carry?out.words[k]=carry:out.length--,out.strip()}function jumboMulTo(self,num,out){return(new FFTM).mulp(self,num,out)}function FFTM(x,y){this.x=x,this.y=y}function MPrime(name,p){this.name=name,this.p=new BN(p,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(m){if("string"==typeof m){var prime=BN._prime(m);this.m=prime.p,this.prime=prime}else assert(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function Mont(m){Red.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof module?module.exports=BN:exports.BN=BN,BN.BN=BN,BN.wordSize=26;var Buffer;try{Buffer=__webpack_require__(0).Buffer}catch(e){}BN.isBN=function(num){return num instanceof BN||null!==num&&"object"==typeof num&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)},BN.max=function(left,right){return left.cmp(right)>0?left:right},BN.min=function(left,right){return left.cmp(right)<0?left:right},BN.prototype._init=function(number,base,endian){if("number"==typeof number)return this._initNumber(number,base,endian);if("object"==typeof number)return this._initArray(number,base,endian);"hex"===base&&(base=16),assert(base===(0|base)&&base>=2&&base<=36),number=number.toString().replace(/\s+/g,"");var start=0;"-"===number[0]&&start++,16===base?this._parseHex(number,start):this._parseBase(number,base,start),"-"===number[0]&&(this.negative=1),this.strip(),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initNumber=function(number,base,endian){number<0&&(this.negative=1,number=-number),number<67108864?(this.words=[67108863&number],this.length=1):number<4503599627370496?(this.words=[67108863&number,number/67108864&67108863],this.length=2):(assert(number<9007199254740992),this.words=[67108863&number,number/67108864&67108863,1],this.length=3),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initArray=function(number,base,endian){if(assert("number"==typeof number.length),number.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(number.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var j,w,off=0;if("be"===endian)for(i=number.length-1,j=0;i>=0;i-=3)w=number[i]|number[i-1]<<8|number[i-2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,(off+=24)>=26&&(off-=26,j++);else if("le"===endian)for(i=0,j=0;i<number.length;i+=3)w=number[i]|number[i+1]<<8|number[i+2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,(off+=24)>=26&&(off-=26,j++);return this.strip()},BN.prototype._parseHex=function(number,start){this.length=Math.ceil((number.length-start)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var j,w,off=0;for(i=number.length-6,j=0;i>=start;i-=6)w=parseHex(number,i,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303,(off+=24)>=26&&(off-=26,j++);i+6!==start&&(w=parseHex(number,start,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303),this.strip()},BN.prototype._parseBase=function(number,base,start){this.words=[0],this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base)limbLen++;limbLen--,limbPow=limbPow/base|0;for(var total=number.length-start,mod=total%limbLen,end=Math.min(total,total-mod)+start,word=0,i=start;i<end;i+=limbLen)word=parseBase(number,i,i+limbLen,base),this.imuln(limbPow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word);if(0!==mod){var pow=1;for(word=parseBase(number,i,number.length,base),i=0;i<mod;i++)pow*=base;this.imuln(pow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word)}},BN.prototype.copy=function(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++)dest.words[i]=this.words[i];dest.length=this.length,dest.negative=this.negative,dest.red=this.red},BN.prototype.clone=function(){var r=new BN(null);return this.copy(r),r},BN.prototype._expand=function(size){for(;this.length<size;)this.words[this.length++]=0;return this},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(base,padding){base=base||10,padding=0|padding||1;var out;if(16===base||"hex"===base){out="";for(var off=0,carry=0,i=0;i<this.length;i++){var w=this.words[i],word=(16777215&(w<<off|carry)).toString(16);carry=w>>>24-off&16777215,out=0!==carry||i!==this.length-1?zeros[6-word.length]+word+out:word+out,off+=2,off>=26&&(off-=26,i--)}for(0!==carry&&(out=carry.toString(16)+out);out.length%padding!=0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}if(base===(0|base)&&base>=2&&base<=36){var groupSize=groupSizes[base],groupBase=groupBases[base];out="";var c=this.clone();for(c.negative=0;!c.isZero();){var r=c.modn(groupBase).toString(base);c=c.idivn(groupBase),out=c.isZero()?r+out:zeros[groupSize-r.length]+r+out}for(this.isZero()&&(out="0"+out);out.length%padding!=0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var ret=this.words[0];return 2===this.length?ret+=67108864*this.words[1]:3===this.length&&1===this.words[2]?ret+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-ret:ret},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toBuffer=function(endian,length){return assert(void 0!==Buffer),this.toArrayLike(Buffer,endian,length)},BN.prototype.toArray=function(endian,length){return this.toArrayLike(Array,endian,length)},BN.prototype.toArrayLike=function(ArrayType,endian,length){var byteLength=this.byteLength(),reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length"),assert(reqLength>0,"Requested array length <= 0"),this.strip();var b,i,littleEndian="le"===endian,res=new ArrayType(reqLength),q=this.clone();if(littleEndian){for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[i]=b;for(;i<reqLength;i++)res[i]=0}else{for(i=0;i<reqLength-byteLength;i++)res[i]=0;for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[reqLength-i-1]=b}return res},Math.clz32?BN.prototype._countBits=function(w){return 32-Math.clz32(w)}:BN.prototype._countBits=function(w){var t=w,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(w){if(0===w)return 26;var t=w,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},BN.prototype.bitLength=function(){var w=this.words[this.length-1],hi=this._countBits(w);return 26*(this.length-1)+hi},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(r+=b,26!==b)break}return r},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(width){return 0!==this.negative?this.abs().inotn(width).iaddn(1):this.clone()},BN.prototype.fromTwos=function(width){return this.testn(width-1)?this.notn(width).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(num){for(;this.length<num.length;)this.words[this.length++]=0;for(var i=0;i<num.length;i++)this.words[i]=this.words[i]|num.words[i];return this.strip()},BN.prototype.ior=function(num){return assert(0==(this.negative|num.negative)),this.iuor(num)},BN.prototype.or=function(num){return this.length>num.length?this.clone().ior(num):num.clone().ior(this)},BN.prototype.uor=function(num){return this.length>num.length?this.clone().iuor(num):num.clone().iuor(this)},BN.prototype.iuand=function(num){var b;b=this.length>num.length?num:this;for(var i=0;i<b.length;i++)this.words[i]=this.words[i]&num.words[i];return this.length=b.length,this.strip()},BN.prototype.iand=function(num){return assert(0==(this.negative|num.negative)),this.iuand(num)},BN.prototype.and=function(num){return this.length>num.length?this.clone().iand(num):num.clone().iand(this)},BN.prototype.uand=function(num){return this.length>num.length?this.clone().iuand(num):num.clone().iuand(this)},BN.prototype.iuxor=function(num){var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this.strip()},BN.prototype.ixor=function(num){return assert(0==(this.negative|num.negative)),this.iuxor(num)},BN.prototype.xor=function(num){return this.length>num.length?this.clone().ixor(num):num.clone().ixor(this)},BN.prototype.uxor=function(num){return this.length>num.length?this.clone().iuxor(num):num.clone().iuxor(this)},BN.prototype.inotn=function(width){assert("number"==typeof width&&width>=0);var bytesNeeded=0|Math.ceil(width/26),bitsLeft=width%26;this._expand(bytesNeeded),bitsLeft>0&&bytesNeeded--;for(var i=0;i<bytesNeeded;i++)this.words[i]=67108863&~this.words[i];return bitsLeft>0&&(this.words[i]=~this.words[i]&67108863>>26-bitsLeft),this.strip()},BN.prototype.notn=function(width){return this.clone().inotn(width)},BN.prototype.setn=function(bit,val){assert("number"==typeof bit&&bit>=0);var off=bit/26|0,wbit=bit%26;return this._expand(off+1),this.words[off]=val?this.words[off]|1<<wbit:this.words[off]&~(1<<wbit),this.strip()},BN.prototype.iadd=function(num){var r;if(0!==this.negative&&0===num.negative)return this.negative=0,r=this.isub(num),this.negative^=1,this._normSign();if(0===this.negative&&0!==num.negative)return num.negative=0,r=this.isub(num),num.negative=1,r._normSign();var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)r=(0|a.words[i])+(0|b.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;if(this.length=a.length,0!==carry)this.words[this.length]=carry,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},BN.prototype.add=function(num){var res;return 0!==num.negative&&0===this.negative?(num.negative=0,res=this.sub(num),num.negative^=1,res):0===num.negative&&0!==this.negative?(this.negative=0,res=num.sub(this),this.negative=1,res):this.length>num.length?this.clone().iadd(num):num.clone().iadd(this)},BN.prototype.isub=function(num){if(0!==num.negative){num.negative=0;var r=this.iadd(num);return num.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(num),this.negative=1,this._normSign();var cmp=this.cmp(num);if(0===cmp)return this.negative=0,this.length=1,this.words[0]=0,this;var a,b;cmp>0?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)r=(0|a.words[i])-(0|b.words[i])+carry,carry=r>>26,this.words[i]=67108863&r;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,carry=r>>26,this.words[i]=67108863&r;if(0===carry&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function(num){return this.clone().isub(num)};var comb10MulTo=function(self,num,out){var lo,mid,hi,a=self.words,b=num.words,o=out.words,c=0,a0=0|a[0],al0=8191&a0,ah0=a0>>>13,a1=0|a[1],al1=8191&a1,ah1=a1>>>13,a2=0|a[2],al2=8191&a2,ah2=a2>>>13,a3=0|a[3],al3=8191&a3,ah3=a3>>>13,a4=0|a[4],al4=8191&a4,ah4=a4>>>13,a5=0|a[5],al5=8191&a5,ah5=a5>>>13,a6=0|a[6],al6=8191&a6,ah6=a6>>>13,a7=0|a[7],al7=8191&a7,ah7=a7>>>13,a8=0|a[8],al8=8191&a8,ah8=a8>>>13,a9=0|a[9],al9=8191&a9,ah9=a9>>>13,b0=0|b[0],bl0=8191&b0,bh0=b0>>>13,b1=0|b[1],bl1=8191&b1,bh1=b1>>>13,b2=0|b[2],bl2=8191&b2,bh2=b2>>>13,b3=0|b[3],bl3=8191&b3,bh3=b3>>>13,b4=0|b[4],bl4=8191&b4,bh4=b4>>>13,b5=0|b[5],bl5=8191&b5,bh5=b5>>>13,b6=0|b[6],bl6=8191&b6,bh6=b6>>>13,b7=0|b[7],bl7=8191&b7,bh7=b7>>>13,b8=0|b[8],bl8=8191&b8,bh8=b8>>>13,b9=0|b[9],bl9=8191&b9,bh9=b9>>>13;out.negative=self.negative^num.negative,out.length=19,lo=Math.imul(al0,bl0),mid=Math.imul(al0,bh0),mid=mid+Math.imul(ah0,bl0)|0,hi=Math.imul(ah0,bh0);var w0=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w0>>>26)|0,w0&=67108863,lo=Math.imul(al1,bl0),mid=Math.imul(al1,bh0),mid=mid+Math.imul(ah1,bl0)|0,hi=Math.imul(ah1,bh0),lo=lo+Math.imul(al0,bl1)|0,mid=mid+Math.imul(al0,bh1)|0,mid=mid+Math.imul(ah0,bl1)|0,hi=hi+Math.imul(ah0,bh1)|0;var w1=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w1>>>26)|0,w1&=67108863,lo=Math.imul(al2,bl0),mid=Math.imul(al2,bh0),mid=mid+Math.imul(ah2,bl0)|0,hi=Math.imul(ah2,bh0),lo=lo+Math.imul(al1,bl1)|0,mid=mid+Math.imul(al1,bh1)|0,mid=mid+Math.imul(ah1,bl1)|0,hi=hi+Math.imul(ah1,bh1)|0,lo=lo+Math.imul(al0,bl2)|0,mid=mid+Math.imul(al0,bh2)|0,mid=mid+Math.imul(ah0,bl2)|0,hi=hi+Math.imul(ah0,bh2)|0;var w2=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w2>>>26)|0,w2&=67108863,lo=Math.imul(al3,bl0),mid=Math.imul(al3,bh0),mid=mid+Math.imul(ah3,bl0)|0,hi=Math.imul(ah3,bh0),lo=lo+Math.imul(al2,bl1)|0,mid=mid+Math.imul(al2,bh1)|0,mid=mid+Math.imul(ah2,bl1)|0,hi=hi+Math.imul(ah2,bh1)|0,lo=lo+Math.imul(al1,bl2)|0,mid=mid+Math.imul(al1,bh2)|0,mid=mid+Math.imul(ah1,bl2)|0,hi=hi+Math.imul(ah1,bh2)|0,lo=lo+Math.imul(al0,bl3)|0,mid=mid+Math.imul(al0,bh3)|0,mid=mid+Math.imul(ah0,bl3)|0,hi=hi+Math.imul(ah0,bh3)|0;var w3=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w3>>>26)|0,w3&=67108863,lo=Math.imul(al4,bl0),mid=Math.imul(al4,bh0),mid=mid+Math.imul(ah4,bl0)|0,hi=Math.imul(ah4,bh0),lo=lo+Math.imul(al3,bl1)|0,mid=mid+Math.imul(al3,bh1)|0,mid=mid+Math.imul(ah3,bl1)|0,hi=hi+Math.imul(ah3,bh1)|0,lo=lo+Math.imul(al2,bl2)|0,mid=mid+Math.imul(al2,bh2)|0,mid=mid+Math.imul(ah2,bl2)|0,hi=hi+Math.imul(ah2,bh2)|0,lo=lo+Math.imul(al1,bl3)|0,mid=mid+Math.imul(al1,bh3)|0,mid=mid+Math.imul(ah1,bl3)|0,hi=hi+Math.imul(ah1,bh3)|0,lo=lo+Math.imul(al0,bl4)|0,mid=mid+Math.imul(al0,bh4)|0,mid=mid+Math.imul(ah0,bl4)|0,hi=hi+Math.imul(ah0,bh4)|0;var w4=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w4>>>26)|0,w4&=67108863,lo=Math.imul(al5,bl0),mid=Math.imul(al5,bh0),mid=mid+Math.imul(ah5,bl0)|0,hi=Math.imul(ah5,bh0),lo=lo+Math.imul(al4,bl1)|0,mid=mid+Math.imul(al4,bh1)|0,mid=mid+Math.imul(ah4,bl1)|0,hi=hi+Math.imul(ah4,bh1)|0,lo=lo+Math.imul(al3,bl2)|0,mid=mid+Math.imul(al3,bh2)|0,mid=mid+Math.imul(ah3,bl2)|0,hi=hi+Math.imul(ah3,bh2)|0,lo=lo+Math.imul(al2,bl3)|0,mid=mid+Math.imul(al2,bh3)|0,mid=mid+Math.imul(ah2,bl3)|0,hi=hi+Math.imul(ah2,bh3)|0,lo=lo+Math.imul(al1,bl4)|0,mid=mid+Math.imul(al1,bh4)|0,mid=mid+Math.imul(ah1,bl4)|0,hi=hi+Math.imul(ah1,bh4)|0,lo=lo+Math.imul(al0,bl5)|0,mid=mid+Math.imul(al0,bh5)|0,mid=mid+Math.imul(ah0,bl5)|0,hi=hi+Math.imul(ah0,bh5)|0;var w5=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w5>>>26)|0,w5&=67108863,lo=Math.imul(al6,bl0),mid=Math.imul(al6,bh0),mid=mid+Math.imul(ah6,bl0)|0,hi=Math.imul(ah6,bh0),lo=lo+Math.imul(al5,bl1)|0,mid=mid+Math.imul(al5,bh1)|0,mid=mid+Math.imul(ah5,bl1)|0,hi=hi+Math.imul(ah5,bh1)|0,lo=lo+Math.imul(al4,bl2)|0,mid=mid+Math.imul(al4,bh2)|0,mid=mid+Math.imul(ah4,bl2)|0,hi=hi+Math.imul(ah4,bh2)|0,lo=lo+Math.imul(al3,bl3)|0,mid=mid+Math.imul(al3,bh3)|0,mid=mid+Math.imul(ah3,bl3)|0,hi=hi+Math.imul(ah3,bh3)|0,lo=lo+Math.imul(al2,bl4)|0,mid=mid+Math.imul(al2,bh4)|0,mid=mid+Math.imul(ah2,bl4)|0,hi=hi+Math.imul(ah2,bh4)|0,lo=lo+Math.imul(al1,bl5)|0,mid=mid+Math.imul(al1,bh5)|0,mid=mid+Math.imul(ah1,bl5)|0,hi=hi+Math.imul(ah1,bh5)|0,lo=lo+Math.imul(al0,bl6)|0,mid=mid+Math.imul(al0,bh6)|0,mid=mid+Math.imul(ah0,bl6)|0,hi=hi+Math.imul(ah0,bh6)|0;var w6=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w6>>>26)|0,w6&=67108863,lo=Math.imul(al7,bl0),mid=Math.imul(al7,bh0),mid=mid+Math.imul(ah7,bl0)|0,hi=Math.imul(ah7,bh0),lo=lo+Math.imul(al6,bl1)|0,mid=mid+Math.imul(al6,bh1)|0,mid=mid+Math.imul(ah6,bl1)|0,hi=hi+Math.imul(ah6,bh1)|0,lo=lo+Math.imul(al5,bl2)|0,mid=mid+Math.imul(al5,bh2)|0,mid=mid+Math.imul(ah5,bl2)|0,hi=hi+Math.imul(ah5,bh2)|0,lo=lo+Math.imul(al4,bl3)|0,mid=mid+Math.imul(al4,bh3)|0,mid=mid+Math.imul(ah4,bl3)|0,hi=hi+Math.imul(ah4,bh3)|0,lo=lo+Math.imul(al3,bl4)|0,mid=mid+Math.imul(al3,bh4)|0,mid=mid+Math.imul(ah3,bl4)|0,hi=hi+Math.imul(ah3,bh4)|0,lo=lo+Math.imul(al2,bl5)|0,mid=mid+Math.imul(al2,bh5)|0,mid=mid+Math.imul(ah2,bl5)|0,hi=hi+Math.imul(ah2,bh5)|0,lo=lo+Math.imul(al1,bl6)|0,mid=mid+Math.imul(al1,bh6)|0,mid=mid+Math.imul(ah1,bl6)|0,hi=hi+Math.imul(ah1,bh6)|0,lo=lo+Math.imul(al0,bl7)|0,mid=mid+Math.imul(al0,bh7)|0,mid=mid+Math.imul(ah0,bl7)|0,hi=hi+Math.imul(ah0,bh7)|0;var w7=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w7>>>26)|0,w7&=67108863,lo=Math.imul(al8,bl0),mid=Math.imul(al8,bh0),mid=mid+Math.imul(ah8,bl0)|0,hi=Math.imul(ah8,bh0),lo=lo+Math.imul(al7,bl1)|0,mid=mid+Math.imul(al7,bh1)|0,mid=mid+Math.imul(ah7,bl1)|0,hi=hi+Math.imul(ah7,bh1)|0,lo=lo+Math.imul(al6,bl2)|0,mid=mid+Math.imul(al6,bh2)|0,mid=mid+Math.imul(ah6,bl2)|0,hi=hi+Math.imul(ah6,bh2)|0,lo=lo+Math.imul(al5,bl3)|0,mid=mid+Math.imul(al5,bh3)|0,mid=mid+Math.imul(ah5,bl3)|0,hi=hi+Math.imul(ah5,bh3)|0,lo=lo+Math.imul(al4,bl4)|0,mid=mid+Math.imul(al4,bh4)|0,mid=mid+Math.imul(ah4,bl4)|0,hi=hi+Math.imul(ah4,bh4)|0,lo=lo+Math.imul(al3,bl5)|0,mid=mid+Math.imul(al3,bh5)|0,mid=mid+Math.imul(ah3,bl5)|0,hi=hi+Math.imul(ah3,bh5)|0,lo=lo+Math.imul(al2,bl6)|0,mid=mid+Math.imul(al2,bh6)|0,mid=mid+Math.imul(ah2,bl6)|0,hi=hi+Math.imul(ah2,bh6)|0,lo=lo+Math.imul(al1,bl7)|0,mid=mid+Math.imul(al1,bh7)|0,mid=mid+Math.imul(ah1,bl7)|0,hi=hi+Math.imul(ah1,bh7)|0,lo=lo+Math.imul(al0,bl8)|0,mid=mid+Math.imul(al0,bh8)|0,mid=mid+Math.imul(ah0,bl8)|0,hi=hi+Math.imul(ah0,bh8)|0;var w8=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w8>>>26)|0,w8&=67108863,lo=Math.imul(al9,bl0),mid=Math.imul(al9,bh0),mid=mid+Math.imul(ah9,bl0)|0,hi=Math.imul(ah9,bh0),lo=lo+Math.imul(al8,bl1)|0,mid=mid+Math.imul(al8,bh1)|0,mid=mid+Math.imul(ah8,bl1)|0,hi=hi+Math.imul(ah8,bh1)|0,lo=lo+Math.imul(al7,bl2)|0,mid=mid+Math.imul(al7,bh2)|0,mid=mid+Math.imul(ah7,bl2)|0,hi=hi+Math.imul(ah7,bh2)|0,lo=lo+Math.imul(al6,bl3)|0,mid=mid+Math.imul(al6,bh3)|0,mid=mid+Math.imul(ah6,bl3)|0,hi=hi+Math.imul(ah6,bh3)|0,lo=lo+Math.imul(al5,bl4)|0,mid=mid+Math.imul(al5,bh4)|0,mid=mid+Math.imul(ah5,bl4)|0,hi=hi+Math.imul(ah5,bh4)|0,lo=lo+Math.imul(al4,bl5)|0,mid=mid+Math.imul(al4,bh5)|0,mid=mid+Math.imul(ah4,bl5)|0,hi=hi+Math.imul(ah4,bh5)|0,lo=lo+Math.imul(al3,bl6)|0,mid=mid+Math.imul(al3,bh6)|0,mid=mid+Math.imul(ah3,bl6)|0,hi=hi+Math.imul(ah3,bh6)|0,lo=lo+Math.imul(al2,bl7)|0,mid=mid+Math.imul(al2,bh7)|0,mid=mid+Math.imul(ah2,bl7)|0,hi=hi+Math.imul(ah2,bh7)|0,lo=lo+Math.imul(al1,bl8)|0,mid=mid+Math.imul(al1,bh8)|0,mid=mid+Math.imul(ah1,bl8)|0,hi=hi+Math.imul(ah1,bh8)|0,lo=lo+Math.imul(al0,bl9)|0,mid=mid+Math.imul(al0,bh9)|0,mid=mid+Math.imul(ah0,bl9)|0,hi=hi+Math.imul(ah0,bh9)|0;var w9=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w9>>>26)|0,w9&=67108863,lo=Math.imul(al9,bl1),mid=Math.imul(al9,bh1),mid=mid+Math.imul(ah9,bl1)|0,hi=Math.imul(ah9,bh1),lo=lo+Math.imul(al8,bl2)|0,mid=mid+Math.imul(al8,bh2)|0,mid=mid+Math.imul(ah8,bl2)|0,hi=hi+Math.imul(ah8,bh2)|0,lo=lo+Math.imul(al7,bl3)|0,mid=mid+Math.imul(al7,bh3)|0,mid=mid+Math.imul(ah7,bl3)|0,hi=hi+Math.imul(ah7,bh3)|0,lo=lo+Math.imul(al6,bl4)|0,mid=mid+Math.imul(al6,bh4)|0,mid=mid+Math.imul(ah6,bl4)|0,hi=hi+Math.imul(ah6,bh4)|0,lo=lo+Math.imul(al5,bl5)|0,mid=mid+Math.imul(al5,bh5)|0,mid=mid+Math.imul(ah5,bl5)|0,hi=hi+Math.imul(ah5,bh5)|0,lo=lo+Math.imul(al4,bl6)|0,mid=mid+Math.imul(al4,bh6)|0,mid=mid+Math.imul(ah4,bl6)|0,hi=hi+Math.imul(ah4,bh6)|0,lo=lo+Math.imul(al3,bl7)|0,mid=mid+Math.imul(al3,bh7)|0,mid=mid+Math.imul(ah3,bl7)|0,hi=hi+Math.imul(ah3,bh7)|0,lo=lo+Math.imul(al2,bl8)|0,mid=mid+Math.imul(al2,bh8)|0,mid=mid+Math.imul(ah2,bl8)|0,hi=hi+Math.imul(ah2,bh8)|0,lo=lo+Math.imul(al1,bl9)|0,mid=mid+Math.imul(al1,bh9)|0,mid=mid+Math.imul(ah1,bl9)|0,hi=hi+Math.imul(ah1,bh9)|0;var w10=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w10>>>26)|0,w10&=67108863,lo=Math.imul(al9,bl2),mid=Math.imul(al9,bh2),mid=mid+Math.imul(ah9,bl2)|0,hi=Math.imul(ah9,bh2),lo=lo+Math.imul(al8,bl3)|0,mid=mid+Math.imul(al8,bh3)|0,mid=mid+Math.imul(ah8,bl3)|0,hi=hi+Math.imul(ah8,bh3)|0,lo=lo+Math.imul(al7,bl4)|0,mid=mid+Math.imul(al7,bh4)|0,mid=mid+Math.imul(ah7,bl4)|0,hi=hi+Math.imul(ah7,bh4)|0,lo=lo+Math.imul(al6,bl5)|0,mid=mid+Math.imul(al6,bh5)|0,mid=mid+Math.imul(ah6,bl5)|0,hi=hi+Math.imul(ah6,bh5)|0,lo=lo+Math.imul(al5,bl6)|0,mid=mid+Math.imul(al5,bh6)|0,mid=mid+Math.imul(ah5,bl6)|0,hi=hi+Math.imul(ah5,bh6)|0,lo=lo+Math.imul(al4,bl7)|0,mid=mid+Math.imul(al4,bh7)|0,mid=mid+Math.imul(ah4,bl7)|0,hi=hi+Math.imul(ah4,bh7)|0,lo=lo+Math.imul(al3,bl8)|0,mid=mid+Math.imul(al3,bh8)|0,mid=mid+Math.imul(ah3,bl8)|0,hi=hi+Math.imul(ah3,bh8)|0,lo=lo+Math.imul(al2,bl9)|0,mid=mid+Math.imul(al2,bh9)|0,mid=mid+Math.imul(ah2,bl9)|0,hi=hi+Math.imul(ah2,bh9)|0;var w11=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w11>>>26)|0,w11&=67108863,lo=Math.imul(al9,bl3),mid=Math.imul(al9,bh3),mid=mid+Math.imul(ah9,bl3)|0,hi=Math.imul(ah9,bh3),lo=lo+Math.imul(al8,bl4)|0,mid=mid+Math.imul(al8,bh4)|0,mid=mid+Math.imul(ah8,bl4)|0,hi=hi+Math.imul(ah8,bh4)|0,lo=lo+Math.imul(al7,bl5)|0,mid=mid+Math.imul(al7,bh5)|0,mid=mid+Math.imul(ah7,bl5)|0,hi=hi+Math.imul(ah7,bh5)|0,lo=lo+Math.imul(al6,bl6)|0,mid=mid+Math.imul(al6,bh6)|0,mid=mid+Math.imul(ah6,bl6)|0,hi=hi+Math.imul(ah6,bh6)|0,lo=lo+Math.imul(al5,bl7)|0,mid=mid+Math.imul(al5,bh7)|0,mid=mid+Math.imul(ah5,bl7)|0,hi=hi+Math.imul(ah5,bh7)|0,lo=lo+Math.imul(al4,bl8)|0,mid=mid+Math.imul(al4,bh8)|0,mid=mid+Math.imul(ah4,bl8)|0,hi=hi+Math.imul(ah4,bh8)|0,lo=lo+Math.imul(al3,bl9)|0,mid=mid+Math.imul(al3,bh9)|0,mid=mid+Math.imul(ah3,bl9)|0,hi=hi+Math.imul(ah3,bh9)|0;var w12=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w12>>>26)|0,w12&=67108863,lo=Math.imul(al9,bl4),mid=Math.imul(al9,bh4),mid=mid+Math.imul(ah9,bl4)|0,hi=Math.imul(ah9,bh4),lo=lo+Math.imul(al8,bl5)|0,mid=mid+Math.imul(al8,bh5)|0,mid=mid+Math.imul(ah8,bl5)|0,hi=hi+Math.imul(ah8,bh5)|0,lo=lo+Math.imul(al7,bl6)|0,mid=mid+Math.imul(al7,bh6)|0,mid=mid+Math.imul(ah7,bl6)|0,hi=hi+Math.imul(ah7,bh6)|0,lo=lo+Math.imul(al6,bl7)|0,mid=mid+Math.imul(al6,bh7)|0,mid=mid+Math.imul(ah6,bl7)|0,hi=hi+Math.imul(ah6,bh7)|0,lo=lo+Math.imul(al5,bl8)|0,mid=mid+Math.imul(al5,bh8)|0,mid=mid+Math.imul(ah5,bl8)|0,hi=hi+Math.imul(ah5,bh8)|0,lo=lo+Math.imul(al4,bl9)|0,mid=mid+Math.imul(al4,bh9)|0,mid=mid+Math.imul(ah4,bl9)|0,hi=hi+Math.imul(ah4,bh9)|0;var w13=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w13>>>26)|0,w13&=67108863,lo=Math.imul(al9,bl5),mid=Math.imul(al9,bh5),mid=mid+Math.imul(ah9,bl5)|0,hi=Math.imul(ah9,bh5),lo=lo+Math.imul(al8,bl6)|0,mid=mid+Math.imul(al8,bh6)|0,mid=mid+Math.imul(ah8,bl6)|0,hi=hi+Math.imul(ah8,bh6)|0,lo=lo+Math.imul(al7,bl7)|0,mid=mid+Math.imul(al7,bh7)|0,mid=mid+Math.imul(ah7,bl7)|0,hi=hi+Math.imul(ah7,bh7)|0,lo=lo+Math.imul(al6,bl8)|0,mid=mid+Math.imul(al6,bh8)|0,mid=mid+Math.imul(ah6,bl8)|0,hi=hi+Math.imul(ah6,bh8)|0,lo=lo+Math.imul(al5,bl9)|0,mid=mid+Math.imul(al5,bh9)|0,mid=mid+Math.imul(ah5,bl9)|0,hi=hi+Math.imul(ah5,bh9)|0;var w14=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w14>>>26)|0,w14&=67108863,lo=Math.imul(al9,bl6),mid=Math.imul(al9,bh6),mid=mid+Math.imul(ah9,bl6)|0,hi=Math.imul(ah9,bh6),lo=lo+Math.imul(al8,bl7)|0,mid=mid+Math.imul(al8,bh7)|0,mid=mid+Math.imul(ah8,bl7)|0,hi=hi+Math.imul(ah8,bh7)|0,lo=lo+Math.imul(al7,bl8)|0,mid=mid+Math.imul(al7,bh8)|0,mid=mid+Math.imul(ah7,bl8)|0,hi=hi+Math.imul(ah7,bh8)|0,lo=lo+Math.imul(al6,bl9)|0,mid=mid+Math.imul(al6,bh9)|0,mid=mid+Math.imul(ah6,bl9)|0,hi=hi+Math.imul(ah6,bh9)|0;var w15=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w15>>>26)|0,w15&=67108863,lo=Math.imul(al9,bl7),mid=Math.imul(al9,bh7),mid=mid+Math.imul(ah9,bl7)|0,hi=Math.imul(ah9,bh7),lo=lo+Math.imul(al8,bl8)|0,mid=mid+Math.imul(al8,bh8)|0,mid=mid+Math.imul(ah8,bl8)|0,hi=hi+Math.imul(ah8,bh8)|0,lo=lo+Math.imul(al7,bl9)|0,mid=mid+Math.imul(al7,bh9)|0,mid=mid+Math.imul(ah7,bl9)|0,hi=hi+Math.imul(ah7,bh9)|0;var w16=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w16>>>26)|0,w16&=67108863,lo=Math.imul(al9,bl8),mid=Math.imul(al9,bh8),mid=mid+Math.imul(ah9,bl8)|0,hi=Math.imul(ah9,bh8),lo=lo+Math.imul(al8,bl9)|0,mid=mid+Math.imul(al8,bh9)|0,mid=mid+Math.imul(ah8,bl9)|0,hi=hi+Math.imul(ah8,bh9)|0;var w17=(c+lo|0)+((8191&mid)<<13)|0;c=(hi+(mid>>>13)|0)+(w17>>>26)|0,w17&=67108863,lo=Math.imul(al9,bl9),mid=Math.imul(al9,bh9),mid=mid+Math.imul(ah9,bl9)|0,hi=Math.imul(ah9,bh9);var w18=(c+lo|0)+((8191&mid)<<13)|0;return c=(hi+(mid>>>13)|0)+(w18>>>26)|0,w18&=67108863,o[0]=w0,o[1]=w1,o[2]=w2,o[3]=w3,o[4]=w4,o[5]=w5,o[6]=w6,o[7]=w7,o[8]=w8,o[9]=w9,o[10]=w10,o[11]=w11,o[12]=w12,o[13]=w13,o[14]=w14,o[15]=w15,o[16]=w16,o[17]=w17,o[18]=w18,0!==c&&(o[19]=c,out.length++),out};Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(num,out){var len=this.length+num.length;return 10===this.length&&10===num.length?comb10MulTo(this,num,out):len<63?smallMulTo(this,num,out):len<1024?bigMulTo(this,num,out):jumboMulTo(this,num,out)},FFTM.prototype.makeRBT=function(N){for(var t=new Array(N),l=BN.prototype._countBits(N)-1,i=0;i<N;i++)t[i]=this.revBin(i,l,N);return t},FFTM.prototype.revBin=function(x,l,N){if(0===x||x===N-1)return x;for(var rb=0,i=0;i<l;i++)rb|=(1&x)<<l-i-1,x>>=1;return rb},FFTM.prototype.permute=function(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++)rtws[i]=rws[rbt[i]],itws[i]=iws[rbt[i]]},FFTM.prototype.transform=function(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1)for(var l=s<<1,rtwdf=Math.cos(2*Math.PI/l),itwdf=Math.sin(2*Math.PI/l),p=0;p<N;p+=l)for(var rtwdf_=rtwdf,itwdf_=itwdf,j=0;j<s;j++){var re=rtws[p+j],ie=itws[p+j],ro=rtws[p+j+s],io=itws[p+j+s],rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro,ro=rx,rtws[p+j]=re+ro,itws[p+j]=ie+io,rtws[p+j+s]=re-ro,itws[p+j+s]=ie-io,j!==l&&(rx=rtwdf*rtwdf_-itwdf*itwdf_,itwdf_=rtwdf*itwdf_+itwdf*rtwdf_,rtwdf_=rx)}},FFTM.prototype.guessLen13b=function(n,m){var N=1|Math.max(m,n),odd=1&N,i=0;for(N=N/2|0;N;N>>>=1)i++;return 1<<i+1+odd},FFTM.prototype.conjugate=function(rws,iws,N){if(!(N<=1))for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1],rws[N-i-1]=t,t=iws[i],iws[i]=-iws[N-i-1],iws[N-i-1]=-t}},FFTM.prototype.normalize13b=function(ws,N){for(var carry=0,i=0;i<N/2;i++){var w=8192*Math.round(ws[2*i+1]/N)+Math.round(ws[2*i]/N)+carry;ws[i]=67108863&w,carry=w<67108864?0:w/67108864|0}return ws},FFTM.prototype.convert13b=function(ws,len,rws,N){for(var carry=0,i=0;i<len;i++)carry+=0|ws[i],rws[2*i]=8191&carry,carry>>>=13,rws[2*i+1]=8191&carry,carry>>>=13;for(i=2*len;i<N;++i)rws[i]=0;assert(0===carry),assert(0==(-8192&carry))},FFTM.prototype.stub=function(N){for(var ph=new Array(N),i=0;i<N;i++)ph[i]=0;return ph},FFTM.prototype.mulp=function(x,y,out){var N=2*this.guessLen13b(x.length,y.length),rbt=this.makeRBT(N),_=this.stub(N),rws=new Array(N),rwst=new Array(N),iwst=new Array(N),nrws=new Array(N),nrwst=new Array(N),niwst=new Array(N),rmws=out.words;rmws.length=N,this.convert13b(x.words,x.length,rws,N),this.convert13b(y.words,y.length,nrws,N),this.transform(rws,_,rwst,iwst,N,rbt),this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i],rwst[i]=rx}return this.conjugate(rwst,iwst,N),this.transform(rwst,iwst,rmws,_,N,rbt),this.conjugate(rmws,_,N),this.normalize13b(rmws,N),out.negative=x.negative^y.negative,out.length=x.length+y.length,out.strip()},BN.prototype.mul=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),this.mulTo(num,out)},BN.prototype.mulf=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),jumboMulTo(this,num,out)},BN.prototype.imul=function(num){return this.clone().mulTo(num,this)},BN.prototype.imuln=function(num){assert("number"==typeof num),assert(num<67108864);for(var carry=0,i=0;i<this.length;i++){var w=(0|this.words[i])*num,lo=(67108863&w)+(67108863&carry);carry>>=26,carry+=w/67108864|0,carry+=lo>>>26,this.words[i]=67108863&lo}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.muln=function(num){return this.clone().imuln(num)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(num){var w=toBitArray(num);if(0===w.length)return new BN(1);for(var res=this,i=0;i<w.length&&0===w[i];i++,res=res.sqr());if(++i<w.length)for(var q=res.sqr();i<w.length;i++,q=q.sqr())0!==w[i]&&(res=res.mul(q));return res},BN.prototype.iushln=function(bits){assert("number"==typeof bits&&bits>=0);var i,r=bits%26,s=(bits-r)/26,carryMask=67108863>>>26-r<<26-r;if(0!==r){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask,c=(0|this.words[i])-newCarry<<r;this.words[i]=c|carry,carry=newCarry>>>26-r}carry&&(this.words[i]=carry,this.length++)}if(0!==s){for(i=this.length-1;i>=0;i--)this.words[i+s]=this.words[i];for(i=0;i<s;i++)this.words[i]=0;this.length+=s}return this.strip()},BN.prototype.ishln=function(bits){return assert(0===this.negative),this.iushln(bits)},BN.prototype.iushrn=function(bits,hint,extended){assert("number"==typeof bits&&bits>=0);var h;h=hint?(hint-hint%26)/26:0;var r=bits%26,s=Math.min((bits-r)/26,this.length),mask=67108863^67108863>>>r<<r,maskedWords=extended;if(h-=s,h=Math.max(0,h),maskedWords){for(var i=0;i<s;i++)maskedWords.words[i]=this.words[i];maskedWords.length=s}if(0===s);else if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;var carry=0;for(i=this.length-1;i>=0&&(0!==carry||i>=h);i--){var word=0|this.words[i];this.words[i]=carry<<26-r|word>>>r,carry=word&mask}return maskedWords&&0!==carry&&(maskedWords.words[maskedWords.length++]=carry),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function(bits,hint,extended){return assert(0===this.negative),this.iushrn(bits,hint,extended)},BN.prototype.shln=function(bits){return this.clone().ishln(bits)},BN.prototype.ushln=function(bits){return this.clone().iushln(bits)},BN.prototype.shrn=function(bits){return this.clone().ishrn(bits)},BN.prototype.ushrn=function(bits){return this.clone().iushrn(bits)},BN.prototype.testn=function(bit){assert("number"==typeof bit&&bit>=0);var r=bit%26,s=(bit-r)/26,q=1<<r;return!(this.length<=s)&&!!(this.words[s]&q)},BN.prototype.imaskn=function(bits){assert("number"==typeof bits&&bits>=0);var r=bits%26,s=(bits-r)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=s)return this;if(0!==r&&s++,this.length=Math.min(s,this.length),0!==r){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()},BN.prototype.maskn=function(bits){return this.clone().imaskn(bits)},BN.prototype.iaddn=function(num){return assert("number"==typeof num),assert(num<67108864),num<0?this.isubn(-num):0!==this.negative?1===this.length&&(0|this.words[0])<num?(this.words[0]=num-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(num),this.negative=1,this):this._iaddn(num)},BN.prototype._iaddn=function(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},BN.prototype.isubn=function(num){if(assert("number"==typeof num),assert(num<67108864),num<0)return this.iaddn(-num);if(0!==this.negative)return this.negative=0,this.iaddn(num),this.negative=1,this;if(this.words[0]-=num,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},BN.prototype.addn=function(num){return this.clone().iaddn(num)},BN.prototype.subn=function(num){return this.clone().isubn(num)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(num,mul,shift){var i,len=num.length+shift;this._expand(len);var w,carry=0;for(i=0;i<num.length;i++){w=(0|this.words[i+shift])+carry;var right=(0|num.words[i])*mul;w-=67108863&right,carry=(w>>26)-(right/67108864|0),this.words[i+shift]=67108863&w}for(;i<this.length-shift;i++)w=(0|this.words[i+shift])+carry,carry=w>>26,this.words[i+shift]=67108863&w;if(0===carry)return this.strip();for(assert(-1===carry),carry=0,i=0;i<this.length;i++)w=-(0|this.words[i])+carry,carry=w>>26,this.words[i]=67108863&w;return this.negative=1,this.strip()},BN.prototype._wordDiv=function(num,mode){var shift=this.length-num.length,a=this.clone(),b=num,bhi=0|b.words[b.length-1];0!==(shift=26-this._countBits(bhi))&&(b=b.ushln(shift),a.iushln(shift),bhi=0|b.words[b.length-1]);var q,m=a.length-b.length;if("mod"!==mode){q=new BN(null),q.length=m+1,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}var diff=a.clone()._ishlnsubmul(b,1,m);0===diff.negative&&(a=diff,q&&(q.words[m]=1));for(var j=m-1;j>=0;j--){var qj=67108864*(0|a.words[b.length+j])+(0|a.words[b.length+j-1]);for(qj=Math.min(qj/bhi|0,67108863),a._ishlnsubmul(b,qj,j);0!==a.negative;)qj--,a.negative=0,a._ishlnsubmul(b,1,j),a.isZero()||(a.negative^=1);q&&(q.words[j]=qj)}return q&&q.strip(),a.strip(),"div"!==mode&&0!==shift&&a.iushrn(shift),{div:q||null,mod:a}},BN.prototype.divmod=function(num,mode,positive){if(assert(!num.isZero()),this.isZero())return{div:new BN(0),mod:new BN(0)};var div,mod,res;return 0!==this.negative&&0===num.negative?(res=this.neg().divmod(num,mode),"mod"!==mode&&(div=res.div.neg()),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.iadd(num)),{div:div,mod:mod}):0===this.negative&&0!==num.negative?(res=this.divmod(num.neg(),mode),"mod"!==mode&&(div=res.div.neg()),{div:div,mod:res.mod}):0!=(this.negative&num.negative)?(res=this.neg().divmod(num.neg(),mode),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.isub(num)),{div:res.div,mod:mod}):num.length>this.length||this.cmp(num)<0?{div:new BN(0),mod:this}:1===num.length?"div"===mode?{div:this.divn(num.words[0]),mod:null}:"mod"===mode?{div:null,mod:new BN(this.modn(num.words[0]))}:{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}:this._wordDiv(num,mode)},BN.prototype.div=function(num){return this.divmod(num,"div",!1).div},BN.prototype.mod=function(num){return this.divmod(num,"mod",!1).mod},BN.prototype.umod=function(num){return this.divmod(num,"mod",!0).mod},BN.prototype.divRound=function(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=0!==dm.div.negative?dm.mod.isub(num):dm.mod,half=num.ushrn(1),r2=num.andln(1),cmp=mod.cmp(half);return cmp<0||1===r2&&0===cmp?dm.div:0!==dm.div.negative?dm.div.isubn(1):dm.div.iaddn(1)},BN.prototype.modn=function(num){assert(num<=67108863);for(var p=(1<<26)%num,acc=0,i=this.length-1;i>=0;i--)acc=(p*acc+(0|this.words[i]))%num;return acc},BN.prototype.idivn=function(num){assert(num<=67108863);for(var carry=0,i=this.length-1;i>=0;i--){var w=(0|this.words[i])+67108864*carry;this.words[i]=w/num|0,carry=w%num}return this.strip()},BN.prototype.divn=function(num){return this.clone().idivn(num)},BN.prototype.egcd=function(p){assert(0===p.negative),assert(!p.isZero());var x=this,y=p.clone();x=0!==x.negative?x.umod(p):x.clone();for(var A=new BN(1),B=new BN(0),C=new BN(0),D=new BN(1),g=0;x.isEven()&&y.isEven();)x.iushrn(1),y.iushrn(1),++g;for(var yp=y.clone(),xp=x.clone();!x.isZero();){for(var i=0,im=1;0==(x.words[0]&im)&&i<26;++i,im<<=1);if(i>0)for(x.iushrn(i);i-- >0;)(A.isOdd()||B.isOdd())&&(A.iadd(yp),B.isub(xp)),A.iushrn(1),B.iushrn(1);for(var j=0,jm=1;0==(y.words[0]&jm)&&j<26;++j,jm<<=1);if(j>0)for(y.iushrn(j);j-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(yp),D.isub(xp)),C.iushrn(1),D.iushrn(1);x.cmp(y)>=0?(x.isub(y),A.isub(C),B.isub(D)):(y.isub(x),C.isub(A),D.isub(B))}return{a:C,b:D,gcd:y.iushln(g)}},BN.prototype._invmp=function(p){assert(0===p.negative),assert(!p.isZero());var a=this,b=p.clone();a=0!==a.negative?a.umod(p):a.clone();for(var x1=new BN(1),x2=new BN(0),delta=b.clone();a.cmpn(1)>0&&b.cmpn(1)>0;){for(var i=0,im=1;0==(a.words[0]&im)&&i<26;++i,im<<=1);if(i>0)for(a.iushrn(i);i-- >0;)x1.isOdd()&&x1.iadd(delta),x1.iushrn(1);for(var j=0,jm=1;0==(b.words[0]&jm)&&j<26;++j,jm<<=1);if(j>0)for(b.iushrn(j);j-- >0;)x2.isOdd()&&x2.iadd(delta),x2.iushrn(1);a.cmp(b)>=0?(a.isub(b),x1.isub(x2)):(b.isub(a),x2.isub(x1))}var res;return res=0===a.cmpn(1)?x1:x2,res.cmpn(0)<0&&res.iadd(p),res},BN.prototype.gcd=function(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone(),b=num.clone();a.negative=0,b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(r<0){var t=a;a=b,b=t}else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(shift)},BN.prototype.invm=function(num){return this.egcd(num).a.umod(num)},BN.prototype.isEven=function(){return 0==(1&this.words[0])},BN.prototype.isOdd=function(){return 1==(1&this.words[0])},BN.prototype.andln=function(num){return this.words[0]&num},BN.prototype.bincn=function(bit){assert("number"==typeof bit);var r=bit%26,s=(bit-r)/26,q=1<<r;if(this.length<=s)return this._expand(s+1),this.words[s]|=q,this;for(var carry=q,i=s;0!==carry&&i<this.length;i++){var w=0|this.words[i];w+=carry,carry=w>>>26,w&=67108863,this.words[i]=w}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(num){var negative=num<0;if(0!==this.negative&&!negative)return-1;if(0===this.negative&&negative)return 1;this.strip();var res;if(this.length>1)res=1;else{negative&&(num=-num),assert(num<=67108863,"Number is too big");var w=0|this.words[0];res=w===num?0:w<num?-1:1}return 0!==this.negative?0|-res:res},BN.prototype.cmp=function(num){if(0!==this.negative&&0===num.negative)return-1;if(0===this.negative&&0!==num.negative)return 1;var res=this.ucmp(num);return 0!==this.negative?0|-res:res},BN.prototype.ucmp=function(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;for(var res=0,i=this.length-1;i>=0;i--){var a=0|this.words[i],b=0|num.words[i];if(a!==b){a<b?res=-1:a>b&&(res=1);break}}return res},BN.prototype.gtn=function(num){return 1===this.cmpn(num)},BN.prototype.gt=function(num){return 1===this.cmp(num)},BN.prototype.gten=function(num){return this.cmpn(num)>=0},BN.prototype.gte=function(num){return this.cmp(num)>=0},BN.prototype.ltn=function(num){return-1===this.cmpn(num)},BN.prototype.lt=function(num){return-1===this.cmp(num)},BN.prototype.lten=function(num){return this.cmpn(num)<=0},BN.prototype.lte=function(num){return this.cmp(num)<=0},BN.prototype.eqn=function(num){return 0===this.cmpn(num)},BN.prototype.eq=function(num){return 0===this.cmp(num)},BN.red=function(num){return new Red(num)},BN.prototype.toRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),ctx.convertTo(this)._forceRed(ctx)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(ctx){return this.red=ctx,this},BN.prototype.forceRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),this._forceRed(ctx)},BN.prototype.redAdd=function(num){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,num)},BN.prototype.redIAdd=function(num){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,num)},BN.prototype.redSub=function(num){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,num)},BN.prototype.redISub=function(num){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,num)},BN.prototype.redShl=function(num){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,num)},BN.prototype.redMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.mul(this,num)},BN.prototype.redIMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.imul(this,num)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(num){return assert(this.red&&!num.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};MPrime.prototype._tmp=function(){var tmp=new BN(null);return tmp.words=new Array(Math.ceil(this.n/13)),tmp},MPrime.prototype.ireduce=function(num){var rlen,r=num;do{this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),rlen=r.bitLength()}while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);return 0===cmp?(r.words[0]=0,r.length=1):cmp>0?r.isub(this.p):r.strip(),r},MPrime.prototype.split=function(input,out){input.iushrn(this.n,0,out)},MPrime.prototype.imulK=function(num){return num.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(input,output){for(var outLen=Math.min(input.length,9),i=0;i<outLen;i++)output.words[i]=input.words[i];if(output.length=outLen,input.length<=9)return input.words[0]=0,void(input.length=1);var prev=input.words[9];for(output.words[output.length++]=4194303&prev,i=10;i<input.length;i++){var next=0|input.words[i];input.words[i-10]=(4194303&next)<<4|prev>>>22,prev=next}prev>>>=22,input.words[i-10]=prev,0===prev&&input.length>10?input.length-=10:input.length-=9},K256.prototype.imulK=function(num){num.words[num.length]=0,num.words[num.length+1]=0,num.length+=2;for(var lo=0,i=0;i<num.length;i++){var w=0|num.words[i];lo+=977*w,num.words[i]=67108863&lo,lo=64*w+(lo/67108864|0)}return 0===num.words[num.length-1]&&(num.length--,0===num.words[num.length-1]&&num.length--),num},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(num){for(var carry=0,i=0;i<num.length;i++){var hi=19*(0|num.words[i])+carry,lo=67108863&hi;hi>>>=26,num.words[i]=lo,carry=hi}return 0!==carry&&(num.words[num.length++]=carry),num},BN._prime=function(name){if(primes[name])return primes[name];var prime;if("k256"===name)prime=new K256;else if("p224"===name)prime=new P224;else if("p192"===name)prime=new P192;else{if("p25519"!==name)throw new Error("Unknown prime "+name);prime=new P25519}return primes[name]=prime,prime},Red.prototype._verify1=function(a){assert(0===a.negative,"red works only with positives"),assert(a.red,"red works only with red numbers")},Red.prototype._verify2=function(a,b){assert(0==(a.negative|b.negative),"red works only with positives"),assert(a.red&&a.red===b.red,"red works only with red numbers")},Red.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Red.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Red.prototype.add=function(a,b){this._verify2(a,b);var res=a.add(b);return res.cmp(this.m)>=0&&res.isub(this.m),res._forceRed(this)},Red.prototype.iadd=function(a,b){this._verify2(a,b);var res=a.iadd(b);return res.cmp(this.m)>=0&&res.isub(this.m),res},Red.prototype.sub=function(a,b){this._verify2(a,b);var res=a.sub(b);return res.cmpn(0)<0&&res.iadd(this.m),res._forceRed(this)},Red.prototype.isub=function(a,b){this._verify2(a,b);var res=a.isub(b);return res.cmpn(0)<0&&res.iadd(this.m),res},Red.prototype.shl=function(a,num){return this._verify1(a),this.imod(a.ushln(num))},Red.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},Red.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},Red.prototype.isqr=function(a){return this.imul(a,a.clone())},Red.prototype.sqr=function(a){return this.mul(a,a)},Red.prototype.sqrt=function(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);if(assert(mod3%2==1),3===mod3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);assert(!q.isZero());var one=new BN(1).toRed(this),nOne=one.redNeg(),lpow=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new BN(2*z*z).toRed(this);0!==this.pow(z,lpow).cmp(nOne);)z.redIAdd(nOne);for(var c=this.pow(z,q),r=this.pow(a,q.addn(1).iushrn(1)),t=this.pow(a,q),m=s;0!==t.cmp(one);){for(var tmp=t,i=0;0!==tmp.cmp(one);i++)tmp=tmp.redSqr();assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b),c=b.redSqr(),t=t.redMul(c),m=i}return r},Red.prototype.invm=function(a){var inv=a._invmp(this.m);return 0!==inv.negative?(inv.negative=0,this.imod(inv).redNeg()):this.imod(inv)},Red.prototype.pow=function(a,num){if(num.isZero())return new BN(1);if(0===num.cmpn(1))return a.clone();var wnd=new Array(16);wnd[0]=new BN(1).toRed(this),wnd[1]=a;for(var i=2;i<wnd.length;i++)wnd[i]=this.mul(wnd[i-1],a);var res=wnd[0],current=0,currentLen=0,start=num.bitLength()%26;for(0===start&&(start=26),i=num.length-1;i>=0;i--){for(var word=num.words[i],j=start-1;j>=0;j--){var bit=word>>j&1;res!==wnd[0]&&(res=this.sqr(res)),0!==bit||0!==current?(current<<=1,current|=bit,(4===++currentLen||0===i&&0===j)&&(res=this.mul(res,wnd[current]),currentLen=0,current=0)):currentLen=0}start=26}return res},Red.prototype.convertTo=function(num){var r=num.umod(this.m);return r===num?r.clone():r},Red.prototype.convertFrom=function(num){var res=num.clone();return res.red=null,res},BN.mont=function(num){return new Mont(num)},inherits(Mont,Red),Mont.prototype.convertTo=function(num){return this.imod(num.ushln(this.shift))},Mont.prototype.convertFrom=function(num){var r=this.imod(num.mul(this.rinv));return r.red=null,r},Mont.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var t=a.imul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===module||module,this)}).call(exports,__webpack_require__(29)(module))},function(module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Exception=void 0;var _deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);exports.Exception=function(_Core$Exception$Excep){function Exception(){var _ref;_classCallCheck(this,Exception);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(_ref,[this].concat(args)))}return _inherits(Exception,_Core$Exception$Excep),Exception}(_deepCore2.default.Exception.Exception)},function(module,exports,__webpack_require__){(function(Buffer,process){var Crypto=__webpack_require__(27),Path=__webpack_require__(57),Util=__webpack_require__(20),Escape=__webpack_require__(479),internals={};exports.clone=function(obj,seen){if("object"!=typeof obj||null===obj)return obj;seen=seen||{orig:[],copy:[]};var lookup=seen.orig.indexOf(obj);if(-1!==lookup)return seen.copy[lookup];var newObj,cloneDeep=!1;if(Array.isArray(obj))newObj=[],cloneDeep=!0;else if(Buffer.isBuffer(obj))newObj=new Buffer(obj);else if(obj instanceof Date)newObj=new Date(obj.getTime());else if(obj instanceof RegExp)newObj=new RegExp(obj);else{var proto=Object.getPrototypeOf(obj);proto&&proto.isImmutable?newObj=obj:(newObj=Object.create(proto),cloneDeep=!0)}if(seen.orig.push(obj),seen.copy.push(newObj),cloneDeep)for(var keys=Object.getOwnPropertyNames(obj),i=0,il=keys.length;i<il;++i){var key=keys[i],descriptor=Object.getOwnPropertyDescriptor(obj,key);descriptor&&(descriptor.get||descriptor.set)?Object.defineProperty(newObj,key,descriptor):newObj[key]=exports.clone(obj[key],seen)}return newObj},exports.merge=function(target,source,isNullOverride,isMergeArrays){if(exports.assert(target&&"object"==typeof target,"Invalid target value: must be an object"),exports.assert(null===source||void 0===source||"object"==typeof source,"Invalid source value: must be null, undefined, or an object"),!source)return target;if(Array.isArray(source)){exports.assert(Array.isArray(target),"Cannot merge array onto an object"),!1===isMergeArrays&&(target.length=0);for(var i=0,il=source.length;i<il;++i)target.push(exports.clone(source[i]));return target}for(var keys=Object.keys(source),k=0,kl=keys.length;k<kl;++k){var key=keys[k],value=source[key];value&&"object"==typeof value?!target[key]||"object"!=typeof target[key]||Array.isArray(target[key])^Array.isArray(value)||value instanceof Date||Buffer.isBuffer(value)||value instanceof RegExp?target[key]=exports.clone(value):exports.merge(target[key],value,isNullOverride,isMergeArrays):null!==value&&void 0!==value?target[key]=value:!1!==isNullOverride&&(target[key]=value)}return target},exports.applyToDefaults=function(defaults,options,isNullOverride){if(exports.assert(defaults&&"object"==typeof defaults,"Invalid defaults value: must be an object"),exports.assert(!options||!0===options||"object"==typeof options,"Invalid options value: must be true, falsy or an object"),!options)return null;var copy=exports.clone(defaults);return!0===options?copy:exports.merge(copy,options,!0===isNullOverride,!1)},exports.cloneWithShallow=function(source,keys){if(!source||"object"!=typeof source)return source;var storage=internals.store(source,keys),copy=exports.clone(source);return internals.restore(copy,source,storage),copy},internals.store=function(source,keys){for(var storage={},i=0,il=keys.length;i<il;++i){var key=keys[i],value=exports.reach(source,key);void 0!==value&&(storage[key]=value,internals.reachSet(source,key,void 0))}return storage},internals.restore=function(copy,source,storage){for(var keys=Object.keys(storage),i=0,il=keys.length;i<il;++i){var key=keys[i];internals.reachSet(copy,key,storage[key]),internals.reachSet(source,key,storage[key])}},internals.reachSet=function(obj,key,value){for(var path=key.split("."),ref=obj,i=0,il=path.length;i<il;++i){var segment=path[i];i+1===il&&(ref[segment]=value),ref=ref[segment]}},exports.applyToDefaultsWithShallow=function(defaults,options,keys){if(exports.assert(defaults&&"object"==typeof defaults,"Invalid defaults value: must be an object"),exports.assert(!options||!0===options||"object"==typeof options,"Invalid options value: must be true, falsy or an object"),exports.assert(keys&&Array.isArray(keys),"Invalid keys"),!options)return null;var copy=exports.cloneWithShallow(defaults,keys);if(!0===options)return copy;var storage=internals.store(options,keys);return exports.merge(copy,options,!1,!1),internals.restore(copy,options,storage),copy},exports.deepEqual=function(obj,ref,options,seen){options=options||{prototype:!0};var type=typeof obj;if(type!==typeof ref)return!1;if("object"!==type||null===obj||null===ref)return obj===ref?0!==obj||1/obj==1/ref:obj!==obj&&ref!==ref;if(seen=seen||[],-1!==seen.indexOf(obj))return!0;if(seen.push(obj),Array.isArray(obj)){if(!Array.isArray(ref))return!1;if(!options.part&&obj.length!==ref.length)return!1;for(var i=0,il=obj.length;i<il;++i){if(options.part){for(var found=!1,r=0,rl=ref.length;r<rl;++r)if(exports.deepEqual(obj[i],ref[r],options,seen)){found=!0;break}return found}if(!exports.deepEqual(obj[i],ref[i],options,seen))return!1}return!0}if(Buffer.isBuffer(obj)){if(!Buffer.isBuffer(ref))return!1;if(obj.length!==ref.length)return!1;for(var j=0,jl=obj.length;j<jl;++j)if(obj[j]!==ref[j])return!1;return!0}if(obj instanceof Date)return ref instanceof Date&&obj.getTime()===ref.getTime();if(obj instanceof RegExp)return ref instanceof RegExp&&obj.toString()===ref.toString();if(options.prototype&&Object.getPrototypeOf(obj)!==Object.getPrototypeOf(ref))return!1;var keys=Object.getOwnPropertyNames(obj);if(!options.part&&keys.length!==Object.getOwnPropertyNames(ref).length)return!1;for(var k=0,kl=keys.length;k<kl;++k){var key=keys[k],descriptor=Object.getOwnPropertyDescriptor(obj,key);if(descriptor.get){if(!exports.deepEqual(descriptor,Object.getOwnPropertyDescriptor(ref,key),options,seen))return!1}else if(!exports.deepEqual(obj[key],ref[key],options,seen))return!1}return!0},exports.unique=function(array,key){for(var index={},result=[],i=0,il=array.length;i<il;++i){var id=key?array[i][key]:array[i];!0!==index[id]&&(result.push(array[i]),index[id]=!0)}return result},exports.mapToObject=function(array,key){if(!array)return null;for(var obj={},i=0,il=array.length;i<il;++i)key?array[i][key]&&(obj[array[i][key]]=!0):obj[array[i]]=!0;return obj},exports.intersect=function(array1,array2,justFirst){if(!array1||!array2)return[];for(var common=[],hash=Array.isArray(array1)?exports.mapToObject(array1):array1,found={},i=0,il=array2.length;i<il;++i)if(hash[array2[i]]&&!found[array2[i]]){if(justFirst)return array2[i];common.push(array2[i]),found[array2[i]]=!0}return justFirst?null:common},exports.contain=function(ref,values,options){var valuePairs=null;"object"!=typeof ref||"object"!=typeof values||Array.isArray(ref)||Array.isArray(values)?values=[].concat(values):(valuePairs=values,values=Object.keys(values)),options=options||{},exports.assert(arguments.length>=2,"Insufficient arguments"),exports.assert("string"==typeof ref||"object"==typeof ref,"Reference must be string or an object"),exports.assert(values.length,"Values array cannot be empty");var compare,compareFlags;if(options.deep){compare=exports.deepEqual;var hasOnly=options.hasOwnProperty("only"),hasPart=options.hasOwnProperty("part");compareFlags={prototype:hasOnly?options.only:!!hasPart&&!options.part,part:hasOnly?!options.only:!hasPart||options.part}}else compare=function(a,b){return a===b};for(var misses=!1,matches=new Array(values.length),i=0,il=matches.length;i<il;++i)matches[i]=0;if("string"==typeof ref){var pattern="(";for(i=0,il=values.length;i<il;++i){var value=values[i];exports.assert("string"==typeof value,"Cannot compare string reference to non-string value"),pattern+=(i?"|":"")+exports.escapeRegex(value)}var regex=new RegExp(pattern+")","g");misses=!!ref.replace(regex,function($0,$1){var index=values.indexOf($1);return++matches[index],""})}else if(Array.isArray(ref))for(i=0,il=ref.length;i<il;++i){for(var j=0,jl=values.length,matched=!1;j<jl&&!1===matched;++j)matched=compare(values[j],ref[i],compareFlags)&&j;!1!==matched?++matches[matched]:misses=!0}else{var keys=Object.keys(ref);for(i=0,il=keys.length;i<il;++i){var key=keys[i],pos=values.indexOf(key);if(-1!==pos){if(valuePairs&&!compare(valuePairs[key],ref[key],compareFlags))return!1;++matches[pos]}else misses=!0}}var result=!1;for(i=0,il=matches.length;i<il;++i)if(result=result||!!matches[i],options.once&&matches[i]>1||!options.part&&!matches[i])return!1;return(!options.only||!misses)&&result},exports.flatten=function(array,target){for(var result=target||[],i=0,il=array.length;i<il;++i)Array.isArray(array[i])?exports.flatten(array[i],result):result.push(array[i]);return result},exports.reach=function(obj,chain,options){if(!1===chain||null===chain||void 0===chain)return obj;"string"==typeof(options=options||{})&&(options={separator:options});for(var path=chain.split(options.separator||"."),ref=obj,i=0,il=path.length;i<il;++i){var key=path[i];if("-"===key[0]&&Array.isArray(ref)&&(key=key.slice(1,key.length),key=ref.length-key),!ref||!ref.hasOwnProperty(key)||"object"!=typeof ref&&!1===options.functions){exports.assert(!options.strict||i+1===il,"Missing segment",key,"in reach path ",chain),exports.assert("object"==typeof ref||!0===options.functions||"function"!=typeof ref,"Invalid segment",key,"in reach path ",chain),ref=options.default;break}ref=ref[key]}return ref},exports.reachTemplate=function(obj,template,options){return template.replace(/{([^}]+)}/g,function($0,chain){var value=exports.reach(obj,chain,options);return void 0===value||null===value?"":value})},exports.formatStack=function(stack){for(var trace=[],i=0,il=stack.length;i<il;++i){var item=stack[i];trace.push([item.getFileName(),item.getLineNumber(),item.getColumnNumber(),item.getFunctionName(),item.isConstructor()])}return trace},exports.formatTrace=function(trace){for(var display=[],i=0,il=trace.length;i<il;++i){var row=trace[i];display.push((row[4]?"new ":"")+row[3]+" ("+row[0]+":"+row[1]+":"+row[2]+")")}return display},exports.callStack=function(slice){var v8=Error.prepareStackTrace;Error.prepareStackTrace=function(err,stack){return stack};var capture={};Error.captureStackTrace(capture,arguments.callee);var stack=capture.stack;Error.prepareStackTrace=v8;var trace=exports.formatStack(stack);return slice?trace.slice(slice):trace},exports.displayStack=function(slice){var trace=exports.callStack(void 0===slice?1:slice+1);return exports.formatTrace(trace)},exports.abortThrow=!1,exports.abort=function(message,hideStack){if(!0===exports.abortThrow)throw new Error(message||"Unknown error");var stack="";hideStack||(stack=exports.displayStack(1).join("\n\t")),console.log("ABORT: "+message+"\n\t"+stack),process.exit(1)},exports.assert=function(condition){if(!condition){if(2===arguments.length&&arguments[1]instanceof Error)throw arguments[1];for(var msgs=[],i=1,il=arguments.length;i<il;++i)""!==arguments[i]&&msgs.push(arguments[i]);throw msgs=msgs.map(function(msg){return"string"==typeof msg?msg:msg instanceof Error?msg.message:exports.stringify(msg)}),new Error(msgs.join(" ")||"Unknown error")}},exports.Timer=function(){this.ts=0,this.reset()},exports.Timer.prototype.reset=function(){this.ts=Date.now()},exports.Timer.prototype.elapsed=function(){return Date.now()-this.ts},exports.Bench=function(){this.ts=0,this.reset()},exports.Bench.prototype.reset=function(){this.ts=exports.Bench.now()},exports.Bench.prototype.elapsed=function(){return exports.Bench.now()-this.ts},exports.Bench.now=function(){var ts=process.hrtime();return 1e3*ts[0]+ts[1]/1e6},exports.escapeRegex=function(string){return string.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},exports.base64urlEncode=function(value,encoding){return(Buffer.isBuffer(value)?value:new Buffer(value,encoding||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},exports.base64urlDecode=function(value,encoding){if(value&&!/^[\w\-]*$/.test(value))return new Error("Invalid character");try{var buf=new Buffer(value,"base64");return"buffer"===encoding?buf:buf.toString(encoding||"binary")}catch(err){return err}},exports.escapeHeaderAttribute=function(attribute){return exports.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(attribute),"Bad attribute value ("+attribute+")"),attribute.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},exports.escapeHtml=function(string){return Escape.escapeHtml(string)},exports.escapeJavaScript=function(string){return Escape.escapeJavaScript(string)},exports.nextTick=function(callback){return function(){var args=arguments;process.nextTick(function(){callback.apply(null,args)})}},exports.once=function(method){if(method._hoekOnce)return method;var once=!1,wrapped=function(){once||(once=!0,method.apply(null,arguments))};return wrapped._hoekOnce=!0,wrapped},exports.isAbsolutePath=function(path,platform){return!!path&&(Path.isAbsolute?Path.isAbsolute(path):(platform=platform||process.platform,"win32"!==platform?"/"===path[0]:!!/^(?:[a-zA-Z]:[\\\/])|(?:[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/])/.test(path)))},exports.isInteger=function(value){return"number"==typeof value&&parseFloat(value)===parseInt(value,10)&&!isNaN(value)},exports.ignore=function(){},exports.inherits=Util.inherits,exports.format=Util.format,exports.transform=function(source,transform,options){if(exports.assert(null===source||void 0===source||"object"==typeof source||Array.isArray(source),"Invalid source object: must be null, undefined, an object, or an array"),Array.isArray(source)){for(var results=[],i=0,il=source.length;i<il;++i)results.push(exports.transform(source[i],transform,options));return results}for(var result={},keys=Object.keys(transform),k=0,kl=keys.length;k<kl;++k){var key=keys[k],path=key.split("."),sourcePath=transform[key];exports.assert("string"==typeof sourcePath,'All mappings must be "." delineated strings');for(var segment,res=result;path.length>1;)segment=path.shift(),res[segment]||(res[segment]={}),res=res[segment];segment=path.shift(),res[segment]=exports.reach(source,sourcePath,options)}return result},exports.uniqueFilename=function(path,extension){extension=extension?"."!==extension[0]?"."+extension:extension:"",path=Path.resolve(path);var name=[Date.now(),process.pid,Crypto.randomBytes(8).toString("hex")].join("-")+extension;return Path.join(path,name)},exports.stringify=function(){try{return JSON.stringify.apply(null,arguments)}catch(err){return"[Cannot display object: "+err.message+"]"}},exports.shallow=function(source){for(var target={},keys=Object.keys(source),i=0,il=keys.length;i<il;++i){var key=keys[i];target[key]=source[key]}return target}}).call(exports,__webpack_require__(0).Buffer,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";var elliptic=exports;elliptic.version=__webpack_require__(472).version,elliptic.utils=__webpack_require__(471),elliptic.rand=__webpack_require__(144),elliptic.curve=__webpack_require__(69),elliptic.curves=__webpack_require__(463),elliptic.ec=__webpack_require__(464),elliptic.eddsa=__webpack_require__(467)},function(module,exports,__webpack_require__){function create(prototype,properties){var result=baseCreate(prototype);return null==properties?result:baseAssign(result,properties)}var baseAssign=__webpack_require__(503),baseCreate=__webpack_require__(504);module.exports=create},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Exception=void 0;var _deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);exports.Exception=function(_Core$Exception$Excep){function Exception(){var _ref;_classCallCheck(this,Exception);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(_ref,[this].concat(args)))}return _inherits(Exception,_Core$Exception$Excep),Exception}(_deepCore2.default.Exception.Exception)},function(module,exports,__webpack_require__){(function(Buffer){var Hoek=(__webpack_require__(57),__webpack_require__(9)),Ref=__webpack_require__(52),Errors=__webpack_require__(15),Alternatives=null,Cast=null,internals={};internals.defaults={abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional"},module.exports=internals.Any=function(){this.isJoi=!0,this._type="any",this._settings=null,this._valids=new internals.Set,this._invalids=new internals.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}},internals.Any.prototype.isImmutable=!0,internals.Any.prototype.clone=function(){var obj=Object.create(Object.getPrototypeOf(this));obj.isJoi=!0,obj._type=this._type,obj._settings=internals.concatSettings(this._settings),obj._valids=Hoek.clone(this._valids),obj._invalids=Hoek.clone(this._invalids),obj._tests=this._tests.slice(),obj._refs=this._refs.slice(),obj._flags=Hoek.clone(this._flags),obj._description=this._description,obj._unit=this._unit,obj._notes=this._notes.slice(),obj._tags=this._tags.slice(),obj._examples=this._examples.slice(),obj._meta=this._meta.slice(),obj._inner={};for(var inners=Object.keys(this._inner),i=0,il=inners.length;i<il;++i){var key=inners[i];obj._inner[key]=this._inner[key]?this._inner[key].slice():null}return obj},internals.Any.prototype.concat=function(schema){Hoek.assert(schema&&schema.isJoi,"Invalid schema object"),Hoek.assert("any"===schema._type||schema._type===this._type,"Cannot merge with another type:",schema._type);var obj=this.clone();obj._settings=obj._settings?internals.concatSettings(obj._settings,schema._settings):schema._settings,obj._valids.merge(schema._valids,schema._invalids),obj._invalids.merge(schema._invalids,schema._valids),obj._tests=obj._tests.concat(schema._tests),obj._refs=obj._refs.concat(schema._refs),Hoek.merge(obj._flags,schema._flags),obj._description=schema._description||obj._description,obj._unit=schema._unit||obj._unit,obj._notes=obj._notes.concat(schema._notes),obj._tags=obj._tags.concat(schema._tags),obj._examples=obj._examples.concat(schema._examples),obj._meta=obj._meta.concat(schema._meta);for(var inners=Object.keys(schema._inner),i=0,il=inners.length;i<il;++i){var key=inners[i];schema._inner[key]&&(obj._inner[key]=obj._inner[key]?obj._inner[key].concat(schema._inner[key]):schema._inner[key].slice())}return obj},internals.Any.prototype._test=function(name,arg,func){Hoek.assert(!this._flags.allowOnly,"Cannot define rules when valid values specified");var obj=this.clone();return obj._tests.push({func:func,name:name,arg:arg}),obj},internals.Any.prototype.options=function(options){Hoek.assert(!options.context,"Cannot override context");var obj=this.clone();return obj._settings=internals.concatSettings(obj._settings,options),obj},internals.Any.prototype.strict=function(){var obj=this.clone();return obj._settings=obj._settings||{},obj._settings.convert=!1,obj},internals.Any.prototype.raw=function(isRaw){var obj=this.clone();return obj._settings=obj._settings||{},obj._settings.raw=void 0===isRaw||isRaw,obj},internals.Any.prototype._allow=function(){for(var values=Hoek.flatten(Array.prototype.slice.call(arguments)),i=0,il=values.length;i<il;++i){var value=values[i];this._invalids.remove(value),this._valids.add(value,this._refs)}},internals.Any.prototype.allow=function(){var obj=this.clone();return obj._allow.apply(obj,arguments),obj},internals.Any.prototype.valid=internals.Any.prototype.equal=function(){Hoek.assert(!this._tests.length,"Cannot set valid values when rules specified");var obj=this.allow.apply(this,arguments);return obj._flags.allowOnly=!0,obj},internals.Any.prototype.invalid=internals.Any.prototype.not=function(value){for(var obj=this.clone(),values=Hoek.flatten(Array.prototype.slice.call(arguments)),i=0,il=values.length;i<il;++i){var value=values[i];obj._valids.remove(value),obj._invalids.add(value,this._refs)}return obj},internals.Any.prototype.required=internals.Any.prototype.exist=function(){var obj=this.clone();return obj._flags.presence="required",obj},internals.Any.prototype.optional=function(){var obj=this.clone();return obj._flags.presence="optional",obj},internals.Any.prototype.forbidden=function(){var obj=this.clone();return obj._flags.presence="forbidden",obj},internals.Any.prototype.applyFunctionToChildren=function(children,fn,args,root){if(children=[].concat(children),1!==children.length||""!==children[0]){root=root?root+".":"";var extraChildren=(""===children[0]?children.slice(1):children).map(function(child){return root+child});throw new Error("unknown key(s) "+extraChildren.join(", "))}return this[fn].apply(this,args)},internals.Any.prototype.default=function(value){var obj=this.clone();return obj._flags.default=value,Ref.push(obj._refs,value),obj},internals.Any.prototype.when=function(ref,options){Hoek.assert(options&&"object"==typeof options,"Invalid options"),Hoek.assert(void 0!==options.then||void 0!==options.otherwise,'options must have at least one of "then" or "otherwise"'),Cast=Cast||__webpack_require__(51);var then=options.then?this.concat(Cast.schema(options.then)):this,otherwise=options.otherwise?this.concat(Cast.schema(options.otherwise)):this;Alternatives=Alternatives||__webpack_require__(103);var obj=Alternatives.when(ref,{is:options.is,then:then,otherwise:otherwise});return obj._flags.presence="ignore",obj},internals.Any.prototype.description=function(desc){Hoek.assert(desc&&"string"==typeof desc,"Description must be a non-empty string");var obj=this.clone();return obj._description=desc,obj},internals.Any.prototype.notes=function(notes){Hoek.assert(notes&&("string"==typeof notes||Array.isArray(notes)),"Notes must be a non-empty string or array");var obj=this.clone();return obj._notes=obj._notes.concat(notes),obj},internals.Any.prototype.tags=function(tags){Hoek.assert(tags&&("string"==typeof tags||Array.isArray(tags)),"Tags must be a non-empty string or array");var obj=this.clone();return obj._tags=obj._tags.concat(tags),obj},internals.Any.prototype.meta=function(meta){Hoek.assert(void 0!==meta,"Meta cannot be undefined");var obj=this.clone();return obj._meta=obj._meta.concat(meta),obj},internals.Any.prototype.example=function(value){Hoek.assert(arguments.length,"Missing example");var result=this._validate(value,null,internals.defaults);Hoek.assert(!result.errors,"Bad example:",result.errors&&Errors.process(result.errors,value));var obj=this.clone();return obj._examples=obj._examples.concat(value),obj},internals.Any.prototype.unit=function(name){Hoek.assert(name&&"string"==typeof name,"Unit name must be a non-empty string");var obj=this.clone();return obj._unit=name,obj},internals.Any.prototype._validate=function(value,state,options,reference){var self=this,originalValue=value;state=state||{key:"",path:"",parent:null,reference:reference},this._settings&&(options=internals.concatSettings(options,this._settings));var errors=[],finish=function(){return{value:void 0!==value?options.raw?originalValue:value:Ref.isRef(self._flags.default)?self._flags.default(state.parent,options):self._flags.default,errors:errors.length?errors:null}},presence=this._flags.presence||options.presence;if("optional"===presence){if(void 0===value)return finish()}else{if("required"===presence&&void 0===value)return errors.push(Errors.create("any.required",null,state,options)),finish();if("forbidden"===presence)return void 0===value?finish():(errors.push(Errors.create("any.unknown",null,state,options)),finish())}if(this._valids.has(value,state,options,this._flags.insensitive))return finish();if(this._invalids.has(value,state,options,this._flags.insensitive)&&(errors.push(Errors.create(""===value?"any.empty":"any.invalid",null,state,options)),options.abortEarly||void 0===value))return finish();if(this._base){var base=this._base.call(this,value,state,options);if(base.errors)return value=base.value,errors=errors.concat(base.errors),finish();if(base.value!==value){if(value=base.value,this._valids.has(value,state,options,this._flags.insensitive))return finish();if(this._invalids.has(value,state,options,this._flags.insensitive)&&(errors.push(Errors.create("any.invalid",null,state,options)),options.abortEarly))return finish()}}if(this._flags.allowOnly&&(errors.push(Errors.create("any.allowOnly",{valids:this._valids.toString(!1)},state,options)),options.abortEarly))return finish();for(var i=0,il=this._tests.length;i<il;++i){var test=this._tests[i],err=test.func.call(this,value,state,options);if(err&&(errors.push(err),options.abortEarly))return finish()}return finish()},internals.Any.prototype._validateWithOptions=function(value,options,callback){var settings=internals.concatSettings(internals.defaults,options),result=this._validate(value,null,settings),errors=Errors.process(result.errors,value);return callback?callback(errors,result.value):{error:errors,value:result.value}},internals.Any.prototype.validate=function(value,callback){var result=this._validate(value,null,internals.defaults),errors=Errors.process(result.errors,value);return callback?callback(errors,result.value):{error:errors,value:result.value}},internals.Any.prototype.describe=function(){var description={type:this._type};Object.keys(this._flags).length&&(description.flags=this._flags),this._description&&(description.description=this._description),this._notes.length&&(description.notes=this._notes),this._tags.length&&(description.tags=this._tags),this._meta.length&&(description.meta=this._meta),this._examples.length&&(description.examples=this._examples),this._unit&&(description.unit=this._unit);var valids=this._valids.values();valids.length&&(description.valids=valids);var invalids=this._invalids.values();invalids.length&&(description.invalids=invalids),description.rules=[];for(var i=0,il=this._tests.length;i<il;++i){var validator=this._tests[i],item={name:validator.name};void 0!==validator.arg&&(item.arg=validator.arg),description.rules.push(item)}description.rules.length||delete description.rules;var label=Hoek.reach(this._settings,"language.label");return label&&(description.label=label),description},internals.Any.prototype.label=function(name){Hoek.assert(name&&"string"==typeof name,"Label name must be a non-empty string");var obj=this.clone(),options={language:{label:name}};return obj._settings=internals.concatSettings(options,obj._settings),obj},internals.Set=function(){this._set=[]},internals.Set.prototype.add=function(value,refs){Hoek.assert(null===value||void 0===value||value instanceof Date||Buffer.isBuffer(value)||Ref.isRef(value)||"function"!=typeof value&&"object"!=typeof value,"Value cannot be an object or function"),"function"!=typeof value&&this.has(value,null,null,!1)||(Ref.push(refs,value),this._set.push(value))},internals.Set.prototype.merge=function(add,remove){for(var i=0,il=add._set.length;i<il;++i)this.add(add._set[i]);for(i=0,il=remove._set.length;i<il;++i)this.remove(remove._set[i])},internals.Set.prototype.remove=function(value){this._set=this._set.filter(function(item){return value!==item})},internals.Set.prototype.has=function(value,state,options,insensitive){for(var i=0,il=this._set.length;i<il;++i){var item=this._set[i];if(Ref.isRef(item)&&(item=item(state.reference||state.parent,options)),typeof value==typeof item&&(value===item||value instanceof Date&&item instanceof Date&&value.getTime()===item.getTime()||insensitive&&"string"==typeof value&&value.toLowerCase()===item.toLowerCase()||Buffer.isBuffer(value)&&Buffer.isBuffer(item)&&value.length===item.length&&value.toString("binary")===item.toString("binary")))return!0}return!1},internals.Set.prototype.values=function(){return this._set.slice()},internals.Set.prototype.toString=function(includeUndefined){for(var list="",i=0,il=this._set.length;i<il;++i){var item=this._set[i];(void 0!==item||includeUndefined)&&(list+=(list?", ":"")+internals.stringify(item))}return list},internals.stringify=function(value){return void 0===value?"undefined":null===value?"null":"string"==typeof value?value:value.toString()},internals.concatSettings=function(target,source){if(!target&&!source)return null;var obj={};if(target)for(var tKeys=Object.keys(target),i=0,il=tKeys.length;i<il;++i){var key=tKeys[i];obj[key]=target[key]}if(source)for(var sKeys=Object.keys(source),j=0,jl=sKeys.length;j<jl;++j){var key=sKeys[j];"language"===key&&obj.hasOwnProperty(key)?obj[key]=Hoek.applyToDefaults(obj[key],source[key]):obj[key]=source[key]}return obj}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.Exception=function(_Extendable){function Exception(message){let code=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Exception.DEFAULT_CODE;_classCallCheck(this,Exception);var _this=_possibleConstructorReturn(this,(Exception.__proto__||Object.getPrototypeOf(Exception)).call(this));return Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(_this,_this.constructor):Object.defineProperty(_this,"stack",{value:(new Error).stack}),Object.defineProperty(_this,"message",{value:message}),_this._code=code,_this}return _inherits(Exception,_Extendable),_createClass(Exception,null,[{key:"CODE_KEY",get:function(){return"_deep_error_code_"}},{key:"DEFAULT_CODE",get:function(){return 400}}]),_createClass(Exception,[{key:"name",get:function(){return this.constructor.name}},{key:"code",set:function(code){this._code=code},get:function(){return this._code}}]),Exception}(function(errorClass){function ExtendableClass(){errorClass.apply(this,arguments)}return ExtendableClass.prototype=Object.create(errorClass.prototype),Object.setPrototypeOf?Object.setPrototypeOf(ExtendableClass,errorClass):ExtendableClass.__proto__=errorClass,ExtendableClass}(Error))},function(module,exports,__webpack_require__){var Hoek=__webpack_require__(9),Language=__webpack_require__(488),internals={};internals.Err=function(type,context,state,options){this.type=type,this.context=context||{},this.context.key=state.key,this.path=state.path,this.options=options},internals.Err.prototype.toString=function(){var self=this,localized=this.options.language;this.context.key=localized.label||this.context.key||localized.root||Language.errors.root;var format=Hoek.reach(localized,this.type)||Hoek.reach(Language.errors,this.type);return format=/\{\{\!?key\}\}/.test(format)?format:"{{!key}} "+format,format.replace(/\{\{(\!?)([^}]+)\}\}/g,function($0,isSecure,name){var value=Hoek.reach(self.context,name),normalized=Array.isArray(value)?value.join(", "):value.toString();return isSecure?Hoek.escapeHtml(normalized):normalized})},exports.create=function(type,context,state,options){return new internals.Err(type,context,state,options)},exports.process=function(errors,object){if(!errors||!errors.length)return null;for(var details=[],i=0,il=errors.length;i<il;++i){var item=errors[i];details.push({message:item.toString(),path:internals.getPath(item),type:item.type,context:item.context})}var message="";details.forEach(function(error){message+=(message?". ":"")+error.message});var error=new Error(message);return error.name="ValidationError",error.details=details,error._object=object,error.annotate=internals.annotate,error},internals.getPath=function(item){var recursePath=function(it){var reachedItem=Hoek.reach(it,"context.reason.0");return reachedItem&&reachedItem.context?recursePath(reachedItem):it.path};return recursePath(item)||item.context.key},internals.annotate=function(){for(var obj=Hoek.clone(this._object||{}),lookup={},el=this.details.length,e=el-1;e>=0;--e)for(var pos=el-e,error=this.details[e],path=error.path.split("."),ref=obj,i=0,il=path.length;i<il&&ref;++i){var seg=path[i];if(i+1<il)ref=ref[seg];else{var value=ref[seg];if(void 0!==value){delete ref[seg];var label=seg+"_$key$_"+pos+"_$end$_";ref[label]=value,lookup[error.path]=label}else if(lookup[error.path]){var replacement=lookup[error.path],appended=replacement.replace("_$end$_",", "+pos+"_$end$_");ref[appended]=ref[replacement],lookup[error.path]=appended,delete ref[replacement]}else ref["_$miss$_"+seg+"|"+pos+"_$end$_"]="__missing__"}}var annotated=JSON.stringify(obj,null,2);annotated=annotated.replace(/_\$key\$_([, \d]+)_\$end\$_\"/g,function($0,$1){return'" [31m['+$1+"][0m"});var message=annotated.replace(/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,function($0,$1,$2){return'[41m"'+$1+'"[0m[31m ['+$2+"]: -- missing --[0m"});for(message+="\n[31m",e=0;e<el;++e)message+="\n["+(e+1)+"] "+this.details[e].message;return message+="[0m"}},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports){function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}module.exports=isObject},function(module,exports,__webpack_require__){const AWS=__webpack_require__(270);AWS.Lambda=__webpack_require__(272),AWS.CognitoIdentity=__webpack_require__(130),AWS.CognitoSync=__webpack_require__(271),AWS.SQS=__webpack_require__(273),module.exports=AWS},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(197),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports,__webpack_require__){(function(global,process){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){base=" [Function"+(value.name?": "+value.name:"")+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(recurseTimes<0)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;return output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(/%[sdj%]/g,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(!0===process.noDeprecation)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=__webpack_require__.i({AWS_SERVICES:"lambda,cognitoidentity,cognitosync,sqs",NODE_ENV:"production"}).NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=__webpack_require__(645);var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=__webpack_require__(2),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(exports,__webpack_require__(4),__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";var _Kernel=__webpack_require__(376);module.exports=_Kernel.Kernel},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogDriverException=void 0;var _Exception2=__webpack_require__(392);exports.LogDriverException=function(_Exception){function LogDriverException(){var _ref;_classCallCheck(this,LogDriverException);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=LogDriverException.__proto__||Object.getPrototypeOf(LogDriverException)).call.apply(_ref,[this].concat(args)))}return _inherits(LogDriverException,_Exception),LogDriverException}(_Exception2.Exception)},function(module,exports,__webpack_require__){var hash=exports;hash.utils=__webpack_require__(477),hash.common=__webpack_require__(473),hash.sha=__webpack_require__(476),hash.ripemd=__webpack_require__(475),hash.hmac=__webpack_require__(474),hash.sha1=hash.sha.sha1,hash.sha256=hash.sha.sha256,hash.sha224=hash.sha.sha224,hash.sha384=hash.sha.sha384,hash.sha512=hash.sha.sha512,hash.ripemd160=hash.ripemd.ripemd160},function(module,exports,__webpack_require__){module.exports=__webpack_require__(487)},function(module,exports,__webpack_require__){function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}var baseIsNative=__webpack_require__(514),getValue=__webpack_require__(537);module.exports=getNative},function(module,exports){function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}module.exports=assert,assert.equal=function(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},function(module,exports,__webpack_require__){"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=__webpack_require__(58),exports.createHash=exports.Hash=__webpack_require__(34),exports.createHmac=exports.Hmac=__webpack_require__(86);var hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(__webpack_require__(312)));exports.getHashes=function(){return hashes};var p=__webpack_require__(211);exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync;var aes=__webpack_require__(309);["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(key){exports[key]=aes[key]});var dh=__webpack_require__(454);["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(key){exports[key]=dh[key]});var sign=__webpack_require__(313);["createSign","Sign","createVerify","Verify"].forEach(function(key){exports[key]=sign[key]}),exports.createECDH=__webpack_require__(318);var publicEncrypt=__webpack_require__(594);["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(key){exports[key]=publicEncrypt[key]}),["createCredentials"].forEach(function(name){exports[name]=function(){throw new Error(["sorry, "+name+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}})},function(module,exports,__webpack_require__){"use strict";function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=__webpack_require__(118),util=__webpack_require__(45);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(219),Writable=__webpack_require__(120);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1);AWS.apiLoader=function(svc,version){if(!AWS.apiLoader.services.hasOwnProperty(svc))throw new Error("InvalidService: Failed to load api for "+svc);return AWS.apiLoader.services[svc][version]},AWS.apiLoader.services={},module.exports=AWS.apiLoader},function(module,exports,__webpack_require__){(function(process){var util=__webpack_require__(5);util.crypto.lib=__webpack_require__(320),util.Buffer=__webpack_require__(0).Buffer,util.url=__webpack_require__(117),util.querystring=__webpack_require__(119);var AWS=__webpack_require__(1);__webpack_require__(30),AWS.XML.Parser=__webpack_require__(300),__webpack_require__(280),void 0===process&&(process={browser:!0})}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),Api=__webpack_require__(134),regionConfig=__webpack_require__(283),inherit=AWS.util.inherit,clientCount=0;AWS.Service=inherit({constructor:function(config){if(!this.loadServiceClass)throw AWS.util.error(new Error,"Service must be constructed with `new' operator");var ServiceClass=this.loadServiceClass(config||{});if(ServiceClass){var originalConfig=AWS.util.copy(config),svc=new ServiceClass(config);return Object.defineProperty(svc,"_originalConfig",{get:function(){return originalConfig},enumerable:!1,configurable:!0}),svc._clientId=++clientCount,svc}this.initialize(config)},initialize:function(config){var svcConfig=AWS.config[this.serviceIdentifier];this.config=new AWS.Config(AWS.config),svcConfig&&this.config.update(svcConfig,!0),config&&this.config.update(config,!0),this.validateService(),this.config.endpoint||regionConfig(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint)},validateService:function(){},loadServiceClass:function(serviceConfig){var config=serviceConfig;if(AWS.util.isEmpty(this.api)){if(config.apiConfig)return AWS.Service.defineServiceApi(this.constructor,config.apiConfig);if(this.constructor.services){config=new AWS.Config(AWS.config),config.update(serviceConfig,!0);var version=config.apiVersions[this.constructor.serviceIdentifier];return version=version||config.apiVersion,this.getLatestServiceClass(version)}return null}return null},getLatestServiceClass:function(version){return version=this.getLatestServiceVersion(version),null===this.constructor.services[version]&&AWS.Service.defineServiceApi(this.constructor,version),this.constructor.services[version]},getLatestServiceVersion:function(version){if(!this.constructor.services||0===this.constructor.services.length)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(version?AWS.util.isType(version,Date)&&(version=AWS.util.date.iso8601(version).split("T")[0]):version="latest",Object.hasOwnProperty(this.constructor.services,version))return version;for(var keys=Object.keys(this.constructor.services).sort(),selectedVersion=null,i=keys.length-1;i>=0;i--)if("*"!==keys[i][keys[i].length-1]&&(selectedVersion=keys[i]),keys[i].substr(0,10)<=version)return selectedVersion;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+version+"'")},api:{},defaultRetryCount:3,customizeRequests:function(callback){if(callback){if("function"!=typeof callback)throw new Error("Invalid callback type '"+typeof callback+"' provided in customizeRequests");this.customRequestHandler=callback}else this.customRequestHandler=null},makeRequest:function(operation,params,callback){if("function"==typeof params&&(callback=params,params=null),params=params||{},this.config.params){var rules=this.api.operations[operation];rules&&(params=AWS.util.copy(params),AWS.util.each(this.config.params,function(key,value){rules.input.members[key]&&(void 0!==params[key]&&null!==params[key]||(params[key]=value))}))}var request=new AWS.Request(this,operation,params);return this.addAllRequestListeners(request),callback&&request.send(callback),request},makeUnauthenticatedRequest:function(operation,params,callback){"function"==typeof params&&(callback=params,params={});var request=this.makeRequest(operation,params).toUnauthenticated();return callback?request.send(callback):request},waitFor:function(state,params,callback){return new AWS.ResourceWaiter(this,state).wait(params,callback)},addAllRequestListeners:function(request){for(var list=[AWS.events,AWS.EventListeners.Core,this.serviceInterface(),AWS.EventListeners.CorePost],i=0;i<list.length;i++)list[i]&&request.addListeners(list[i]);this.config.paramValidation||request.removeListener("validate",AWS.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&request.addListeners(AWS.EventListeners.Logger),this.setupRequestListeners(request),"function"==typeof this.constructor.prototype.customRequestHandler&&this.constructor.prototype.customRequestHandler(request),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&"function"==typeof this.customRequestHandler&&this.customRequestHandler(request)},setupRequestListeners:function(){},getSignerClass:function(request){var version,operation=request?request.service.api.operations[request.operation]:null,authtype=operation?operation.authtype:"";return version=this.config.signatureVersion?this.config.signatureVersion:"v4"===authtype||"v4-unsigned-body"===authtype?"v4":this.api.signatureVersion,AWS.Signers.RequestSigner.getVersion(version)},serviceInterface:function(){switch(this.api.protocol){case"ec2":case"query":return AWS.EventListeners.Query;case"json":return AWS.EventListeners.Json;case"rest-json":return AWS.EventListeners.RestJson;case"rest-xml":return AWS.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(resp){return resp.httpResponse.statusCode<300},numRetries:function(){return void 0!==this.config.maxRetries?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(retryCount){return AWS.util.calculateRetryDelay(retryCount,this.config.retryDelayOptions)},retryableError:function(error){return!!this.networkingError(error)||(!!this.expiredCredentialsError(error)||(!!this.throttledError(error)||error.statusCode>=500))},networkingError:function(error){return"NetworkingError"===error.code},expiredCredentialsError:function(error){return"ExpiredTokenException"===error.code},clockSkewError:function(error){switch(error.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},throttledError:function(error){switch(error.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":return!0;default:return!1}},endpointFromTemplate:function(endpoint){if("string"!=typeof endpoint)return endpoint;var e=endpoint;return e=e.replace(/\{service\}/g,this.api.endpointPrefix),e=e.replace(/\{region\}/g,this.config.region),e=e.replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http")},setEndpoint:function(endpoint){this.endpoint=new AWS.Endpoint(endpoint,this.config)},paginationConfig:function(operation,throwException){var paginator=this.api.operations[operation].paginator;if(!paginator){if(throwException){var e=new Error;throw AWS.util.error(e,"No pagination configuration for "+operation)}return null}return paginator}}),AWS.util.update(AWS.Service,{defineMethods:function(svc){AWS.util.each(svc.prototype.api.operations,function(method){if(!svc.prototype[method]){"none"===svc.prototype.api.operations[method].authtype?svc.prototype[method]=function(params,callback){return this.makeUnauthenticatedRequest(method,params,callback)}:svc.prototype[method]=function(params,callback){return this.makeRequest(method,params,callback)}}})},defineService:function(serviceIdentifier,versions,features){AWS.Service._serviceMap[serviceIdentifier]=!0,Array.isArray(versions)||(features=versions,versions=[]);var svc=inherit(AWS.Service,features||{});if("string"==typeof serviceIdentifier){AWS.Service.addVersions(svc,versions);var identifier=svc.serviceIdentifier||serviceIdentifier;svc.serviceIdentifier=identifier}else svc.prototype.api=serviceIdentifier,AWS.Service.defineMethods(svc);return svc},addVersions:function(svc,versions){Array.isArray(versions)||(versions=[versions]),svc.services=svc.services||{};for(var i=0;i<versions.length;i++)void 0===svc.services[versions[i]]&&(svc.services[versions[i]]=null);svc.apiVersions=Object.keys(svc.services).sort()},defineServiceApi:function(superclass,version,apiConfig){function setApi(api){api.isApi?svc.prototype.api=api:svc.prototype.api=new Api(api)}var svc=inherit(superclass,{serviceIdentifier:superclass.serviceIdentifier});if("string"==typeof version){if(apiConfig)setApi(apiConfig);else try{setApi(AWS.apiLoader(superclass.serviceIdentifier,version))}catch(err){throw AWS.util.error(err,{message:"Could not find API configuration "+superclass.serviceIdentifier+"-"+version})}Object.prototype.hasOwnProperty.call(superclass.services,version)||(superclass.apiVersions=superclass.apiVersions.concat(version).sort()),superclass.services[version]=svc}else setApi(version);return AWS.Service.defineMethods(svc),svc},hasService:function(identifier){return Object.prototype.hasOwnProperty.call(AWS.Service._serviceMap,identifier)},_serviceMap:{}}),module.exports=AWS.Service},function(module,exports,__webpack_require__){(function(Buffer){function CipherBase(hashMode){Transform.call(this),this.hashMode="string"==typeof hashMode,this.hashMode?this[hashMode]=this._finalOrDigest:this.final=this._finalOrDigest,this._decoder=null,this._encoding=null}var Transform=__webpack_require__(122).Transform,inherits=__webpack_require__(2),StringDecoder=__webpack_require__(116).StringDecoder;module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(data,inputEnc,outputEnc){"string"==typeof data&&(data=new Buffer(data,inputEnc));var outData=this._update(data);return this.hashMode?this:(outputEnc&&(outData=this._toString(outData,outputEnc)),outData)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(data,_,next){var err;try{this.hashMode?this._update(data):this.push(this._update(data))}catch(e){err=e}finally{next(err)}},CipherBase.prototype._flush=function(done){var err;try{this.push(this._final())}catch(e){err=e}finally{done(err)}},CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this._final()||new Buffer("");return outputEnc&&(outData=this._toString(outData,outputEnc,!0)),outData},CipherBase.prototype._toString=function(value,enc,fin){if(this._decoder||(this._decoder=new StringDecoder(enc),this._encoding=enc),this._encoding!==enc)throw new Error("can't switch encodings");var out=this._decoder.write(value);return fin&&(out+=this._decoder.end()),out}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function HashNoConstructor(hash){Base.call(this,"digest"),this._hash=hash,this.buffers=[]}function Hash(hash){Base.call(this,"digest"),this._hash=hash}var inherits=__webpack_require__(2),md5=__webpack_require__(155),rmd160=__webpack_require__(618),sha=__webpack_require__(620),Base=__webpack_require__(33);inherits(HashNoConstructor,Base),HashNoConstructor.prototype._update=function(data){this.buffers.push(data)},HashNoConstructor.prototype._final=function(){var buf=Buffer.concat(this.buffers),r=this._hash(buf);return this.buffers=null,r},inherits(Hash,Base),Hash.prototype._update=function(data){this._hash.update(data)},Hash.prototype._final=function(){return this._hash.digest()},module.exports=function(alg){return alg=alg.toLowerCase(),"md5"===alg?new HashNoConstructor(md5):"rmd160"===alg||"ripemd160"===alg?new HashNoConstructor(rmd160):new Hash(sha(alg))}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidArgumentException=void 0;var _Exception2=__webpack_require__(14);exports.InvalidArgumentException=function(_Exception){function InvalidArgumentException(argument,meantType){_classCallCheck(this,InvalidArgumentException);let argumentType=typeof argument;return _possibleConstructorReturn(this,(InvalidArgumentException.__proto__||Object.getPrototypeOf(InvalidArgumentException)).call(this,`Invalid argument ${argument} of type ${argumentType} provided (meant ${meantType}).`,400))}return _inherits(InvalidArgumentException,_Exception),InvalidArgumentException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore),_Exception=__webpack_require__(48);exports.AbstractDriver=function(_Core$OOP$Interface){function AbstractDriver(){_classCallCheck(this,AbstractDriver);var _this=_possibleConstructorReturn(this,(AbstractDriver.__proto__||Object.getPrototypeOf(AbstractDriver)).call(this,["_load"]));return _this._onLoaded=(()=>{}),_this._onFail=(()=>{}),_this}return _inherits(AbstractDriver,_Core$OOP$Interface),_createClass(AbstractDriver,[{key:"inherit",value:function(mainDriver){return this.onLoadedCb(mainDriver.onLoaded),this.onFailCb(mainDriver.onFail),this}},{key:"load",value:function(){return this._load.apply(this,arguments),this}},{key:"loadedJson",value:function(rawConfig){let config=null;try{config=JSON.parse(rawConfig)}catch(error){return this.fail(`Failed to parse config from ${this._endpoint}: ${error}`)}return this.loaded(config)}},{key:"loaded",value:function(config){return this._onLoaded(config),this}},{key:"fail",value:function(error){return this._onFail("string"==typeof error?new _Exception.Exception(error):error),this}},{key:"onLoadedCb",value:function(cb){return this._onLoaded=cb,this}},{key:"onFailCb",value:function(cb){return this._onFail=cb,this}},{key:"onLoaded",get:function(){return this._onLoaded}},{key:"onFail",get:function(){return this._onFail}}]),AbstractDriver}(_deepCore2.default.OOP.Interface)},function(module,exports,__webpack_require__){(function(module){!function(global,factory){module.exports=factory()}(0,function(){"use strict";function hooks(){return hookCallback.apply(null,arguments)}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isObject(input){return null!=input&&"[object Object]"===Object.prototype.toString.call(input)}function isObjectEmpty(obj){var k;for(k in obj)return!1;return!0}function isUndefined(input){return void 0===input}function isNumber(input){return"number"==typeof input||"[object Number]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some$1.call(flags.parsedDateParts,function(i){return null!=i}),isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict&&(isNowValid=isNowValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour),null!=Object.isFrozen&&Object.isFrozen(m))return isNowValid;m._isValid=isNowValid}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),momentProperties.length>0)for(i=0;i<momentProperties.length;i++)prop=momentProperties[i],val=from[prop],isUndefined(val)||(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===updateInProgress&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,msg),firstTime){for(var arg,args=[],i=0;i<arguments.length;i++){if(arg="","object"==typeof arguments[i]){arg+="\n["+i+"] ";for(var key in arguments[0])arg+=key+": "+arguments[0][key]+", ";arg=arg.slice(0,-2)}else arg=arguments[i];args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack),firstTime=!1}return fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){null!=hooks.deprecationHandler&&hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function set(config){var prop,i;for(i in config)prop=config[i],isFunction(prop)?this[i]=prop:this["_"+i]=prop;this._config=config,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}function calendar(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop))&&(normalizedInput[normalizedProp]=inputObject[prop]);return normalizedInput}function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var units=[];for(var u in unitsObj)units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}function makeGetSet(unit,keepTime){return function(value){return null!=value?(set$1(this,unit,value),hooks.updateOffset(this,keepTime),this):get(this,unit)}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){mom.isValid()&&mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function stringGet(units){return units=normalizeUnits(units),isFunction(this[units])?this[units]():this}function stringSet(units,value){if("object"==typeof units){units=normalizeObjectUnits(units);for(var prioritized=getPrioritizedUnits(units),i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit])}else if(units=normalizeUnits(units),isFunction(this[units]))return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length;return(number>=0?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var i,output="";for(i=0;i<length;i++)output+=isFunction(array[i])?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),isNumber(callback)&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m,format){return m?isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]:isArray(this._months)?this._months:this._months.standalone}function localeMonthsShort(m,format){return m?isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)mom=createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?(ii=indexOf$1.call(this._shortMonthsParse,llc),-1!==ii?ii:null):(ii=indexOf$1.call(this._longMonthsParse,llc),-1!==ii?ii:null):"MMM"===format?-1!==(ii=indexOf$1.call(this._shortMonthsParse,llc))?ii:(ii=indexOf$1.call(this._longMonthsParse,llc),-1!==ii?ii:null):-1!==(ii=indexOf$1.call(this._longMonthsParse,llc))?ii:(ii=indexOf$1.call(this._shortMonthsParse,llc),-1!==ii?ii:null)}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return handleStrictParse.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(value=mom.localeData().monthsParse(value),!isNumber(value))return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<12;i++)mom=createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<12;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;i<24;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4==0&&year%100!=0||year%400==0}function getIsLeapYear(){return isLeapYear(this.year())}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<100&&y>=0&&isFinite(date.getFullYear())&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<100&&y>=0&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy;return-(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset;return dayOfYear<=0?(resYear=year-1,resDayOfYear=daysInYear(resYear)+dayOfYear):dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return week<1?(resYear=mom.year()-1,resWeek=week+weeksInYear(resYear,dow,doy)):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function parseIsoWeekday(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}function localeWeekdays(m,format){return m?isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]:isArray(this._weekdays)?this._weekdays:this._weekdays.standalone}function localeWeekdaysShort(m){return m?this._weekdaysShort[m.day()]:this._weekdaysShort}function localeWeekdaysMin(m){return m?this._weekdaysMin[m.day()]:this._weekdaysMin}function handleStrictParse$1(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)mom=createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?(ii=indexOf$1.call(this._weekdaysParse,llc),-1!==ii?ii:null):"ddd"===format?(ii=indexOf$1.call(this._shortWeekdaysParse,llc),-1!==ii?ii:null):(ii=indexOf$1.call(this._minWeekdaysParse,llc),-1!==ii?ii:null):"dddd"===format?-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:(ii=indexOf$1.call(this._minWeekdaysParse,llc),-1!==ii?ii:null):"ddd"===format?-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:(ii=indexOf$1.call(this._minWeekdaysParse,llc),-1!==ii?ii:null):-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:(ii=indexOf$1.call(this._shortWeekdaysParse,llc),-1!==ii?ii:null)}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(mom=createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}}function getSetDayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid())return null!=input?this:NaN;if(null!=input){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}return this.day()||7}function weekdaysRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<7;i++)mom=createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<7;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&void 0!==module&&module&&module.exports)try{oldLocale=globalLocale._abbr,__webpack_require__(585)("./"+name),getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?getLocale(key):defineLocale(key,values))&&(globalLocale=data),globalLocale._abbr}function defineLocale(name,config){if(null!==config){var parentConfig=baseConfig;if(config.abbr=name,null!=locales[name])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config;else if(null!=config.parentLocale){if(null==locales[config.parentLocale])return localeFamilies[config.parentLocale]||(localeFamilies[config.parentLocale]=[]),localeFamilies[config.parentLocale].push({name:name,config:config}),null;parentConfig=locales[config.parentLocale]._config}return locales[name]=new Locale(mergeConfigs(parentConfig,config)),localeFamilies[name]&&localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)}),getSetGlobalLocale(name),locales[name]}return delete locales[name],null}function updateLocale(name,config){if(null!=config){var locale,parentConfig=baseConfig;null!=locales[name]&&(parentConfig=locales[name]._config),config=mergeConfigs(parentConfig,config),locale=new Locale(config),locale.parentLocale=locales[name],locales[name]=locale,getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function listLocales(){return keys$1(locales)}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=!1!==isoDates[i][2];break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}function configFromRFC2822(config){var string,match,dayFormat,dateFormat,timeFormat,tzFormat,timezone,timezoneIndex,timezones={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},military="YXWVUTSRQPONZABCDEFGHIKLM";if(string=config._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),match=basicRfcRegex.exec(string)){if(dayFormat=match[1]?"ddd"+(5===match[1].length?", ":" "):"",dateFormat="D MMM "+(match[2].length>10?"YYYY ":"YY "),timeFormat="HH:mm"+(match[4]?":ss":""),match[1]){var momentDate=new Date(match[2]),momentDay=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][momentDate.getDay()];if(match[1].substr(0,3)!==momentDay)return getParsingFlags(config).weekdayMismatch=!0,void(config._isValid=!1)}switch(match[5].length){case 2:0===timezoneIndex?timezone=" +0000":(timezoneIndex=military.indexOf(match[5][1].toUpperCase())-12,timezone=(timezoneIndex<0?" -":" +")+(""+timezoneIndex).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:timezone=timezones[match[5]];break;default:timezone=timezones[" GMT"]}match[5]=timezone,config._i=match.splice(1).join(""),tzFormat=" ZZ",config._f=dayFormat+dateFormat+timeFormat+tzFormat,configFromStringAndFormat(config),getParsingFlags(config).rfc2822=!0}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(null!==matched)return void(config._d=new Date(+matched[1]));configFromISO(config),!1===config._isValid&&(delete config._isValid,configFromRFC2822(config),!1===config._isValid&&(delete config._isValid,hooks.createFromInputFallback(config)))}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var nowValue=new Date(hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),null!=config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),(config._dayOfYear>daysInYear(yearToUse)||0===config._dayOfYear)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;if(w=config._w,null!=w.GG||null!=w.W||null!=w.E)dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year),week=defaults(w.W,1),((weekday=defaults(w.E,1))<1||weekday>7)&&(weekdayOverflow=!0);else{dow=config._locale._week.dow,doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year),week=defaults(w.w,curWeek.week),null!=w.d?((weekday=w.d)<0||weekday>6)&&(weekdayOverflow=!0):null!=w.e?(weekday=w.e+dow,(w.e<0||w.e>6)&&(weekdayOverflow=!0)):weekday=dow}week<1||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}function configFromStringAndFormat(config){if(config._f===hooks.ISO_8601)return void configFromISO(config);if(config._f===hooks.RFC_2822)return void configFromRFC2822(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),config._a[HOUR]<=12&&!0===getParsingFlags(config).bigHour&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||getLocale(config._l),null===input||void 0===format&&""===input?createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isDate(input)?config._d=input:isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):configFromInput(config),isValid(config)||(config._d=null),config))}function configFromInput(config){var input=config._i;isUndefined(input)?config._d=new Date(hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):isObject(input)?configFromObject(config):isNumber(input)?config._d=new Date(input):hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return!0!==locale&&!1!==locale||(strict=locale,locale=void 0),(isObject(input)&&isObjectEmpty(input)||isArray(input)&&0===input.length)&&(input=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}function min(){return pickBy("isBefore",[].slice.call(arguments,0))}function max(){return pickBy("isAfter",[].slice.call(arguments,0))}function isDurationValid(m){for(var key in m)if(-1===ordering.indexOf(key)||null!=m[key]&&isNaN(m[key]))return!1;for(var unitHasDecimal=!1,i=0;i<ordering.length;++i)if(m[ordering[i]]){if(unitHasDecimal)return!1;parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])&&(unitHasDecimal=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=isDurationValid(normalizedInput),this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+1e3*hours*60*60,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){return number<0?-1*Math.round(-1*number):Math.round(number)}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(matcher,string){var matches=(string||"").match(matcher);if(null===matches)return null;var chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=60*parts[1]+toInt(parts[2]);return 0===minutes?0:"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),hooks.updateOffset(res,!1),res):createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime,keepMinutes){var localAdjust,offset=this._offset||0;if(!this.isValid())return null!=input?this:NaN;if(null!=input){if("string"==typeof input){if(null===(input=offsetFromString(matchShortOffset,input)))return this}else Math.abs(input)<16&&!keepMinutes&&(input*=60);return!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addSubtract(this,createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?offset:getDateOffset(this)}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var tZone=offsetFromString(matchOffset,this._i);null!=tZone?this.utcOffset(tZone):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(input){return!!this.isValid()&&(input=input?createLocal(input).utcOffset():0,(this.utcOffset()-input)%60==0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:isNumber(input)?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(1e3*match[MILLISECOND]))*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(createLocal(duration.from),createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return base.isValid()&&other.isValid()?(other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res):{milliseconds:0,months:0}}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=createDuration(val,period),addSubtract(this,dur,direction),this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),days&&set$1(mom,"Date",get(mom,"Date")+days*isAdding),months&&setMonth(mom,get(mom,"Month")+months*isAdding),updateOffset&&hooks.updateOffset(mom,days||months))}function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"}function calendar$1(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())}function isBefore(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())}function isBetween(from,to,units,inclusivity){return inclusivity=inclusivity||"()",("("===inclusivity[0]?this.isAfter(from,units):!this.isBefore(from,units))&&(")"===inclusivity[1]?this.isBefore(to,units):!this.isAfter(to,units))}function isSame(input,units){var inputMs,localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&(units=normalizeUnits(units||"millisecond"),"millisecond"===units?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()))}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,delta,output;return this.isValid()?(that=cloneWithOffset(input,this),that.isValid()?(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)):NaN):NaN}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return b-anchor<0?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(){if(!this.isValid())return null;var m=this.clone().utc();return m.year()<0||m.year()>9999?formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var func="moment",zone="";this.isLocal()||(func=0===this.utcOffset()?"moment.utc":"moment.parseZone",zone="Z");var prefix="["+func+'("]',year=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",suffix=zone+'[")]';return this.format(prefix+year+"-MM-DD[T]HH:mm:ss.SSS"+suffix)}function format(inputString){inputString||(inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return void 0===(units=normalizeUnits(units))||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(weeksTarget=weeksInYear(input,dow,doy),week>weeksTarget&&(week=weeksTarget),setWeekAll.call(this,input,week,weekday,dow,doy))}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function createUnix(input){return createLocal(1e3*input)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(string){return string}function get$1(format,index,field,setter){var locale=getLocale(),utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)&&(index=format,format=void 0),format=format||"",null!=index)return get$1(format,index,field,"month");var i,out=[];for(i=0;i<12;i++)out[i]=get$1(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){"boolean"==typeof localeSorted?(isNumber(format)&&(index=format,format=void 0),format=format||""):(format=localeSorted,index=format,localeSorted=!1,isNumber(format)&&(index=format,format=void 0),format=format||"");var locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(null!=index)return get$1(format,(index+shift)%7,field,"day");var i,out=[];for(i=0;i<7;i++)out[i]=get$1(format,(i+shift)%7,field,"day");return out}function listMonths(format,index){return listMonthsImpl(format,index,"months")}function listMonthsShort(format,index){return listMonthsImpl(format,index,"monthsShort")}function listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")}function listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")}function listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")}function abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function add$1(input,value){return addSubtract$1(this,input,value,1)}function subtract$1(input,value){return addSubtract$1(this,input,value,-1)}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){if(!this.isValid())return NaN;var days,months,milliseconds=this._milliseconds;if("month"===(units=normalizeUnits(units))||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function valueOf$1(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN}function makeAs(alias){return function(){return this.as(alias)}}function get$2(units){return units=normalizeUnits(units),this.isValid()?this[units+"s"]():NaN}function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime$1(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function getSetRelativeTimeRounding(roundingFunction){return void 0===roundingFunction?round:"function"==typeof roundingFunction&&(round=roundingFunction,!0)}function getSetRelativeTimeThreshold(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,"s"===threshold&&(thresholds.ss=limit-1),!0))}function humanize(withSuffix){if(!this.isValid())return this.localeData().invalidDate();var locale=this.localeData(),output=relativeTime$1(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var minutes,hours,years,seconds=abs$1(this._milliseconds)/1e3,days=abs$1(this._days),months=abs$1(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,some;some=Array.prototype.some?Array.prototype.some:function(fun){for(var t=Object(this),len=t.length>>>0,i=0;i<len;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1};var some$1=some,momentProperties=hooks.momentProperties=[],updateInProgress=!1,deprecations={};hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null;var keys;keys=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res};var indexOf,keys$1=keys,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},aliases={},priorities={},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match6=/[+-]?\d{6}/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1};var indexOf$1=indexOf;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",/\d\d?/),addRegexToken("MM",/\d\d?/,/\d\d/),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",/[+-]?\d+/),addRegexToken("YY",/\d\d?/,/\d\d/),addRegexToken("YYYY",/\d{1,4}/,/\d{4}/),addRegexToken("YYYYY",/[+-]?\d{1,6}/,match6),addRegexToken("YYYYYY",/[+-]?\d{1,6}/,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",/\d\d?/),addRegexToken("ww",/\d\d?/,/\d\d/),addRegexToken("W",/\d\d?/),addRegexToken("WW",/\d\d?/,/\d\d/),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",/\d\d?/),addRegexToken("e",/\d\d?/),addRegexToken("E",/\d\d?/),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",/\d\d?/),addRegexToken("h",/\d\d?/),addRegexToken("k",/\d\d?/),addRegexToken("HH",/\d\d?/,/\d\d/),addRegexToken("hh",/\d\d?/,/\d\d/),addRegexToken("kk",/\d\d?/,/\d\d/),addRegexToken("hmm",/\d\d\d\d?/),addRegexToken("hmmss",/\d\d\d\d\d\d?/),addRegexToken("Hmm",/\d\d\d\d?/),addRegexToken("Hmmss",/\d\d\d\d\d\d?/),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(input,array,config){var kInput=toInt(input);array[HOUR]=24===kInput?0:kInput}),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var globalLocale,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:/[ap]\.?m?\.?/i},locales={},localeFamilies={},extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,basicRfcRegex=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:createInvalid()}),now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;hooks.updateOffset=function(){};var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;createDuration.fn=Duration.prototype,createDuration.invalid=createInvalid$1;var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",/[+-]?\d+/),addRegexToken("g",/[+-]?\d+/),addRegexToken("GG",/\d\d?/,/\d\d/),addRegexToken("gg",/\d\d?/,/\d\d/),addRegexToken("GGGG",/\d{1,4}/,/\d{4}/),addRegexToken("gggg",/\d{1,4}/,/\d{4}/),addRegexToken("GGGGG",/[+-]?\d{1,6}/,match6),addRegexToken("ggggg",/[+-]?\d{1,6}/,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",/\d/),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",/\d\d?/),addRegexToken("DD",/\d\d?/,/\d\d/),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(/\d\d?/)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",/\d{1,3}/),addRegexToken("DDDD",/\d{3}/),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",/\d\d?/),addRegexToken("mm",/\d\d?/,/\d\d/),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",/\d\d?/),addRegexToken("ss",/\d\d?/,/\d\d/),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",/\d{1,3}/,/\d/),addRegexToken("SS",/\d{1,3}/,/\d\d/),addRegexToken("SSS",/\d{1,3}/,/\d{3}/);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,/\d+/);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;proto.add=add,proto.calendar=calendar$1,proto.clone=clone,proto.diff=diff,proto.endOf=endOf,proto.format=format,proto.from=from,proto.fromNow=fromNow,proto.to=to,proto.toNow=toNow,proto.get=stringGet,proto.invalidAt=invalidAt,proto.isAfter=isAfter,proto.isBefore=isBefore,proto.isBetween=isBetween,proto.isSame=isSame,proto.isSameOrAfter=isSameOrAfter,proto.isSameOrBefore=isSameOrBefore,proto.isValid=isValid$2,proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=parsingFlags,proto.set=stringSet,proto.startOf=startOf,proto.subtract=subtract,proto.toArray=toArray,proto.toObject=toObject,proto.toDate=toDate,proto.toISOString=toISOString,proto.inspect=inspect,proto.toJSON=toJSON,proto.toString=toString,proto.unix=unix,proto.valueOf=valueOf,proto.creationData=creationData,proto.year=getSetYear,proto.isLeapYear=getIsLeapYear,proto.weekYear=getSetWeekYear,proto.isoWeekYear=getSetISOWeekYear,proto.quarter=proto.quarters=getSetQuarter,proto.month=getSetMonth,proto.daysInMonth=getDaysInMonth,proto.week=proto.weeks=getSetWeek,proto.isoWeek=proto.isoWeeks=getSetISOWeek,proto.weeksInYear=getWeeksInYear,proto.isoWeeksInYear=getISOWeeksInYear,proto.date=getSetDayOfMonth,proto.day=proto.days=getSetDayOfWeek,proto.weekday=getSetLocaleDayOfWeek,proto.isoWeekday=getSetISODayOfWeek,proto.dayOfYear=getSetDayOfYear,proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=getSetOffset,proto.utc=setOffsetToUTC,proto.local=setOffsetToLocal,proto.parseZone=setOffsetToParsedOffset,proto.hasAlignedHourOffset=hasAlignedHourOffset,proto.isDST=isDaylightSavingTime,proto.isLocal=isLocal,proto.isUtcOffset=isUtcOffset,proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=getZoneAbbr,proto.zoneName=getZoneName,proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var proto$1=Locale.prototype;proto$1.calendar=calendar,proto$1.longDateFormat=longDateFormat,proto$1.invalidDate=invalidDate,proto$1.ordinal=ordinal,proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=relativeTime,proto$1.pastFuture=pastFuture,proto$1.set=set,proto$1.months=localeMonths,proto$1.monthsShort=localeMonthsShort,proto$1.monthsParse=localeMonthsParse,proto$1.monthsRegex=monthsRegex,proto$1.monthsShortRegex=monthsShortRegex,proto$1.week=localeWeek,proto$1.firstDayOfYear=localeFirstDayOfYear,proto$1.firstDayOfWeek=localeFirstDayOfWeek,proto$1.weekdays=localeWeekdays,proto$1.weekdaysMin=localeWeekdaysMin,proto$1.weekdaysShort=localeWeekdaysShort,proto$1.weekdaysParse=localeWeekdaysParse,proto$1.weekdaysRegex=weekdaysRegex,proto$1.weekdaysShortRegex=weekdaysShortRegex,proto$1.weekdaysMinRegex=weekdaysMinRegex,proto$1.isPM=localeIsPM,proto$1.meridiem=localeMeridiem,getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10;return number+(1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,M:11},abs$1=Math.abs,proto$2=Duration.prototype;return proto$2.isValid=isValid$1,proto$2.abs=abs,proto$2.add=add$1,proto$2.subtract=subtract$1,proto$2.as=as,proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asYears=asYears,proto$2.valueOf=valueOf$1,proto$2._bubble=bubble,proto$2.get=get$2,proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=weeks,proto$2.months=months,proto$2.years=years,proto$2.humanize=humanize,proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",/[+-]?\d+/),addRegexToken("X",/[+-]?\d+(\.\d{1,3})?/),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),hooks.version="2.18.1",function(callback){hookCallback=callback}(createLocal),hooks.fn=proto,hooks.min=min,hooks.max=max,hooks.now=now,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=getSetRelativeTimeRounding,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.calendarFormat=getCalendarFormat,hooks.prototype=proto,hooks})}).call(exports,__webpack_require__(29)(module))},function(module,exports,__webpack_require__){(function(Buffer){function Hash(blockSize,finalSize){this._block=new Buffer(blockSize),this._finalSize=finalSize,this._blockSize=blockSize,this._len=0,this._s=0}Hash.prototype.update=function(data,enc){"string"==typeof data&&(enc=enc||"utf8",data=new Buffer(data,enc));for(var l=this._len+=data.length,s=this._s||0,f=0,buffer=this._block;s<l;){for(var t=Math.min(data.length,f+this._blockSize-s%this._blockSize),ch=t-f,i=0;i<ch;i++)buffer[s%this._blockSize+i]=data[i+f];s+=ch,f+=ch,s%this._blockSize==0&&this._update(buffer)}return this._s=s,this},Hash.prototype.digest=function(enc){var l=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),l%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(l,this._blockSize-4);var hash=this._update(this._block)||this._hash();return enc?hash.toString(enc):hash},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(global){function bind(obj,fn){return function(){return fn.apply(obj,Array.prototype.slice.call(arguments,0))}}function slice(arr,index){return Array.prototype.slice.call(arr,index||0)}function each(obj,fn){pluck(obj,function(key,val){return fn(key,val),!1})}function map(obj,fn){var res=isList(obj)?[]:{};return pluck(obj,function(v,k){return res[k]=fn(v,k),!1}),res}function pluck(obj,fn){if(isList(obj)){for(var i=0;i<obj.length;i++)if(fn(obj[i],i))return obj[i]}else for(var key in obj)if(obj.hasOwnProperty(key)&&fn(obj[key],key))return obj[key]}function isList(val){return null!=val&&"function"!=typeof val&&"number"==typeof val.length}function isFunction(val){return val&&"[object Function]"==={}.toString.call(val)}function isObject(val){return val&&"[object Object]"==={}.toString.call(val)}var assign=function(){return Object.assign?Object.assign:function(obj,props1,props2,etc){for(var i=1;i<arguments.length;i++)each(Object(arguments[i]),function(val,key){obj[key]=val});return obj}}(),create=function(){function F(){}return Object.create?function(obj,assignProps1,assignProps2,etc){var assignArgsList=slice(arguments,1);return assign.apply(this,[Object.create(obj)].concat(assignArgsList))}:function(obj,assignProps1,assignProps2,etc){var assignArgsList=slice(arguments,1);return F.prototype=obj,assign.apply(this,[new F].concat(assignArgsList))}}(),trim=function(){return String.prototype.trim?function(str){return String.prototype.trim.call(str)}:function(str){return str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}(),Global="undefined"!=typeof window?window:global;module.exports={assign:assign,create:create,trim:trim,bind:bind,slice:slice,each:each,map:map,pluck:pluck,isList:isList,isFunction:isFunction,isObject:isObject,Global:Global}}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){(function(){var XMLCData,XMLComment,XMLDeclaration,XMLDocType,XMLElement,XMLRaw,XMLText,isEmpty,isFunction,isObject,hasProp={}.hasOwnProperty;isObject=__webpack_require__(17),isFunction=__webpack_require__(78),isEmpty=__webpack_require__(579),XMLElement=null,XMLCData=null,XMLComment=null,XMLDeclaration=null,XMLDocType=null,XMLRaw=null,XMLText=null,module.exports=function(){function XMLNode(parent){this.parent=parent,this.options=this.parent.options,this.stringify=this.parent.stringify,null===XMLElement&&(XMLElement=__webpack_require__(232),XMLCData=__webpack_require__(228),XMLComment=__webpack_require__(229),XMLDeclaration=__webpack_require__(230),XMLDocType=__webpack_require__(231),XMLRaw=__webpack_require__(657),XMLText=__webpack_require__(659))}return XMLNode.prototype.element=function(name,attributes,text){var childNode,item,j,k,key,lastChild,len,len1,ref,val;if(lastChild=null,null==attributes&&(attributes={}),attributes=attributes.valueOf(),isObject(attributes)||(ref=[attributes,text],text=ref[0],attributes=ref[1]),null!=name&&(name=name.valueOf()),Array.isArray(name))for(j=0,len=name.length;j<len;j++)item=name[j],lastChild=this.element(item);else if(isFunction(name))lastChild=this.element(name.apply());else if(isObject(name)){for(key in name)if(hasProp.call(name,key))if(val=name[key],isFunction(val)&&(val=val.apply()),isObject(val)&&isEmpty(val)&&(val=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===key.indexOf(this.stringify.convertAttKey))lastChild=this.attribute(key.substr(this.stringify.convertAttKey.length),val);else if(!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===key.indexOf(this.stringify.convertPIKey))lastChild=this.instruction(key.substr(this.stringify.convertPIKey.length),val);else if(!this.options.separateArrayItems&&Array.isArray(val))for(k=0,len1=val.length;k<len1;k++)item=val[k],childNode={},childNode[key]=item,lastChild=this.element(childNode);else isObject(val)?(lastChild=this.element(key),lastChild.element(val)):lastChild=this.element(key,val)}else lastChild=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===name.indexOf(this.stringify.convertTextKey)?this.text(text):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===name.indexOf(this.stringify.convertCDataKey)?this.cdata(text):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===name.indexOf(this.stringify.convertCommentKey)?this.comment(text):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===name.indexOf(this.stringify.convertRawKey)?this.raw(text):this.node(name,attributes,text);if(null==lastChild)throw new Error("Could not create any elements with: "+name);return lastChild},XMLNode.prototype.insertBefore=function(name,attributes,text){var child,i,removed;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),removed=this.parent.children.splice(i),child=this.parent.element(name,attributes,text),Array.prototype.push.apply(this.parent.children,removed),child},XMLNode.prototype.insertAfter=function(name,attributes,text){var child,i,removed;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),removed=this.parent.children.splice(i+1),child=this.parent.element(name,attributes,text),Array.prototype.push.apply(this.parent.children,removed),child},XMLNode.prototype.remove=function(){var i;if(this.isRoot)throw new Error("Cannot remove the root element");return i=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[i,i-i+1].concat([])),this.parent},XMLNode.prototype.node=function(name,attributes,text){var child,ref;return null!=name&&(name=name.valueOf()),null==attributes&&(attributes={}),attributes=attributes.valueOf(),isObject(attributes)||(ref=[attributes,text],text=ref[0],attributes=ref[1]),child=new XMLElement(this,name,attributes),null!=text&&child.text(text),this.children.push(child),child},XMLNode.prototype.text=function(value){var child;return child=new XMLText(this,value),this.children.push(child),this},XMLNode.prototype.cdata=function(value){var child;return child=new XMLCData(this,value),this.children.push(child),this},XMLNode.prototype.comment=function(value){var child;return child=new XMLComment(this,value),this.children.push(child),this},XMLNode.prototype.raw=function(value){var child;return child=new XMLRaw(this,value),this.children.push(child),this},XMLNode.prototype.declaration=function(version,encoding,standalone){var doc,xmldec;return doc=this.document(),xmldec=new XMLDeclaration(doc,version,encoding,standalone),doc.xmldec=xmldec,doc.root()},XMLNode.prototype.doctype=function(pubID,sysID){var doc,doctype;return doc=this.document(),doctype=new XMLDocType(doc,pubID,sysID),doc.doctype=doctype,doctype},XMLNode.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},XMLNode.prototype.root=function(){var child;if(this.isRoot)return this;for(child=this.parent;!child.isRoot;)child=child.parent;return child},XMLNode.prototype.document=function(){return this.root().documentObject},XMLNode.prototype.end=function(options){return this.document().toString(options)},XMLNode.prototype.prev=function(){var i;if(this.isRoot)throw new Error("Root node has no siblings");if((i=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[i-1]},XMLNode.prototype.next=function(){var i;if(this.isRoot)throw new Error("Root node has no siblings");if(-1===(i=this.parent.children.indexOf(this))||i===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[i+1]},XMLNode.prototype.importXMLBuilder=function(xmlbuilder){var clonedRoot;return clonedRoot=xmlbuilder.root().clone(),clonedRoot.parent=this,clonedRoot.isRoot=!1,this.children.push(clonedRoot),this},XMLNode.prototype.ele=function(name,attributes,text){return this.element(name,attributes,text)},XMLNode.prototype.nod=function(name,attributes,text){return this.node(name,attributes,text)},XMLNode.prototype.txt=function(value){return this.text(value)},XMLNode.prototype.dat=function(value){return this.cdata(value)},XMLNode.prototype.com=function(value){return this.comment(value)},XMLNode.prototype.doc=function(){return this.document()},XMLNode.prototype.dec=function(version,encoding,standalone){return this.declaration(version,encoding,standalone)},XMLNode.prototype.dtd=function(pubID,sysID){return this.doctype(pubID,sysID)},XMLNode.prototype.e=function(name,attributes,text){return this.element(name,attributes,text)},XMLNode.prototype.n=function(name,attributes,text){return this.node(name,attributes,text)},XMLNode.prototype.t=function(value){return this.text(value)},XMLNode.prototype.d=function(value){return this.cdata(value)},XMLNode.prototype.c=function(value){return this.comment(value)},XMLNode.prototype.r=function(value){return this.raw(value)},XMLNode.prototype.u=function(){return this.up()},XMLNode}()}).call(this)},function(module,exports,__webpack_require__){var asn1=exports;asn1.bignum=__webpack_require__(6),asn1.define=__webpack_require__(251).define,asn1.base=__webpack_require__(42),asn1.constants=__webpack_require__(127),asn1.decoders=__webpack_require__(255),asn1.encoders=__webpack_require__(257)},function(module,exports,__webpack_require__){var base=exports;base.Reporter=__webpack_require__(253).Reporter,base.DecoderBuffer=__webpack_require__(126).DecoderBuffer,base.EncoderBuffer=__webpack_require__(126).EncoderBuffer,base.Node=__webpack_require__(252)},function(module,exports,__webpack_require__){function property(obj,name,value){null!==value&&void 0!==value&&util.property.apply(this,arguments)}function memoizedProperty(obj,name){obj.constructor.prototype[name]||util.memoizedProperty.apply(this,arguments)}function Shape(shape,options,memberName){options=options||{},property(this,"shape",shape.shape),property(this,"api",options.api,!1),property(this,"type",shape.type),property(this,"enum",shape.enum),property(this,"min",shape.min),property(this,"max",shape.max),property(this,"pattern",shape.pattern),property(this,"location",shape.location||this.location||"body"),property(this,"name",this.name||shape.xmlName||shape.queryName||shape.locationName||memberName),property(this,"isStreaming",shape.streaming||this.isStreaming||!1),property(this,"isComposite",shape.isComposite||!1),property(this,"isShape",!0,!1),property(this,"isQueryName",Boolean(shape.queryName),!1),property(this,"isLocationName",Boolean(shape.locationName),!1),property(this,"isIdempotent",!0===shape.idempotencyToken),property(this,"isJsonValue",!0===shape.jsonvalue),options.documentation&&(property(this,"documentation",shape.documentation),property(this,"documentationUrl",shape.documentationUrl)),shape.xmlAttribute&&property(this,"isXmlAttribute",shape.xmlAttribute||!1),property(this,"defaultValue",null),this.toWireFormat=function(value){return null===value||void 0===value?"":value},this.toType=function(value){return value}}function CompositeShape(shape){Shape.apply(this,arguments),property(this,"isComposite",!0),shape.flattened&&property(this,"flattened",shape.flattened||!1)}function StructureShape(shape,options){var requiredMap=null,firstInit=!this.isShape;CompositeShape.apply(this,arguments),firstInit&&(property(this,"defaultValue",function(){return{}}),property(this,"members",{}),property(this,"memberNames",[]),property(this,"required",[]),property(this,"isRequired",function(){return!1})),shape.members&&(property(this,"members",new Collection(shape.members,options,function(name,member){return Shape.create(member,options,name)})),memoizedProperty(this,"memberNames",function(){return shape.xmlOrder||Object.keys(shape.members)})),shape.required&&(property(this,"required",shape.required),property(this,"isRequired",function(name){if(!requiredMap){requiredMap={};for(var i=0;i<shape.required.length;i++)requiredMap[shape.required[i]]=!0}return requiredMap[name]},!1,!0)),property(this,"resultWrapper",shape.resultWrapper||null),shape.payload&&property(this,"payload",shape.payload),"string"==typeof shape.xmlNamespace?property(this,"xmlNamespaceUri",shape.xmlNamespace):"object"==typeof shape.xmlNamespace&&(property(this,"xmlNamespacePrefix",shape.xmlNamespace.prefix),property(this,"xmlNamespaceUri",shape.xmlNamespace.uri))}function ListShape(shape,options){var self=this,firstInit=!this.isShape;if(CompositeShape.apply(this,arguments),firstInit&&property(this,"defaultValue",function(){return[]}),shape.member&&memoizedProperty(this,"member",function(){return Shape.create(shape.member,options)}),this.flattened){var oldName=this.name;memoizedProperty(this,"name",function(){return self.member.name||oldName})}}function MapShape(shape,options){var firstInit=!this.isShape;CompositeShape.apply(this,arguments),firstInit&&(property(this,"defaultValue",function(){return{}}),property(this,"key",Shape.create({type:"string"},options)),property(this,"value",Shape.create({type:"string"},options))),shape.key&&memoizedProperty(this,"key",function(){return Shape.create(shape.key,options)}),shape.value&&memoizedProperty(this,"value",function(){return Shape.create(shape.value,options)})}function TimestampShape(shape){var self=this;if(Shape.apply(this,arguments),"header"===this.location)property(this,"timestampFormat","rfc822");else if(shape.timestampFormat)property(this,"timestampFormat",shape.timestampFormat);else if(this.api)if(this.api.timestampFormat)property(this,"timestampFormat",this.api.timestampFormat);else switch(this.api.protocol){case"json":case"rest-json":property(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":property(this,"timestampFormat","iso8601")}this.toType=function(value){return null===value||void 0===value?null:"function"==typeof value.toUTCString?value:"string"==typeof value||"number"==typeof value?util.date.parseTimestamp(value):null},this.toWireFormat=function(value){return util.date.format(value,self.timestampFormat)}}function StringShape(){Shape.apply(this,arguments);var nullLessProtocols=["rest-xml","query","ec2"];this.toType=function(value){return value=this.api&&nullLessProtocols.indexOf(this.api.protocol)>-1?value||"":value,this.isJsonValue?JSON.parse(value):value&&"function"==typeof value.toString?value.toString():value},this.toWireFormat=function(value){return this.isJsonValue?JSON.stringify(value):value}}function FloatShape(){Shape.apply(this,arguments),this.toType=function(value){return null===value||void 0===value?null:parseFloat(value)},this.toWireFormat=this.toType}function IntegerShape(){Shape.apply(this,arguments),this.toType=function(value){return null===value||void 0===value?null:parseInt(value,10)},this.toWireFormat=this.toType}function BinaryShape(){Shape.apply(this,arguments),this.toType=util.base64.decode,this.toWireFormat=util.base64.encode}function Base64Shape(){BinaryShape.apply(this,arguments)}function BooleanShape(){Shape.apply(this,arguments),this.toType=function(value){return"boolean"==typeof value?value:null===value||void 0===value?null:"true"===value}}var Collection=__webpack_require__(135),util=__webpack_require__(5);Shape.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},Shape.types={structure:StructureShape,list:ListShape,map:MapShape,boolean:BooleanShape,timestamp:TimestampShape,float:FloatShape,integer:IntegerShape,string:StringShape,base64:Base64Shape,binary:BinaryShape},Shape.resolve=function(shape,options){if(shape.shape){var refShape=options.api.shapes[shape.shape];if(!refShape)throw new Error("Cannot find shape reference: "+shape.shape);return refShape}return null},Shape.create=function(shape,options,memberName){if(shape.isShape)return shape;var refShape=Shape.resolve(shape,options);if(refShape){var filteredKeys=Object.keys(shape);if(options.documentation||(filteredKeys=filteredKeys.filter(function(name){return!name.match(/documentation/)})),filteredKeys===["shape"])return refShape;var InlineShape=function(){refShape.constructor.call(this,shape,options,memberName)};return InlineShape.prototype=refShape,new InlineShape}shape.type||(shape.members?shape.type="structure":shape.member?shape.type="list":shape.key?shape.type="map":shape.type="string");var origType=shape.type;if(Shape.normalizedTypes[shape.type]&&(shape.type=Shape.normalizedTypes[shape.type]),Shape.types[shape.type])return new Shape.types[shape.type](shape,options,memberName);throw new Error("Unrecognized shape type: "+origType)},Shape.shapes={StructureShape:StructureShape,ListShape:ListShape,MapShape:MapShape,StringShape:StringShape,BooleanShape:BooleanShape,Base64Shape:Base64Shape},module.exports=Shape},function(module,exports,__webpack_require__){(function(Buffer){module.exports=function(a,b){for(var length=Math.min(a.length,b.length),buffer=new Buffer(length),i=0;i<length;++i)buffer[i]=a[i]^b[i];return buffer}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function isArray(arg){return Array.isArray?Array.isArray(arg):"[object Array]"===objectToString(arg)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return"[object Date]"===objectToString(d)}function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg}function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Exception=void 0;var _Exception=__webpack_require__(158);exports.Exception=function(_BaseException){function Exception(){var _ref;_classCallCheck(this,Exception);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(_ref,[this].concat(args)))}return _inherits(Exception,_BaseException),Exception}(_Exception.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Extractable=void 0;var _Interface2=__webpack_require__(90);exports.Extractable=function(_Interface){function Extractable(){return _classCallCheck(this,Extractable),_possibleConstructorReturn(this,(Extractable.__proto__||Object.getPrototypeOf(Extractable)).call(this,["extract"]))}return _inherits(Extractable,_Interface),Extractable}(_Interface2.Interface)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Exception=void 0;var _deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);exports.Exception=function(_Core$Exception$Excep){function Exception(){var _ref;_classCallCheck(this,Exception);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(_ref,[this].concat(args)))}return _inherits(Exception,_Core$Exception$Excep),Exception}(_deepCore2.default.Exception.Exception)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_crypto=__webpack_require__(27),_crypto2=_interopRequireDefault(_crypto);exports.AbstractDriver=function(_Core$OOP$Interface){function AbstractDriver(){return _classCallCheck(this,AbstractDriver),_possibleConstructorReturn(this,(AbstractDriver.__proto__||Object.getPrototypeOf(AbstractDriver)).call(this,["log"]))}return _inherits(AbstractDriver,_Core$OOP$Interface),_createClass(AbstractDriver,null,[{key:"plainifyContext",value:function(context){let type=typeof context;return"object"===type?JSON.stringify(context):context instanceof Object?`${type}: ${context.toString()}`:context.toString()}},{key:"_md5",value:function(str){return _crypto2.default.createHash("md5").update(str).digest("hex")}},{key:"datetime",get:function(){return(new Date).toISOString()}},{key:"timeString",get:function(){return(new Date).toTimeString()}}]),AbstractDriver}(_deepCore2.default.OOP.Interface)},function(module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((er=arguments[1])instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length,i=0;i<len;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){return this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},function(module,exports,__webpack_require__){var Hoek=__webpack_require__(9),Ref=__webpack_require__(52),internals={any:null,date:__webpack_require__(104),string:__webpack_require__(186),number:__webpack_require__(184),boolean:__webpack_require__(183),alt:null,object:null};exports.schema=function(config){return internals.any=internals.any||new(__webpack_require__(13)),internals.alt=internals.alt||__webpack_require__(103),internals.object=internals.object||__webpack_require__(185),config&&"object"==typeof config?config.isJoi?config:Array.isArray(config)?internals.alt.try(config):config instanceof RegExp?internals.string.regex(config):config instanceof Date?internals.date.valid(config):internals.object.keys(config):"string"==typeof config?internals.string.valid(config):"number"==typeof config?internals.number.valid(config):"boolean"==typeof config?internals.boolean.valid(config):Ref.isRef(config)?internals.any.valid(config):(Hoek.assert(null===config,"Invalid schema content:",config),internals.any.valid(null))},exports.ref=function(id){return Ref.isRef(id)?id:Ref.create(id)}},function(module,exports,__webpack_require__){var Hoek=__webpack_require__(9);exports.create=function(key,options){Hoek.assert("string"==typeof key,"Invalid reference key:",key);var settings=Hoek.clone(options),ref=function(value,validationOptions){return Hoek.reach(ref.isContext?validationOptions.context:value,ref.key,settings)};return ref.isContext=key[0]===(settings&&settings.contextPrefix||"$"),ref.key=ref.isContext?key.slice(1):key,ref.path=ref.key.split(settings&&settings.separator||"."),ref.depth=ref.path.length,ref.root=ref.path[0],ref.isJoi=!0,ref.toString=function(){return(ref.isContext?"context:":"ref:")+ref.key},ref},exports.isRef=function(ref){return"function"==typeof ref&&ref.isJoi},exports.push=function(array,ref){exports.isRef(ref)&&!ref.isContext&&array.push(ref.root)}},function(module,exports,__webpack_require__){function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}var Symbol=__webpack_require__(72),getRawTag=__webpack_require__(535),objectToString=__webpack_require__(560),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=baseGetTag},function(module,exports,__webpack_require__){function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}var isFunction=__webpack_require__(78),isLength=__webpack_require__(113);module.exports=isArrayLike},function(module,exports){function isObjectLike(value){return null!=value&&"object"==typeof value}module.exports=isObjectLike},function(module,exports,__webpack_require__){function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}var arrayLikeKeys=__webpack_require__(499),baseKeys=__webpack_require__(192),isArrayLike=__webpack_require__(54);module.exports=keys},function(module,exports,__webpack_require__){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return start<0&&(start=str.length+start),str.substr(start,len)}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";(function(global,Buffer,process){function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function randomBytes(size,cb){if(size>65536)throw new Error("requested too many random bytes");var rawBytes=new global.Uint8Array(size);size>0&&crypto.getRandomValues(rawBytes);var bytes=new Buffer(rawBytes.buffer);return"function"==typeof cb?process.nextTick(function(){cb(null,bytes)}):bytes}var crypto=global.crypto||global.msCrypto;crypto&&crypto.getRandomValues?module.exports=randomBytes:module.exports=oldBrowser}).call(exports,__webpack_require__(4),__webpack_require__(0).Buffer,__webpack_require__(7))},function(module,exports,__webpack_require__){__webpack_require__(31);var AWS=__webpack_require__(1),Service=__webpack_require__(32),apiLoader=__webpack_require__(30);apiLoader.services.sts={},AWS.STS=Service.defineService("sts",["2011-06-15"]),__webpack_require__(291),Object.defineProperty(apiLoader.services.sts,"2011-06-15",{get:function(){return __webpack_require__(269)},enumerable:!0,configurable:!0}),module.exports=AWS.STS},function(module,exports,__webpack_require__){function populateMethod(req){req.httpRequest.method=req.service.api.operations[req.operation].httpMethod}function generateURI(endpointPath,operationPath,input,params){var uri=[endpointPath,operationPath].join("/");uri=uri.replace(/\/+/g,"/");var queryString={},queryStringSet=!1;if(util.each(input.members,function(name,member){var paramValue=params[name];if(null!==paramValue&&void 0!==paramValue)if("uri"===member.location){var regex=new RegExp("\\{"+member.name+"(\\+)?\\}");uri=uri.replace(regex,function(_,plus){return(plus?util.uriEscapePath:util.uriEscape)(String(paramValue))})}else"querystring"===member.location&&(queryStringSet=!0,"list"===member.type?queryString[member.name]=paramValue.map(function(val){return util.uriEscape(String(val))}):"map"===member.type?util.each(paramValue,function(key,value){Array.isArray(value)?queryString[key]=value.map(function(val){return util.uriEscape(String(val))}):queryString[key]=util.uriEscape(String(value))}):queryString[member.name]=util.uriEscape(String(paramValue)))}),queryStringSet){uri+=uri.indexOf("?")>=0?"&":"?";var parts=[];util.arrayEach(Object.keys(queryString).sort(),function(key){Array.isArray(queryString[key])||(queryString[key]=[queryString[key]]);for(var i=0;i<queryString[key].length;i++)parts.push(util.uriEscape(String(key))+"="+queryString[key][i])}),uri+=parts.join("&")}return uri}function populateURI(req){var operation=req.service.api.operations[req.operation],input=operation.input,uri=generateURI(req.httpRequest.endpoint.path,operation.httpPath,input,req.params);req.httpRequest.path=uri}function populateHeaders(req){var operation=req.service.api.operations[req.operation];util.each(operation.input.members,function(name,member){var value=req.params[name];null!==value&&void 0!==value&&("headers"===member.location&&"map"===member.type?util.each(value,function(key,memberValue){req.httpRequest.headers[member.name+key]=memberValue}):"header"===member.location&&(value=member.toWireFormat(value).toString(),member.isJsonValue&&(value=util.base64.encode(value)),req.httpRequest.headers[member.name]=value))})}function buildRequest(req){populateMethod(req),populateURI(req),populateHeaders(req)}function extractError(){}function extractData(resp){var req=resp.request,data={},r=resp.httpResponse,operation=req.service.api.operations[req.operation],output=operation.output,headers={};util.each(r.headers,function(k,v){headers[k.toLowerCase()]=v}),util.each(output.members,function(name,member){var header=(member.name||name).toLowerCase();if("headers"===member.location&&"map"===member.type){data[name]={};var location=member.isLocationName?member.name:"",pattern=new RegExp("^"+location+"(.+)","i");util.each(r.headers,function(k,v){var result=k.match(pattern);null!==result&&(data[name][result[1]]=v)})}else if("header"===member.location){if(void 0!==headers[header]){var value=member.isJsonValue?util.base64.decode(headers[header]):headers[header];data[name]=member.toType(value)}}else"statusCode"===member.location&&(data[name]=parseInt(r.statusCode,10))}),resp.data=data}var util=__webpack_require__(5);module.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData,generateURI:generateURI}},function(module,exports,__webpack_require__){(function(Buffer){function fixup_uint32(x){var x_pos;return x>uint_max||x<0?(x_pos=Math.abs(x)%uint_max,x<0?uint_max-x_pos:x_pos):x}function scrub_vec(v){for(;0<v.length;v++)v[0]=0;return!1}function Global(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function bufferToArray(buf){for(var len=buf.length/4,out=new Array(len),i=-1;++i<len;)out[i]=buf.readUInt32BE(4*i);return out}function AES(key){this._key=bufferToArray(key),this._doReset()}var uint_max=Math.pow(2,32);Global.prototype.init=function(){var d,i,sx,t,x,x2,x4,x8,xi,_i;for(d=function(){var _i,_results;for(_results=[],i=_i=0;_i<256;i=++_i)i<128?_results.push(i<<1):_results.push(i<<1^283);return _results}(),x=0,xi=0,i=_i=0;_i<256;i=++_i)sx=xi^xi<<1^xi<<2^xi<<3^xi<<4,sx=sx>>>8^255&sx^99,this.SBOX[x]=sx,this.INV_SBOX[sx]=x,x2=d[x],x4=d[x2],x8=d[x4],t=257*d[sx]^16843008*sx,this.SUB_MIX[0][x]=t<<24|t>>>8,this.SUB_MIX[1][x]=t<<16|t>>>16,this.SUB_MIX[2][x]=t<<8|t>>>24,this.SUB_MIX[3][x]=t,t=16843009*x8^65537*x4^257*x2^16843008*x,this.INV_SUB_MIX[0][sx]=t<<24|t>>>8,this.INV_SUB_MIX[1][sx]=t<<16|t>>>16,this.INV_SUB_MIX[2][sx]=t<<8|t>>>24,this.INV_SUB_MIX[3][sx]=t,0===x?x=xi=1:(x=x2^d[d[d[x8^x2]]],xi^=d[d[xi]]);return!0};var G=new Global;AES.blockSize=16,AES.prototype.blockSize=AES.blockSize,AES.keySize=32,AES.prototype.keySize=AES.keySize,AES.prototype._doReset=function(){var invKsRow,keySize,keyWords,ksRow,ksRows,t;for(keyWords=this._key,keySize=keyWords.length,this._nRounds=keySize+6,ksRows=4*(this._nRounds+1),this._keySchedule=[],ksRow=0;ksRow<ksRows;ksRow++)this._keySchedule[ksRow]=ksRow<keySize?keyWords[ksRow]:(t=this._keySchedule[ksRow-1],ksRow%keySize==0?(t=t<<8|t>>>24,t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t],t^=G.RCON[ksRow/keySize|0]<<24):keySize>6&&ksRow%keySize==4&&(t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t]),this._keySchedule[ksRow-keySize]^t);for(this._invKeySchedule=[],invKsRow=0;invKsRow<ksRows;invKsRow++)ksRow=ksRows-invKsRow,t=this._keySchedule[ksRow-(invKsRow%4?0:4)],this._invKeySchedule[invKsRow]=invKsRow<4||ksRow<=4?t:G.INV_SUB_MIX[0][G.SBOX[t>>>24]]^G.INV_SUB_MIX[1][G.SBOX[t>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[t>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&t]];return!0},AES.prototype.encryptBlock=function(M){M=bufferToArray(new Buffer(M));var out=this._doCryptBlock(M,this._keySchedule,G.SUB_MIX,G.SBOX),buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf},AES.prototype.decryptBlock=function(M){M=bufferToArray(new Buffer(M));var temp=[M[3],M[1]];M[1]=temp[0],M[3]=temp[1];var out=this._doCryptBlock(M,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX),buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[3],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[1],12),buf},AES.prototype.scrub=function(){scrub_vec(this._keySchedule),scrub_vec(this._invKeySchedule),scrub_vec(this._key)},AES.prototype._doCryptBlock=function(M,keySchedule,SUB_MIX,SBOX){var ksRow,s0,s1,s2,s3,t0,t1,t2,t3;s0=M[0]^keySchedule[0],s1=M[1]^keySchedule[1],s2=M[2]^keySchedule[2],s3=M[3]^keySchedule[3],ksRow=4;for(var round=1;round<this._nRounds;round++)t0=SUB_MIX[0][s0>>>24]^SUB_MIX[1][s1>>>16&255]^SUB_MIX[2][s2>>>8&255]^SUB_MIX[3][255&s3]^keySchedule[ksRow++],t1=SUB_MIX[0][s1>>>24]^SUB_MIX[1][s2>>>16&255]^SUB_MIX[2][s3>>>8&255]^SUB_MIX[3][255&s0]^keySchedule[ksRow++],t2=SUB_MIX[0][s2>>>24]^SUB_MIX[1][s3>>>16&255]^SUB_MIX[2][s0>>>8&255]^SUB_MIX[3][255&s1]^keySchedule[ksRow++],t3=SUB_MIX[0][s3>>>24]^SUB_MIX[1][s0>>>16&255]^SUB_MIX[2][s1>>>8&255]^SUB_MIX[3][255&s2]^keySchedule[ksRow++],s0=t0,s1=t1,s2=t2,s3=t3;return t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[255&s3])^keySchedule[ksRow++],t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[255&s0])^keySchedule[ksRow++],t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[255&s1])^keySchedule[ksRow++],t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[255&s2])^keySchedule[ksRow++],[fixup_uint32(t0),fixup_uint32(t1),fixup_uint32(t2),fixup_uint32(t3)]},exports.AES=AES}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){exports["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},exports["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},exports["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},exports["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},exports["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},exports["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},exports.aes128=exports["aes-128-cbc"],exports.aes192=exports["aes-192-cbc"],exports.aes256=exports["aes-256-cbc"],exports["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},exports["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},exports["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},exports["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},exports["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},exports["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},exports["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},exports["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},exports["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},exports["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},exports["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},exports["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},exports["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},exports["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},exports["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},exports["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},exports["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},exports["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},function(module,exports,__webpack_require__){(function(Buffer){function incr32(iv){for(var item,len=iv.length;len--;){if(255!==(item=iv.readUInt8(len))){item++,iv.writeUInt8(item,len);break}iv.writeUInt8(0,len)}}function getBlock(self){var out=self._cipher.encryptBlock(self._prev);return incr32(self._prev),out}var xor=__webpack_require__(44);exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore),_MissingCacheException=__webpack_require__(331),_NoFlushException=__webpack_require__(332),_DriverException=__webpack_require__(329);exports.AbstractDriver=function(_Core$OOP$Interface){function AbstractDriver(){_classCallCheck(this,AbstractDriver);var _this=_possibleConstructorReturn(this,(AbstractDriver.__proto__||Object.getPrototypeOf(AbstractDriver)).call(this,["_get","_has","_set","_invalidate","_type"]));return _this._buildId="",_this._namespace="",_this._silent=!1,_this}return _inherits(AbstractDriver,_Core$OOP$Interface),_createClass(AbstractDriver,[{key:"has",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{this._has(this._buildKey(key),callback)}catch(e){callback(new _DriverException.DriverException(e),null)}return this}},{key:"get",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{this.has(key,(error,result)=>{if(error)return void callback(new _DriverException.DriverException(error),null);if(!result&&!this._silent)return void callback(new _MissingCacheException.MissingCacheException(key),null);this._get(this._buildKey(key),callback)})}catch(e){callback(new _DriverException.DriverException(e),null)}return this}},{key:"set",value:function(key,value){let ttl=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,callback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};try{this._set(this._buildKey(key),value,ttl,callback)}catch(e){callback(new _DriverException.DriverException(e),null)}return this}},{key:"invalidate",value:function(key){let timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,callback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};try{this.has(key,(exception,result)=>{if(exception)return void callback(new _DriverException.DriverException(exception),null);if(!result)return void callback(null,!0);this._invalidate(this._buildKey(key),timeout,callback)})}catch(e){callback(new _DriverException.DriverException(e),null)}return this}},{key:"flush",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};try{this._flush(callback)}catch(e){callback(new _DriverException.DriverException(e),null)}return this}},{key:"type",value:function(){return this._type()}},{key:"_flush",value:function(){throw new _NoFlushException.NoFlushException}},{key:"_buildKey",value:function(key){return`${this._buildId}:${this._namespace}#${key}`}},{key:"_getKeyBuildId",value:function(key){if(this.isDeepKey(key)){let matches=key.match(/^([^:])+:/);return matches[1]}return null}},{key:"isDeepKey",value:function(key){return/.+:.*#.+/.test(key)}},{key:"buildId",get:function(){return this._buildId},set:function(id){this._buildId=id}},{key:"namespace",get:function(){return this._namespace},set:function(ns){this._namespace=ns}},{key:"silent",set:function(value){this._silent=value},get:function(){return this._silent}}]),AbstractDriver}(_deepCore2.default.OOP.Interface)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Policy=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Extractable2=__webpack_require__(47),_Collection=__webpack_require__(88),_Statement=__webpack_require__(162);exports.Policy=function(_Extractable){function Policy(){_classCallCheck(this,Policy);var _this=_possibleConstructorReturn(this,(Policy.__proto__||Object.getPrototypeOf(Policy)).call(this));return _this._version=Policy.DEFAULT_VERSION,_this._statement=new _Collection.Collection(_Statement.Statement),_this}return _inherits(Policy,_Extractable),_createClass(Policy,[{key:"extract",value:function(){return{Version:this._version,Statement:this._statement.extract()}}},{key:"toString",value:function(){return JSON.stringify(this.extract())}},{key:"version",set:function(version){this._version=version},get:function(){return this._version}},{key:"statement",get:function(){return this._statement}}],[{key:"ANY",get:function(){return"*"}},{key:"DEFAULT_VERSION",get:function(){return"2012-10-17"}}]),Policy}(_Extractable2.Extractable)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Log=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepKernel=__webpack_require__(21),_deepKernel2=_interopRequireDefault(_deepKernel),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_ConsoleDriver=__webpack_require__(378),_RavenDriver=__webpack_require__(390),_RavenBrowserDriver=__webpack_require__(389),_RumSqsDriver=__webpack_require__(391),_AbstractDriver=__webpack_require__(49);exports.Log=function(_Kernel$ContainerAwar){function Log(){let drivers=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Log);var _this=_possibleConstructorReturn(this,(Log.__proto__||Object.getPrototypeOf(Log)).call(this));_this._drivers=new _deepCore2.default.Generic.ObjectStorage;for(let driverName in drivers)drivers.hasOwnProperty(driverName)&&_this.register(driverName,drivers[driverName]);return _this}return _inherits(Log,_Kernel$ContainerAwar),_createClass(Log,[{key:"boot",value:function(kernel,callback){let globals=kernel.config.globals,drivers=globals.logDrivers||{};drivers.hasOwnProperty("console")||kernel.env===_deepKernel2.default.PROD_ENVIRONMENT||(drivers.console={});for(let driverName in drivers)drivers.hasOwnProperty(driverName)&&this.register(driverName,drivers[driverName]);callback()}},{key:"create",value:function(type){for(var driver,_len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];switch(type.toLowerCase()){case"console":driver=new(Function.prototype.bind.apply(_ConsoleDriver.ConsoleDriver,[null].concat(args)));break;case"raven":case"sentry":let DriverPrototype=this.container.get(_deepKernel2.default.CONTEXT).isFrontend?_RavenBrowserDriver.RavenBrowserDriver:_RavenDriver.RavenDriver;driver=new DriverPrototype(args.length>0&&"object"==typeof args[0]?args[0].dsn:null);break;case"rum":let rumQueueUrl=this.kernel.config.hasOwnProperty("rumQueue")?this.kernel.config.rumQueue.url:"",enabled=!!(args.length>0&&args[0]&&"object"==typeof args[0])&&args[0].enabled;driver=new _RumSqsDriver.RumSqsDriver(rumQueueUrl,this.kernel,enabled);break;default:throw new _deepCore2.default.Exception.InvalidArgumentException(type,"[Console, Raven, Sentry, RUM]")}return driver}},{key:"overrideJsConsole",value:function(){var _ref;let consoleDriver=this._drivers.find(_ConsoleDriver.ConsoleDriver);return consoleDriver||this.register("console"),(_ref=consoleDriver||this._drivers.find(_ConsoleDriver.ConsoleDriver)).overrideNative.apply(_ref,arguments),this}},{key:"register",value:function(driver){if("string"==typeof driver){for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];driver=this.create.apply(this,[driver].concat(args))}if(!(driver instanceof _AbstractDriver.AbstractDriver))throw new _deepCore2.default.Exception.InvalidArgumentException(driver,"AbstractDriver");return this._drivers.add(driver),this}},{key:"log",value:function(msg){let level=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Log.INFO,context=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},driversArr=this.drivers.iterator;for(let driverKey in driversArr)if(driversArr.hasOwnProperty(driverKey)){let driver=driversArr[driverKey];driver instanceof _RumSqsDriver.RumSqsDriver||driver.log(msg,level,context)}return this}},{key:"isRumEnabled",value:function(){let driver=this.rumDriver();return driver&&driver.enabled}},{key:"rumLog",value:function(event){let driver=this.rumDriver();driver&&driver.log(event,(error,data)=>{error&&this.log(error,Log.ERROR,event)})}},{key:"rumFlush",value:function(callback){let driver=this.rumDriver();if(!driver)return void callback(null,null);driver.flush((error,data)=>{error&&this.log(error,Log.ERROR);callback(error,data)})}},{key:"rumDriver",value:function(){return this.drivers.find(_RumSqsDriver.RumSqsDriver)}},{key:"debug",value:function(msg){let context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(msg,Log.DEBUG,context)}},{key:"err",value:function(msg){let context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(msg,Log.ERROR,context)}},{key:"error",value:function(){return this.err.apply(this,arguments)}},{key:"info",value:function(msg){let context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(msg,Log.INFO,context)}},{key:"warn",value:function(msg){let context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(msg,Log.WARNING,context)}},{key:"warning",value:function(){return this.warn.apply(this,arguments)}},{key:"emerg",value:function(msg){let context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(msg,Log.EMERGENCY,context)}},{key:"emergency",value:function(){return this.emerg.apply(this,arguments)}},{key:"crit",value:function(msg){let context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(msg,Log.CRITICAL,context)}},{key:"critical",value:function(){return this.crit.apply(this,arguments)}},{key:"notice",value:function(msg){let context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(msg,Log.NOTICE,context)}},{key:"alert",value:function(msg){let context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.log(msg,Log.ALERT,context)}},{key:"drivers",get:function(){return this._drivers}}],[{key:"LEVELS",get:function(){return[Log.EMERGENCY,Log.ALERT,Log.CRITICAL,Log.ERROR,Log.WARNING,Log.NOTICE,Log.INFO,Log.DEBUG]}},{key:"EMERGENCY",get:function(){return"emergency"}},{key:"ALERT",get:function(){return"alert"}},{key:"CRITICAL",get:function(){return"critical"}},{key:"ERROR",get:function(){return"error"}},{key:"WARNING",get:function(){return"warning"}},{key:"NOTICE",get:function(){return"notice"}},{key:"INFO",get:function(){return"info"}},{key:"DEBUG",get:function(){return"debug"}}]),Log}(_deepKernel2.default.ContainerAware)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractStrategy=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);exports.AbstractStrategy=function(_Core$OOP$Interface){function AbstractStrategy(){return _classCallCheck(this,AbstractStrategy),_possibleConstructorReturn(this,(AbstractStrategy.__proto__||Object.getPrototypeOf(AbstractStrategy)).call(this,["onSuccess","onError"]))}return _inherits(AbstractStrategy,_Core$OOP$Interface),_createClass(AbstractStrategy,[{key:"decide",value:function(response){return this[response.isError?"onError":"onSuccess"](response)}}]),AbstractStrategy}(_deepCore2.default.OOP.Interface)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Exception=void 0;var _deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);exports.Exception=function(_Core$Exception$Excep){function Exception(){var _ref;_classCallCheck(this,Exception);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(_ref,[this].concat(args)))}return _inherits(Exception,_Core$Exception$Excep),Exception}(_deepCore2.default.Exception.Exception)},function(module,exports,__webpack_require__){"use strict";var curve=exports;curve.base=__webpack_require__(459),curve.short=__webpack_require__(462),curve.mont=__webpack_require__(461),curve.edwards=__webpack_require__(460)},function(module,exports,__webpack_require__){(function(Buffer){function EVP_BytesToKey(password,salt,keyLen,ivLen){Buffer.isBuffer(password)||(password=new Buffer(password,"binary")),salt&&!Buffer.isBuffer(salt)&&(salt=new Buffer(salt,"binary")),keyLen/=8,ivLen=ivLen||0;for(var md_buf,i,ki=0,ii=0,key=new Buffer(keyLen),iv=new Buffer(ivLen),addmd=0,bufs=[];;){if(addmd++>0&&bufs.push(md_buf),bufs.push(password),salt&&bufs.push(salt),md_buf=md5(Buffer.concat(bufs)),bufs=[],i=0,keyLen>0)for(;;){if(0===keyLen)break;if(i===md_buf.length)break;key[ki++]=md_buf[i],keyLen--,i++}if(ivLen>0&&i!==md_buf.length)for(;;){if(0===ivLen)break;if(i===md_buf.length)break;iv[ii++]=md_buf[i],ivLen--,i++}if(0===keyLen&&0===ivLen)break}for(i=0;i<md_buf.length;i++)md_buf[i]=0;return{key:key,iv:iv}}var md5=__webpack_require__(155);module.exports=EVP_BytesToKey}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var listCacheClear=__webpack_require__(546),listCacheDelete=__webpack_require__(547),listCacheGet=__webpack_require__(548),listCacheHas=__webpack_require__(549),listCacheSet=__webpack_require__(550);ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},function(module,exports,__webpack_require__){var root=__webpack_require__(19),Symbol=root.Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}var eq=__webpack_require__(77);module.exports=assocIndexOf},function(module,exports,__webpack_require__){function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}var isKeyable=__webpack_require__(544);module.exports=getMapData},function(module,exports,__webpack_require__){var getNative=__webpack_require__(25),nativeCreate=getNative(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}var isSymbol=__webpack_require__(114),INFINITY=1/0;module.exports=toKey},function(module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},function(module,exports,__webpack_require__){function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}var baseGetTag=__webpack_require__(53),isObject=__webpack_require__(17),asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";module.exports=isFunction},function(module,exports,__webpack_require__){(function(Buffer){function parseKeys(buffer){var password;"object"!=typeof buffer||Buffer.isBuffer(buffer)||(password=buffer.passphrase,buffer=buffer.key),"string"==typeof buffer&&(buffer=new Buffer(buffer));var subtype,ndata,stripped=fixProc(buffer,password),type=stripped.tag,data=stripped.data;switch(type){case"CERTIFICATE":ndata=asn1.certificate.decode(data,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(ndata||(ndata=asn1.PublicKey.decode(data,"der")),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ndata.subjectPrivateKey=ndata.subjectPublicKey,{type:"ec",data:ndata};case"1.2.840.10040.4.1":return ndata.algorithm.params.pub_key=asn1.DSAparam.decode(ndata.subjectPublicKey.data,"der"),{type:"dsa",data:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"ENCRYPTED PRIVATE KEY":data=asn1.EncryptedPrivateKey.decode(data,"der"),data=decrypt(data,password);case"PRIVATE KEY":switch(ndata=asn1.PrivateKey.decode(data,"der"),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ndata.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(ndata.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ndata.algorithm.params.priv_key=asn1.DSAparam.decode(ndata.subjectPrivateKey,"der"),{type:"dsa",params:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(data,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(data,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(data,"der")};case"EC PRIVATE KEY":return data=asn1.ECPrivateKey.decode(data,"der"),{curve:data.parameters.value,privateKey:data.privateKey};default:throw new Error("unknown key type "+type)}}function decrypt(data,password){var salt=data.algorithm.decrypt.kde.kdeparams.salt,iters=parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(),10),algo=aesid[data.algorithm.decrypt.cipher.algo.join(".")],iv=data.algorithm.decrypt.cipher.iv,cipherText=data.subjectPrivateKey,keylen=parseInt(algo.split("-")[1],10)/8,key=compat.pbkdf2Sync(password,salt,iters,keylen),cipher=ciphers.createDecipheriv(algo,key,iv),out=[];return out.push(cipher.update(cipherText)),out.push(cipher.final()),Buffer.concat(out)}var asn1=__webpack_require__(590),aesid=__webpack_require__(589),fixProc=__webpack_require__(592),ciphers=__webpack_require__(83),compat=__webpack_require__(211);module.exports=parseKeys,parseKeys.signature=asn1.signature}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function JsonBuilder(){}function translate(value,shape){if(shape&&void 0!==value&&null!==value)switch(shape.type){case"structure":return translateStructure(value,shape);case"map":return translateMap(value,shape);case"list":return translateList(value,shape);default:return translateScalar(value,shape)}}function translateStructure(structure,shape){var struct={};return util.each(structure,function(name,value){var memberShape=shape.members[name];if(memberShape){if("body"!==memberShape.location)return;var locationName=memberShape.isLocationName?memberShape.name:name,result=translate(value,memberShape);void 0!==result&&(struct[locationName]=result)}}),struct}function translateList(list,shape){var out=[];return util.arrayEach(list,function(value){var result=translate(value,shape.member);void 0!==result&&out.push(result)}),out}function translateMap(map,shape){var out={};return util.each(map,function(key,value){var result=translate(value,shape.value);void 0!==result&&(out[key]=result)}),out}function translateScalar(value,shape){return shape.toWireFormat(value)}var util=__webpack_require__(5);JsonBuilder.prototype.build=function(value,shape){return JSON.stringify(translate(value,shape))},module.exports=JsonBuilder},function(module,exports,__webpack_require__){function JsonParser(){}function translate(value,shape){if(shape&&void 0!==value)switch(shape.type){case"structure":return translateStructure(value,shape);case"map":return translateMap(value,shape);case"list":return translateList(value,shape);default:return translateScalar(value,shape)}}function translateStructure(structure,shape){if(null!=structure){var struct={},shapeMembers=shape.members;return util.each(shapeMembers,function(name,memberShape){var locationName=memberShape.isLocationName?memberShape.name:name;if(Object.prototype.hasOwnProperty.call(structure,locationName)){var value=structure[locationName],result=translate(value,memberShape);void 0!==result&&(struct[name]=result)}}),struct}}function translateList(list,shape){if(null!=list){var out=[];return util.arrayEach(list,function(value){var result=translate(value,shape.member);void 0===result?out.push(null):out.push(result)}),out}}function translateMap(map,shape){if(null!=map){var out={};return util.each(map,function(key,value){var result=translate(value,shape.value);out[key]=void 0===result?null:result}),out}}function translateScalar(value,shape){return shape.toType(value)}var util=__webpack_require__(5);JsonParser.prototype.parse=function(value,shape){return translate(JSON.parse(value),shape)},module.exports=JsonParser},function(module,exports,__webpack_require__){function buildRequest(req){var httpRequest=req.httpRequest,api=req.service.api,target=api.targetPrefix+"."+api.operations[req.operation].name,version=api.jsonVersion||"1.0",input=api.operations[req.operation].input,builder=new JsonBuilder;1===version&&(version="1.0"),httpRequest.body=builder.build(req.params||{},input),httpRequest.headers["Content-Type"]="application/x-amz-json-"+version,httpRequest.headers["X-Amz-Target"]=target}function extractError(resp){var error={},httpResponse=resp.httpResponse;if(error.code=httpResponse.headers["x-amzn-errortype"]||"UnknownError","string"==typeof error.code&&(error.code=error.code.split(":")[0]),httpResponse.body.length>0)try{var e=JSON.parse(httpResponse.body.toString());(e.__type||e.code)&&(error.code=(e.__type||e.code).split("#").pop()),"RequestEntityTooLarge"===error.code?error.message="Request body must be less than 1 MB":error.message=e.message||e.Message||null}catch(e){error.statusCode=httpResponse.statusCode,error.message=httpResponse.statusMessage}else error.statusCode=httpResponse.statusCode,error.message=httpResponse.statusCode.toString();resp.error=util.error(new Error,error)}function extractData(resp){var body=resp.httpResponse.body.toString()||"{}";if(!1===resp.request.service.config.convertResponseTypes)resp.data=JSON.parse(body);else{var operation=resp.request.service.api.operations[resp.request.operation],shape=operation.output||{},parser=new JsonParser;resp.data=parser.parse(body,shape)}}var util=__webpack_require__(5),JsonBuilder=__webpack_require__(80),JsonParser=__webpack_require__(81);module.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData}},function(module,exports,__webpack_require__){function getCiphers(){return Object.keys(modes)}var ciphers=__webpack_require__(307);exports.createCipher=exports.Cipher=ciphers.createCipher,exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv;var deciphers=__webpack_require__(306);exports.createDecipher=exports.Decipher=deciphers.createDecipher,exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv;var modes=__webpack_require__(62);exports.listCiphers=exports.getCiphers=getCiphers},function(module,exports,__webpack_require__){(function(Buffer){function blind(priv){var r=getr(priv);return{blinder:r.toRed(bn.mont(priv.modulus)).redPow(new bn(priv.publicExponent)).fromRed(),unblinder:r.invm(priv.modulus)}}function crt(msg,priv){var blinds=blind(priv),len=priv.modulus.byteLength(),blinded=(bn.mont(priv.modulus),new bn(msg).mul(blinds.blinder).umod(priv.modulus)),c1=blinded.toRed(bn.mont(priv.prime1)),c2=blinded.toRed(bn.mont(priv.prime2)),qinv=priv.coefficient,p=priv.prime1,q=priv.prime2,m1=c1.redPow(priv.exponent1),m2=c2.redPow(priv.exponent2);m1=m1.fromRed(),m2=m2.fromRed();var h=m1.isub(m2).imul(qinv).umod(p);return h.imul(q),m2.iadd(h),new Buffer(m2.imul(blinds.unblinder).umod(priv.modulus).toArray(!1,len))}function getr(priv){for(var len=priv.modulus.byteLength(),r=new bn(randomBytes(len));r.cmp(priv.modulus)>=0||!r.umod(priv.prime1)||!r.umod(priv.prime2);)r=new bn(randomBytes(len));return r}var bn=__webpack_require__(6),randomBytes=__webpack_require__(58);module.exports=crt,crt.getr=getr}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(global){var buffer=__webpack_require__(0),Buffer=buffer.Buffer,SlowBuffer=buffer.SlowBuffer,MAX_LEN=buffer.kMaxLength||2147483647;exports.alloc=function(size,fill,encoding){if("function"==typeof Buffer.alloc)return Buffer.alloc(size,fill,encoding);if("number"==typeof encoding)throw new TypeError("encoding must not be number");if("number"!=typeof size)throw new TypeError("size must be a number");if(size>MAX_LEN)throw new RangeError("size is too large");var enc=encoding,_fill=fill;void 0===_fill&&(enc=void 0,_fill=0);var buf=new Buffer(size);if("string"==typeof _fill)for(var fillBuf=new Buffer(_fill,enc),flen=fillBuf.length,i=-1;++i<size;)buf[i]=fillBuf[i%flen];else buf.fill(_fill);return buf},exports.allocUnsafe=function(size){if("function"==typeof Buffer.allocUnsafe)return Buffer.allocUnsafe(size);if("number"!=typeof size)throw new TypeError("size must be a number");if(size>MAX_LEN)throw new RangeError("size is too large");return new Buffer(size)},exports.from=function(value,encodingOrOffset,length){if("function"==typeof Buffer.from&&(!global.Uint8Array||Uint8Array.from!==Buffer.from))return Buffer.from(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('"value" argument must not be a number');if("string"==typeof value)return new Buffer(value,encodingOrOffset);if("undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer){var offset=encodingOrOffset;if(1===arguments.length)return new Buffer(value);void 0===offset&&(offset=0);var len=length;if(void 0===len&&(len=value.byteLength-offset),offset>=value.byteLength)throw new RangeError("'offset' is out of bounds");if(len>value.byteLength-offset)throw new RangeError("'length' is out of bounds");return new Buffer(value.slice(offset,offset+len))}if(Buffer.isBuffer(value)){var out=new Buffer(value.length);return value.copy(out,0,0,value.length),out}if(value){if(Array.isArray(value)||"undefined"!=typeof ArrayBuffer&&value.buffer instanceof ArrayBuffer||"length"in value)return new Buffer(value);if("Buffer"===value.type&&Array.isArray(value.data))return new Buffer(value.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},exports.allocUnsafeSlow=function(size){if("function"==typeof Buffer.allocUnsafeSlow)return Buffer.allocUnsafeSlow(size);if("number"!=typeof size)throw new TypeError("size must be a number");if(size>=MAX_LEN)throw new RangeError("size is too large");return new SlowBuffer(size)}}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function Hmac(alg,key){Transform.call(this),alg=alg.toLowerCase(),"string"==typeof key&&(key=new Buffer(key));var blocksize="sha512"===alg||"sha384"===alg?128:64;this._alg=alg,this._key=key,key.length>blocksize?key=createHash(alg).update(key).digest():key.length<blocksize&&(key=Buffer.concat([key,ZEROS],blocksize));for(var ipad=this._ipad=new Buffer(blocksize),opad=this._opad=new Buffer(blocksize),i=0;i<blocksize;i++)ipad[i]=54^key[i],opad[i]=92^key[i];this._hash=createHash(alg).update(ipad)}var createHash=__webpack_require__(34),inherits=__webpack_require__(2),Transform=__webpack_require__(122).Transform,ZEROS=new Buffer(128);ZEROS.fill(0),inherits(Hmac,Transform),Hmac.prototype.update=function(data,enc){return this._hash.update(data,enc),this},Hmac.prototype._transform=function(data,_,next){this._hash.update(data),next()},Hmac.prototype._flush=function(next){this.push(this.digest()),next()},Hmac.prototype.digest=function(enc){var h=this._hash.digest();return createHash(this._alg).update(this._opad).update(h).digest(enc)},module.exports=function(alg,key){return new Hmac(alg,key)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function toArray(buf,bigEndian){if(buf.length%intSize!=0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}for(var arr=[],fn=bigEndian?buf.readInt32BE:buf.readInt32LE,i=0;i<buf.length;i+=intSize)arr.push(fn.call(buf,i));return arr}function toBuffer(arr,size,bigEndian){for(var buf=new Buffer(size),fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE,i=0;i<arr.length;i++)fn.call(buf,arr[i],4*i,!0);return buf}function hash(buf,fn,hashSize,bigEndian){return Buffer.isBuffer(buf)||(buf=new Buffer(buf)),toBuffer(fn(toArray(buf,bigEndian),buf.length*chrsz),hashSize,bigEndian)}var Buffer=__webpack_require__(0).Buffer,intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;module.exports={hash:hash}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Collection=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Extractable2=__webpack_require__(47),_InvalidArgumentException=__webpack_require__(35);exports.Collection=function(_Extractable){function Collection(prototype){_classCallCheck(this,Collection);var _this=_possibleConstructorReturn(this,(Collection.__proto__||Object.getPrototypeOf(Collection)).call(this));if(prototype.__proto__!==_Extractable2.Extractable)throw new _InvalidArgumentException.InvalidArgumentException(prototype,_Extractable2.Extractable);return _this._prototype=prototype,_this._vector=[],_this}return _inherits(Collection,_Extractable),_createClass(Collection,[{key:"create",value:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return new(Function.prototype.bind.apply(this._prototype,[null].concat(args)))}},{key:"add",value:function(){let instance=1===arguments.length&&(arguments.length<=0?void 0:arguments[0])instanceof this._prototype?arguments.length<=0?void 0:arguments[0]:this.create.apply(this,arguments);return this._vector.push(instance),instance}},{key:"count",value:function(){return this._vector.length}},{key:"list",value:function(){return this._vector}},{key:"extract",value:function(){let vector=[];for(let itemKey in this._vector)if(this._vector.hasOwnProperty(itemKey)){let item=this._vector[itemKey];vector.push(item.extract())}return vector}},{key:"prototype",get:function(){return this._prototype}}]),Collection}(_Extractable2.Extractable)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.Service=function(){function Service(){_classCallCheck(this,Service)}return _createClass(Service,null,[{key:"identifier",value:function(service){return`${service}.amazonaws.com`}},{key:"exists",value:function(name){return-1!==Service.list().indexOf(name)}},{key:"list",value:function(){return[Service.ANY,Service.LAMBDA,Service.SIMPLE_STORAGE_SERVICE,Service.DYNAMO_DB,Service.SIMPLE_NOTIFICATION_SERVICE,Service.COGNITO_IDENTITY,Service.COGNITO_IDENTITY_PROVIDER,Service.COGNITO_SYNC,Service.ELASTIC_CACHE,Service.IDENTITY_AND_ACCESS_MANAGEMENT,Service.KINESIS,Service.CLOUD_FRONT,Service.SECURITY_TOKEN_SERVICE,Service.CLOUD_WATCH_LOGS,Service.API_GATEWAY,Service.API_GATEWAY_EXECUTE,Service.CLOUD_SEARCH,Service.SIMPLE_QUEUE_SERVICE,Service.CERTIFICATE_MANAGER,Service.EC2,Service.ELASTIC_SEARCH,Service.CLOUD_WATCH_EVENTS,Service.CLOUD_WATCH,Service.SIMPLE_EMAIL_SERVICE,Service.LAMBDA_EDGE]}},{key:"ANY",get:function(){return"*"}},{key:"EC2",get:function(){return"ec2"}},{key:"LAMBDA",get:function(){return"lambda"}},{key:"SIMPLE_EMAIL_SERVICE",get:function(){return"ses"}},{key:"SIMPLE_STORAGE_SERVICE",get:function(){return"s3"}},{key:"DYNAMO_DB",get:function(){return"dynamodb"}},{key:"SIMPLE_NOTIFICATION_SERVICE",get:function(){return"sns"}},{key:"COGNITO_IDENTITY",get:function(){return"cognito-identity"}},{key:"COGNITO_IDENTITY_PROVIDER",get:function(){return"cognito-idp"}},{key:"COGNITO_SYNC",get:function(){return"cognito-sync"}},{key:"ELASTIC_CACHE",get:function(){return"elasticache"}},{key:"IDENTITY_AND_ACCESS_MANAGEMENT",get:function(){return"iam"}},{key:"KINESIS",get:function(){return"kinesis"}},{key:"CLOUD_FRONT",get:function(){return"cloudfront"}},{key:"CLOUD_SEARCH",get:function(){return"cloudsearch"}},{key:"SECURITY_TOKEN_SERVICE",get:function(){return"sts"}},{key:"CLOUD_WATCH",get:function(){return"cloudwatch"}},{key:"CLOUD_WATCH_LOGS",get:function(){return"logs"}},{key:"CLOUD_WATCH_EVENTS",get:function(){return"events"}},{key:"API_GATEWAY",get:function(){return"apigateway"}},{key:"API_GATEWAY_EXECUTE",get:function(){return"execute-api"}},{key:"SIMPLE_QUEUE_SERVICE",get:function(){return"sqs"}},{key:"CERTIFICATE_MANAGER",get:function(){return"acm"}},{key:"ELASTIC_SEARCH",get:function(){return"es"}},{key:"LAMBDA_EDGE",get:function(){return"edgelambda"}}]),Service}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Interface=void 0;var _MethodsNotImplementedException=__webpack_require__(165);exports.Interface=function Interface(){_classCallCheck(this,Interface);for(var _len=arguments.length,abstractMethods=Array(_len),_key=0;_key<_len;_key++)abstractMethods[_key]=arguments[_key];let methods=1===abstractMethods.length&&abstractMethods[0]instanceof Array?abstractMethods[0]:abstractMethods,notImplementedMethods=[];for(let abstractMethodKey in methods)if(methods.hasOwnProperty(abstractMethodKey)){let abstractMethod=methods[abstractMethodKey];this[abstractMethod]instanceof Function||notImplementedMethods.push(abstractMethod)}if(notImplementedMethods.length>0)throw new _MethodsNotImplementedException.MethodsNotImplementedException(notImplementedMethods)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Injectable=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Instance=__webpack_require__(173),_deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore),_MissingWorkingMicroserviceException=__webpack_require__(377);exports.Injectable=function(){function Injectable(){_classCallCheck(this,Injectable),this._microservice=null}return _createClass(Injectable,[{key:"bind",value:function(microservice){return this.microservice=microservice,this}},{key:"microservice",get:function(){if(null===this._microservice)throw new _MissingWorkingMicroserviceException.MissingWorkingMicroserviceException;return this._microservice},set:function(instance){if(!(instance instanceof _Instance.Instance))throw new _deepCore2.default.Exception.InvalidArgumentException(instance,"Microservice");this._microservice=instance}}]),Injectable}()},function(module,exports,__webpack_require__){"use strict";(function(process){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractEvent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_joi=__webpack_require__(24),_joi2=_interopRequireDefault(_joi);exports.AbstractEvent=function(_Core$OOP$Interface){function AbstractEvent(kernel,rawData){_classCallCheck(this,AbstractEvent);var _this=_possibleConstructorReturn(this,(AbstractEvent.__proto__||Object.getPrototypeOf(AbstractEvent)).call(this,["toJSON","getValidationSchema","getEventLevel"]));return _this._kernel=kernel,_this._rawData=rawData,_this._data=_this._enrichWithContextData(rawData),_this._validationError=null,_this}return _inherits(AbstractEvent,_Core$OOP$Interface),_createClass(AbstractEvent,[{key:"isValid",value:function(){return!this.validate().error}},{key:"validate",value:function(){let result=_joi2.default.validate(this._data,this.getValidationSchema(),{stripUnknown:!0,convert:!0,abortEarly:!1});return result.error?this._validationError=result.error:this._data=result.value,result}},{key:"_enrichWithContextData",value:function(event){if(event.eventLevel=this.getEventLevel(),event.time=event.time||(new Date).getTime(),event.metadata=event.metadata||{},this._kernel.isBackend){let runtimeContext=this._kernel.runtimeContext;event.depthLevel=runtimeContext.getDeepFrameworkOption("lambdaDepthLevel")||0,event.mainRequestId=runtimeContext.getDeepFrameworkOption("mainRequestId")||runtimeContext.awsRequestId,event.context=AbstractEvent.BACKEND_CONTEXT,event.memoryUsage=process.memoryUsage(),event.environment={},event.requestId=event.requestId||runtimeContext.awsRequestId,event.identityId=runtimeContext.identity&&runtimeContext.identity.cognitoIdentityId?runtimeContext.identity.cognitoIdentityId:"system"}else{event.context=AbstractEvent.FRONTEND_CONTEXT,event.memoryUsage=window.performance&&window.performance.memory?window.performance.memory:{},event.environment={userAgent:navigator?navigator.userAgent:""};let securityToken=this._kernel.get("security").token;event.identityId=securityToken&&securityToken.identityId?securityToken.identityId:"anonymous"}return event}},{key:"validationError",get:function(){return this._validationError}}],[{key:"FRAMEWORK_EVENT_LEVEL",get:function(){return"Framework"}},{key:"FRONTEND_EVENT_LEVEL",get:function(){return"Frontend"}},{key:"BACKEND_CONTEXT",get:function(){return"Backend"}},{key:"FRONTEND_CONTEXT",get:function(){return"Frontend"}},{key:"CONTEXTS",get:function(){return[AbstractEvent.BACKEND_CONTEXT,AbstractEvent.FRONTEND_CONTEXT]}},{key:"SERVICES",get:function(){return["deep-asset","deep-cache","deep-core","deep-db","deep-event","deep-fs","deep-kernel","deep-log","deep-notification","deep-resource","deep-security","deep-validation"]}},{key:"RESOURCE_TYPES",get:function(){return["Browser","Lambda","S3","DynamoDB","CloudFront","InMemory","LocalStorage","Redis","S3FS","Cognito"]}}]),AbstractEvent}(_deepCore2.default.OOP.Interface)}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Action=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_UnknownMethodException=__webpack_require__(407),_Request=__webpack_require__(174),_LocalRequest=__webpack_require__(410);exports.Action=function(){function Action(resource,name,type,methods,source,region,forceUserIdentity,apiCache,scope,api){_classCallCheck(this,Action),this._resource=resource,this._name=name,this._type=type,this._methods=methods,this._source=source,this._region=region,this._forceUserIdentity=forceUserIdentity,this._apiCacheEnabled=!(!apiCache||!apiCache.hasOwnProperty("enabled"))&&apiCache.enabled,this._apiCacheTtl=apiCache&&apiCache.hasOwnProperty("ttl")?apiCache.ttl:_Request.Request.TTL_INVALIDATE,this._scope=scope,this._apiAuthType=api&&api.hasOwnProperty("authorization")?api.authorization:Action.API_AWS_IAM_AUTH,this._apiKeyRequired=!(!api||!api.hasOwnProperty("keyRequired"))&&api.keyRequired,this._validationSchemaName=null,this._baseUrl=null}return _createClass(Action,[{key:"request",value:function(){let payload=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},method=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(method=method||(this._methods.length>0?this._methods[0]:Action.HTTP_VERBS[0]),this._methods.length>0&&-1===this._methods.indexOf(method))throw new _UnknownMethodException.UnknownMethodException(method,this._methods);let RequestImplementation=this._resource.localBackend?_LocalRequest.LocalRequest:_Request.Request,requestObject=new RequestImplementation(this,payload,method);return requestObject.validationSchemaName=this._validationSchemaName,this._resource.cache&&(requestObject.cacheImpl=this._resource.cache),requestObject}},{key:"baseUrl",set:function(url){this._baseUrl=url},get:function(){return this._baseUrl}},{key:"validationSchemaName",get:function(){return this._validationSchemaName},set:function(validationSchemaName){this._validationSchemaName=validationSchemaName}},{key:"sourceId",get:function(){return this._type===Action.LAMBDA?this._source.original:this._source.api}},{key:"forceUserIdentity",get:function(){return this._forceUserIdentity}},{key:"resource",get:function(){return this._resource}},{key:"name",get:function(){return this._name}},{key:"type",get:function(){return this._type}},{key:"methods",get:function(){return this._methods}},{key:"source",get:function(){return this._source}},{key:"isOriginalSourceInvokable",get:function(){return!!this._source.original}},{key:"isApiSourceInvokable",get:function(){return!!this._source.api}},{key:"region",get:function(){return this._region}},{key:"apiCacheEnabled",get:function(){return this._apiCacheEnabled}},{key:"apiCacheTtl",get:function(){return this._apiCacheTtl}},{key:"scope",get:function(){return this._scope}},{key:"apiAuthType",get:function(){return this._apiAuthType}},{key:"apiKeyRequired",get:function(){return this._apiKeyRequired}},{key:"fullName",get:function(){return`@${this._resource.microservice.identifier}:${this._resource.name}:${this._name}`}}],[{key:"HTTP_VERBS",get:function(){return["GET","POST","DELETE","HEAD","PUT","OPTIONS","PATCH"]}},{key:"LAMBDA",get:function(){return"lambda"}},{key:"EXTERNAL",get:function(){return"external"}},{key:"DEEP_CACHE_QS_PARAM",get:function(){return"_deepQsHash"}},{key:"API_AWS_IAM_AUTH",get:function(){return"AWS_IAM"}},{key:"API_NONE_AUTH",get:function(){return"NONE"}}]),Action}()},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LambdaResponse=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Response2=__webpack_require__(95),_ValidationError=__webpack_require__(408);exports.LambdaResponse=function(_Response){function LambdaResponse(){var _ref;_classCallCheck(this,LambdaResponse);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_possibleConstructorReturn(this,(_ref=LambdaResponse.__proto__||Object.getPrototypeOf(LambdaResponse)).call.apply(_ref,[this].concat(args)));_this._originalResponse=null,_this._logResult=null,_this._fillStatusCode();let responsePayload=_this._decodePayload();return _this._fillData(responsePayload),_this._fillError(responsePayload),_this}return _inherits(LambdaResponse,_Response),_createClass(LambdaResponse,[{key:"_fillData",value:function(responsePayload){!responsePayload||this._request.async||responsePayload.hasOwnProperty("errorMessage")||(this._data=responsePayload)}},{key:"_fillError",value:function(responsePayload){this._rawError?this._error=this._rawError:this._request.async?202!==this._statusCode&&(this._error=new Error("Unknown async invocation error")):responsePayload&&responsePayload.hasOwnProperty("errorMessage")&&(this._error=LambdaResponse.getPayloadError(responsePayload))}},{key:"_fillStatusCode",value:function(){this._rawData?this._statusCode=parseInt(this._rawData.StatusCode||this._rawData.Status):this._statusCode=500}},{key:"_decodePayload",value:function(){let decodedPayload=null;return this._rawData&&(this._rawData.Payload?(decodedPayload=LambdaResponse._decodePayloadObject(this._rawData.Payload))&&decodedPayload.hasOwnProperty("errorMessage")&&(decodedPayload=LambdaResponse._decodeRawErrorObject(decodedPayload.errorMessage)):this._rawData.errorMessage&&(decodedPayload=LambdaResponse._decodeRawErrorObject(this._rawData.errorMessage))),decodedPayload}},{key:"_decodeBase64",value:function(str){return void 0!==Buffer?str=new Buffer(str,"base64").toString("utf8"):"undefined"!=typeof atob&&(str=atob(str)),str}},{key:"originalResponse",set:function(response){this._originalResponse=response},get:function(){return this._originalResponse}},{key:"headers",get:function(){return!this._headers&&this.originalResponse&&(this._headers=this.originalResponse.httpResponse?this.originalResponse.httpResponse.headers:{}),this._headers}},{key:"requestId",get:function(){return!this._requestId&&this.headers&&this.headers[_Response2.Response.REQUEST_ID_HEADER.toLowerCase()]&&(this._requestId=this.headers[_Response2.Response.REQUEST_ID_HEADER.toLowerCase()]),this._requestId}},{key:"logResult",get:function(){return this._logResult?this._logResult:(this._rawData&&this._rawData.hasOwnProperty("LogResult")&&(this._logResult=this._decodeBase64(this._rawData.LogResult)),this._logResult)}}],[{key:"_decodeRawErrorObject",value:function(rawError){let errorObj=rawError;if("string"==typeof errorObj)try{errorObj=JSON.parse(errorObj)}catch(e){errorObj={errorMessage:errorObj,errorStack:new Error("Unknown error occurred.").stack,errorType:"UnknownError"}}else errorObj=errorObj||{errorMessage:"Unknown error occurred.",errorStack:new Error("Unknown error occurred.").stack,errorType:"UnknownError"};return errorObj}},{key:"_decodePayloadObject",value:function(rawPayload){let payload=rawPayload;if("string"==typeof rawPayload)try{payload=JSON.parse(payload)}catch(e){console.debug("Unable to parse: ",e)}return payload}},{key:"getPayloadError",value:function(payload){if(payload.hasOwnProperty("errorMessage")){let error=null;if(LambdaResponse.isValidationError(payload))error=new _ValidationError.ValidationError(payload.errorMessage,payload.validationErrors);else{payload.errorType=payload.errorType||"UnknownError",payload.errorMessage=payload.errorMessage||"Unknown error occurred.",payload.errorStack=payload.errorStack||new Error(payload.errorMessage).stack,error=new Error(payload.errorMessage);try{Object.defineProperty(error,"name",{value:payload.errorType})}catch(e){console.debug("Unable to define property: ",e)}}try{Object.defineProperty(error,"stack",{value:payload.errorStack})}catch(e){console.debug("Unable to define property: ",e)}return error}return null}},{key:"isValidationError",value:function(payload){return payload.hasOwnProperty("errorType")&&payload.hasOwnProperty("errorMessage")&&payload.hasOwnProperty("validationErrors")&&payload.errorType===LambdaResponse.VALIDATION_ERROR_TYPE}},{key:"VALIDATION_ERROR_TYPE",get:function(){return"ValidationError"}}]),LambdaResponse}(_Response2.Response)}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.Response=function(){function Response(request,data,error){_classCallCheck(this,Response),this._request=request,this._rawError=error,this._rawData=data,this._rawError&&(this._rawError=Response._toErrorObj(this._rawError)),this._statusCode=null,this._data=null,this._error=null,this._headers=null,this._requestId=null}return _createClass(Response,[{key:"toJSON",value:function(){return{requestId:this.requestId,statusCode:this.statusCode,headers:this.headers,data:this.data,error:this.error}}},{key:"rawData",get:function(){return this._rawData}},{key:"rawError",get:function(){return this._rawError}},{key:"request",get:function(){return this._request}},{key:"data",get:function(){return this._data}},{key:"statusCode",get:function(){return this._statusCode}},{key:"error",get:function(){return this._error}},{key:"requestId",get:function(){return this._requestId}},{key:"headers",get:function(){return this._headers}},{key:"isError",get:function(){return!!this.error}}],[{key:"_toErrorObj",value:function(rawError){return rawError instanceof Error?rawError:new Error(rawError.toString())}},{key:"ORIGINAL_REQUEST_ID_HEADER",get:function(){return"x-amzn-original-RequestId"}},{key:"REQUEST_ID_HEADER",get:function(){return"x-amzn-RequestId"}}]),Response}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomStrategy=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractStrategy2=__webpack_require__(67);exports.CustomStrategy=function(_AbstractStrategy){function CustomStrategy(){let onError=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!1,onSuccess=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!1;_classCallCheck(this,CustomStrategy);var _this=_possibleConstructorReturn(this,(CustomStrategy.__proto__||Object.getPrototypeOf(CustomStrategy)).call(this));return _this._onErrorCb=onError,_this._onSuccessCb=onSuccess,_this}return _inherits(CustomStrategy,_AbstractStrategy),_createClass(CustomStrategy,[{key:"onSuccess",value:function(response){return this._onSuccessCb(response)}},{key:"onError",value:function(response){return this._onErrorCb(response)}}]),CustomStrategy}(_AbstractStrategy2.AbstractStrategy)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InternalErrorStrategy=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractStrategy2=__webpack_require__(67);exports.InternalErrorStrategy=function(_AbstractStrategy){function InternalErrorStrategy(){return _classCallCheck(this,InternalErrorStrategy),_possibleConstructorReturn(this,(InternalErrorStrategy.__proto__||Object.getPrototypeOf(InternalErrorStrategy)).call(this))}return _inherits(InternalErrorStrategy,_AbstractStrategy),_createClass(InternalErrorStrategy,[{key:"onSuccess",value:function(){return!1}},{key:"onError",value:function(response){return response.statusCode>=500}}]),InternalErrorStrategy}(_AbstractStrategy2.AbstractStrategy)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StrategyFactory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_CustomStrategy=__webpack_require__(96),_deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);__webpack_require__(97);exports.StrategyFactory=function(){function StrategyFactory(){_classCallCheck(this,StrategyFactory)}return _createClass(StrategyFactory,null,[{key:"create",value:function(){let strategy=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"internal-error";for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];if("string"==typeof strategy){const strategyFullName=`${StrategyFactory._pascalCase(strategy)}Strategy`,StrategyProto=__webpack_require__(412)(`./${strategyFullName}`)[strategyFullName];return new(Function.prototype.bind.apply(StrategyProto,[null].concat(args)))}if("function"==typeof strategy)return new(Function.prototype.bind.apply(_CustomStrategy.CustomStrategy,[null].concat([strategy],args)));throw new _deepCore2.default.Exception.InvalidArgumentException(strategy,"string|function")}},{key:"_pascalCase",value:function(str){return str.split(/[^a-zA-Z0-9]+/).reduce((pascalString,part)=>pascalString+part.charAt(0).toUpperCase()+part.slice(1),"")}}]),StrategyFactory}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdentityProviderTokenExpiredException=void 0;var _Exception2=__webpack_require__(12);exports.IdentityProviderTokenExpiredException=function(_Exception){function IdentityProviderTokenExpiredException(providerName,expireTime){return _classCallCheck(this,IdentityProviderTokenExpiredException),_possibleConstructorReturn(this,(IdentityProviderTokenExpiredException.__proto__||Object.getPrototypeOf(IdentityProviderTokenExpiredException)).call(this,`"${providerName}" access_token has expired on "${expireTime.toString()}".`))}return _inherits(IdentityProviderTokenExpiredException,_Exception),IdentityProviderTokenExpiredException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdentityProvider=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_MissingLoginProviderException=__webpack_require__(423),_IdentityProviderMismatchException=__webpack_require__(419),_InvalidProviderIdentityException=__webpack_require__(420),_MissingIdentityImplementationException=__webpack_require__(422),_UserPoolImplementation=__webpack_require__(429),_MissingRefreshTokenException=__webpack_require__(424);exports.IdentityProvider=function(){function IdentityProvider(providers,providerName,identityMetadata){_classCallCheck(this,IdentityProvider);let providerDomain=this.getProviderDomain(providerName,providers);if(!providerDomain)throw new _MissingLoginProviderException.MissingLoginProviderException(providerName);if(identityMetadata.provider&&identityMetadata.provider!==providerName&&providerName!==IdentityProvider.SNAPSHOT_PROVIDER)throw new _IdentityProviderMismatchException.IdentityProviderMismatchException(providerName,identityMetadata.provider);let normalizedMetadata=this._normalizeIdentityMetadata(providerName,identityMetadata);this._metadata=identityMetadata,this._userToken=normalizedMetadata.token,this._tokenExpTime=new Date(normalizedMetadata.expireTime),this._userId=normalizedMetadata.userId,this._providers=providers,this._refreshToken=normalizedMetadata.refreshToken,this._domain=providerDomain,this._clientName=normalizedMetadata.clientName,this._name=providerName}return _createClass(IdentityProvider,[{key:"getProviderDomain",value:function(providerName,providers){let domainRegexp;switch(providerName){case IdentityProvider.AMAZON_PROVIDER:domainRegexp=/^www\.amazon\.com$/;break;case IdentityProvider.FACEBOOK_PROVIDER:domainRegexp=/^graph\.facebook\.com$/;break;case IdentityProvider.GOOGLE_PROVIDER:domainRegexp=/^accounts\.google\.com$/;break;case IdentityProvider.AUTH0_PROVIDER:domainRegexp=/^.+\.auth0\.com$/;break;case IdentityProvider.COGNITO_USER_POOL_PROVIDER:domainRegexp=/^cognito\-idp\.[\w\d\-]+\.amazonaws\.com\/[\w\d\-]+$/;break;case IdentityProvider.SNAPSHOT_PROVIDER:return IdentityProvider.SNAPSHOT_PROVIDER}if(!domainRegexp)return null;for(let providerDomain in providers)if(providers.hasOwnProperty(providerDomain)&&domainRegexp.test(providerDomain))return providerDomain;return null}},{key:"_normalizeIdentityMetadata",value:function(providerName,identityMetadata){let token=null,expiresIn=null,expireTime=null,userId=null,refreshToken=null,clientName=null;switch(providerName){case IdentityProvider.FACEBOOK_PROVIDER:token=identityMetadata.accessToken,expiresIn=identityMetadata.expiresIn,userId=identityMetadata.userID;break;case IdentityProvider.COGNITO_USER_POOL_PROVIDER:let userSession=identityMetadata.getSignInUserSession(),idTokenInstance=userSession.getIdToken();refreshToken=userSession.getRefreshToken().getToken(),token=idTokenInstance.getJwtToken(),expireTime=1e3*idTokenInstance.getExpiration(),clientName=identityMetadata.pool.getClientId();break;case IdentityProvider.AMAZON_PROVIDER:token=identityMetadata.access_token,userId=identityMetadata.user_id,expiresIn=identityMetadata.expires_in||3600;break;case IdentityProvider.AUTH0_PROVIDER:expireTime=identityMetadata.tokenExpirationTime,token=identityMetadata.access_token,userId=identityMetadata.user_id;break;case IdentityProvider.SNAPSHOT_PROVIDER:return identityMetadata}if(userId=userId||null,expireTime=expireTime||(expiresIn?Date.now()+1e3*expiresIn:null),!token||!expireTime)throw new _InvalidProviderIdentityException.InvalidProviderIdentityException(providerName);return{token:token,userId:userId,expireTime:expireTime,refreshToken:refreshToken,clientName:clientName}}},{key:"isTokenValid",value:function(){return!(!this.userToken||!this.tokenExpirationTime)&&this.tokenExpirationTime>new Date}},{key:"fillFromSnapshot",value:function(idpSnapshot){return this._name=idpSnapshot.name,this._refreshToken=idpSnapshot.refreshToken,this._clientName=idpSnapshot.clientName,this._userToken=idpSnapshot.token,this._tokenExpTime=new Date(idpSnapshot.expireTime),this}},{key:"toJSON",value:function(){return{token:this._userToken,expireTime:this._tokenExpTime.getTime(),userId:this._userId,refreshToken:this._refreshToken,name:this._name,clientName:this._clientName}}},{key:"refresh",value:function(){if(!this._refreshToken)return Promise.reject(new _MissingRefreshTokenException.MissingRefreshTokenException);let implementation=null;switch(this._name){case IdentityProvider.COGNITO_USER_POOL_PROVIDER:implementation=new _UserPoolImplementation.UserPoolImplementation(this);break;default:throw new _MissingIdentityImplementationException.MissingIdentityImplementationException(this._name)}return implementation.refreshIdentity()}},{key:"config",value:function(name){if(!this.providers.hasOwnProperty(name))throw new _MissingLoginProviderException.MissingLoginProviderException(name);return this.providers[name]}},{key:"name",set:function(name){this._name=name},get:function(){return this._name}},{key:"providers",get:function(){return this._providers}},{key:"domain",get:function(){return this._domain}},{key:"userToken",get:function(){return this._userToken},set:function(userToken){this._userToken=userToken}},{key:"tokenExpirationTime",get:function(){return this._tokenExpTime},set:function(tokenExpirationTime){this._tokenExpTime=tokenExpirationTime instanceof Date?tokenExpirationTime:new Date(tokenExpirationTime)}},{key:"refreshToken",get:function(){return this._refreshToken}},{key:"clientName",get:function(){return this._clientName}},{key:"userId",get:function(){return this._userId}}],[{key:"createFromSnapshot",value:function(metadata){let provider=new IdentityProvider(null,IdentityProvider.SNAPSHOT_PROVIDER,metadata);return provider.fillFromSnapshot(metadata),provider}},{key:"COGNITO_USER_POOL_PROVIDER",get:function(){return"cognito-user-pool"}},{key:"FACEBOOK_PROVIDER",get:function(){return"facebook"}},{key:"AMAZON_PROVIDER",get:function(){return"amazon"}},{key:"GOOGLE_PROVIDER",get:function(){return"google"}},{key:"AUTH0_PROVIDER",get:function(){return"auth0"}},{key:"SNAPSHOT_PROVIDER",get:function(){return"snapshot"}}]),IdentityProvider}()},function(module,exports,__webpack_require__){"use strict";exports.utils=__webpack_require__(453),exports.Cipher=__webpack_require__(450),exports.DES=__webpack_require__(451),exports.CBC=__webpack_require__(449),exports.EDE=__webpack_require__(452)},function(module,exports,__webpack_require__){!function(exports){"use strict";function isArray(obj){return null!==obj&&"[object Array]"===Object.prototype.toString.call(obj)}function isObject(obj){return null!==obj&&"[object Object]"===Object.prototype.toString.call(obj)}function strictDeepEqual(first,second){if(first===second)return!0;if(Object.prototype.toString.call(first)!==Object.prototype.toString.call(second))return!1;if(!0===isArray(first)){if(first.length!==second.length)return!1;for(var i=0;i<first.length;i++)if(!1===strictDeepEqual(first[i],second[i]))return!1;return!0}if(!0===isObject(first)){var keysSeen={};for(var key in first)if(hasOwnProperty.call(first,key)){if(!1===strictDeepEqual(first[key],second[key]))return!1;keysSeen[key]=!0}for(var key2 in second)if(hasOwnProperty.call(second,key2)&&!0!==keysSeen[key2])return!1;return!0}return!1}function isFalse(obj){if(""===obj||!1===obj||null===obj)return!0;if(isArray(obj)&&0===obj.length)return!0;if(isObject(obj)){for(var key in obj)if(obj.hasOwnProperty(key))return!1;return!0}return!1}function objValues(obj){for(var keys=Object.keys(obj),values=[],i=0;i<keys.length;i++)values.push(obj[keys[i]]);return values}function isAlpha(ch){return ch>="a"&&ch<="z"||ch>="A"&&ch<="Z"||"_"===ch}function isNum(ch){return ch>="0"&&ch<="9"||"-"===ch}function isAlphaNum(ch){return ch>="a"&&ch<="z"||ch>="A"&&ch<="Z"||ch>="0"&&ch<="9"||"_"===ch}function Lexer(){}function Parser(){}function TreeInterpreter(runtime){this.runtime=runtime}function Runtime(interpreter){this._interpreter=interpreter,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[TYPE_NUMBER]}]},avg:{_func:this._functionAvg,_signature:[{types:[TYPE_ARRAY_NUMBER]}]},ceil:{_func:this._functionCeil,_signature:[{types:[TYPE_NUMBER]}]},contains:{_func:this._functionContains,_signature:[{types:[TYPE_STRING,TYPE_ARRAY]},{types:[TYPE_ANY]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[TYPE_STRING]},{types:[TYPE_STRING]}]},floor:{_func:this._functionFloor,_signature:[{types:[TYPE_NUMBER]}]},length:{_func:this._functionLength,_signature:[{types:[TYPE_STRING,TYPE_ARRAY,TYPE_OBJECT]}]},map:{_func:this._functionMap,_signature:[{types:[TYPE_EXPREF]},{types:[TYPE_ARRAY]}]},max:{_func:this._functionMax,_signature:[{types:[TYPE_ARRAY_NUMBER,TYPE_ARRAY_STRING]}]},merge:{_func:this._functionMerge,_signature:[{types:[TYPE_OBJECT],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[TYPE_ARRAY]},{types:[TYPE_EXPREF]}]},sum:{_func:this._functionSum,_signature:[{types:[TYPE_ARRAY_NUMBER]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[TYPE_STRING]},{types:[TYPE_STRING]}]},min:{_func:this._functionMin,_signature:[{types:[TYPE_ARRAY_NUMBER,TYPE_ARRAY_STRING]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[TYPE_ARRAY]},{types:[TYPE_EXPREF]}]},type:{_func:this._functionType,_signature:[{types:[TYPE_ANY]}]},keys:{_func:this._functionKeys,_signature:[{types:[TYPE_OBJECT]}]},values:{_func:this._functionValues,_signature:[{types:[TYPE_OBJECT]}]},sort:{_func:this._functionSort,_signature:[{types:[TYPE_ARRAY_STRING,TYPE_ARRAY_NUMBER]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[TYPE_ARRAY]},{types:[TYPE_EXPREF]}]},join:{_func:this._functionJoin,_signature:[{types:[TYPE_STRING]},{types:[TYPE_ARRAY_STRING]}]},reverse:{_func:this._functionReverse,_signature:[{types:[TYPE_STRING,TYPE_ARRAY]}]},to_array:{_func:this._functionToArray,_signature:[{types:[TYPE_ANY]}]},to_string:{_func:this._functionToString,_signature:[{types:[TYPE_ANY]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[TYPE_ANY]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[TYPE_ANY],variadic:!0}]}}}function compile(stream){return(new Parser).parse(stream)}function tokenize(stream){return(new Lexer).tokenize(stream)}function search(data,expression){var parser=new Parser,runtime=new Runtime,interpreter=new TreeInterpreter(runtime);runtime._interpreter=interpreter;var node=parser.parse(expression);return interpreter.search(node,data)}var trimLeft;trimLeft="function"==typeof String.prototype.trimLeft?function(str){return str.trimLeft()}:function(str){return str.match(/^\s*(.*)/)[1]};var TYPE_NUMBER=0,TYPE_ANY=1,TYPE_STRING=2,TYPE_ARRAY=3,TYPE_OBJECT=4,TYPE_EXPREF=6,TYPE_ARRAY_NUMBER=8,TYPE_ARRAY_STRING=9,basicTokens={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},operatorStartToken={"<":!0,">":!0,"=":!0,"!":!0},skipChars={" ":!0,"\t":!0,"\n":!0};Lexer.prototype={tokenize:function(stream){var tokens=[];this._current=0;for(var start,identifier,token;this._current<stream.length;)if(isAlpha(stream[this._current]))start=this._current,identifier=this._consumeUnquotedIdentifier(stream),tokens.push({type:"UnquotedIdentifier",value:identifier,start:start});else if(void 0!==basicTokens[stream[this._current]])tokens.push({type:basicTokens[stream[this._current]],value:stream[this._current],start:this._current}),this._current++;else if(isNum(stream[this._current]))token=this._consumeNumber(stream),tokens.push(token);else if("["===stream[this._current])token=this._consumeLBracket(stream),tokens.push(token);else if('"'===stream[this._current])start=this._current,identifier=this._consumeQuotedIdentifier(stream),tokens.push({type:"QuotedIdentifier",value:identifier,start:start});else if("'"===stream[this._current])start=this._current,identifier=this._consumeRawStringLiteral(stream),tokens.push({type:"Literal",value:identifier,start:start});else if("`"===stream[this._current]){start=this._current;var literal=this._consumeLiteral(stream);tokens.push({type:"Literal",value:literal,start:start})}else if(void 0!==operatorStartToken[stream[this._current]])tokens.push(this._consumeOperator(stream));else if(void 0!==skipChars[stream[this._current]])this._current++;else if("&"===stream[this._current])start=this._current,this._current++,"&"===stream[this._current]?(this._current++,tokens.push({type:"And",value:"&&",start:start})):tokens.push({type:"Expref",value:"&",start:start});else{if("|"!==stream[this._current]){var error=new Error("Unknown character:"+stream[this._current]);throw error.name="LexerError",error}start=this._current,this._current++,"|"===stream[this._current]?(this._current++,tokens.push({type:"Or",value:"||",start:start})):tokens.push({type:"Pipe",value:"|",start:start})}return tokens},_consumeUnquotedIdentifier:function(stream){var start=this._current;for(this._current++;this._current<stream.length&&isAlphaNum(stream[this._current]);)this._current++;return stream.slice(start,this._current)},_consumeQuotedIdentifier:function(stream){var start=this._current;this._current++;for(var maxLength=stream.length;'"'!==stream[this._current]&&this._current<maxLength;){var current=this._current;"\\"!==stream[current]||"\\"!==stream[current+1]&&'"'!==stream[current+1]?current++:current+=2,this._current=current}return this._current++,JSON.parse(stream.slice(start,this._current))},_consumeRawStringLiteral:function(stream){var start=this._current;this._current++;for(var maxLength=stream.length;"'"!==stream[this._current]&&this._current<maxLength;){var current=this._current;"\\"!==stream[current]||"\\"!==stream[current+1]&&"'"!==stream[current+1]?current++:current+=2,this._current=current}return this._current++,stream.slice(start+1,this._current-1).replace("\\'","'")},_consumeNumber:function(stream){var start=this._current;this._current++;for(var maxLength=stream.length;isNum(stream[this._current])&&this._current<maxLength;)this._current++;return{type:"Number",value:parseInt(stream.slice(start,this._current)),start:start}},_consumeLBracket:function(stream){var start=this._current;return this._current++,"?"===stream[this._current]?(this._current++,{type:"Filter",value:"[?",start:start}):"]"===stream[this._current]?(this._current++,{type:"Flatten",value:"[]",start:start}):{type:"Lbracket",value:"[",start:start}},_consumeOperator:function(stream){var start=this._current,startingChar=stream[start];return this._current++,"!"===startingChar?"="===stream[this._current]?(this._current++,{type:"NE",value:"!=",start:start}):{type:"Not",value:"!",start:start}:"<"===startingChar?"="===stream[this._current]?(this._current++,{type:"LTE",value:"<=",start:start}):{type:"LT",value:"<",start:start}:">"===startingChar?"="===stream[this._current]?(this._current++,{type:"GTE",value:">=",start:start}):{type:"GT",value:">",start:start}:"="===startingChar&&"="===stream[this._current]?(this._current++,{type:"EQ",value:"==",start:start}):void 0},_consumeLiteral:function(stream){this._current++;for(var literal,start=this._current,maxLength=stream.length;"`"!==stream[this._current]&&this._current<maxLength;){var current=this._current;"\\"!==stream[current]||"\\"!==stream[current+1]&&"`"!==stream[current+1]?current++:current+=2,this._current=current}var literalString=trimLeft(stream.slice(start,this._current));return literalString=literalString.replace("\\`","`"),literal=this._looksLikeJSON(literalString)?JSON.parse(literalString):JSON.parse('"'+literalString+'"'),this._current++,literal},_looksLikeJSON:function(literalString){var startingChars='[{"',jsonLiterals=["true","false","null"],numberLooking="-0123456789";if(""===literalString)return!1;if(startingChars.indexOf(literalString[0])>=0)return!0;if(jsonLiterals.indexOf(literalString)>=0)return!0;if(!(numberLooking.indexOf(literalString[0])>=0))return!1;try{return JSON.parse(literalString),!0}catch(ex){return!1}}};var bindingPower={};bindingPower.EOF=0,bindingPower.UnquotedIdentifier=0,bindingPower.QuotedIdentifier=0,bindingPower.Rbracket=0,bindingPower.Rparen=0,bindingPower.Comma=0,bindingPower.Rbrace=0,bindingPower.Number=0,bindingPower.Current=0,bindingPower.Expref=0,bindingPower.Pipe=1,bindingPower.Or=2,bindingPower.And=3,bindingPower.EQ=5,bindingPower.GT=5,bindingPower.LT=5,bindingPower.GTE=5,bindingPower.LTE=5,bindingPower.NE=5,bindingPower.Flatten=9,bindingPower.Star=20,bindingPower.Filter=21,bindingPower.Dot=40,bindingPower.Not=45,bindingPower.Lbrace=50,bindingPower.Lbracket=55,bindingPower.Lparen=60,Parser.prototype={parse:function(expression){this._loadTokens(expression),this.index=0;var ast=this.expression(0);if("EOF"!==this._lookahead(0)){var t=this._lookaheadToken(0),error=new Error("Unexpected token type: "+t.type+", value: "+t.value);throw error.name="ParserError",error}return ast},_loadTokens:function(expression){var lexer=new Lexer,tokens=lexer.tokenize(expression);tokens.push({type:"EOF",value:"",start:expression.length}),this.tokens=tokens},expression:function(rbp){var leftToken=this._lookaheadToken(0);this._advance();for(var left=this.nud(leftToken),currentToken=this._lookahead(0);rbp<bindingPower[currentToken];)this._advance(),left=this.led(currentToken,left),currentToken=this._lookahead(0);return left},_lookahead:function(number){return this.tokens[this.index+number].type},_lookaheadToken:function(number){return this.tokens[this.index+number]},_advance:function(){this.index++},nud:function(token){var left,right,expression;switch(token.type){case"Literal":return{type:"Literal",value:token.value};case"UnquotedIdentifier":return{type:"Field",name:token.value};case"QuotedIdentifier":var node={type:"Field",name:token.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return node;case"Not":return right=this.expression(bindingPower.Not),{type:"NotExpression",children:[right]};case"Star":return left={type:"Identity"},right=null,right="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(bindingPower.Star),{type:"ValueProjection",children:[left,right]};case"Filter":return this.led(token.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return left={type:"Flatten",children:[{type:"Identity"}]},right=this._parseProjectionRHS(bindingPower.Flatten),{type:"Projection",children:[left,right]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(right=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},right)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),right=this._parseProjectionRHS(bindingPower.Star),{type:"Projection",children:[{type:"Identity"},right]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return expression=this.expression(bindingPower.Expref),{type:"ExpressionReference",children:[expression]};case"Lparen":for(var args=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(expression={type:"Current"},this._advance()):expression=this.expression(0),args.push(expression);return this._match("Rparen"),args[0];default:this._errorToken(token)}},led:function(tokenName,left){var right;switch(tokenName){case"Dot":var rbp=bindingPower.Dot;return"Star"!==this._lookahead(0)?(right=this._parseDotRHS(rbp),{type:"Subexpression",children:[left,right]}):(this._advance(),right=this._parseProjectionRHS(rbp),{type:"ValueProjection",children:[left,right]});case"Pipe":return right=this.expression(bindingPower.Pipe),{type:"Pipe",children:[left,right]};case"Or":return right=this.expression(bindingPower.Or),{type:"OrExpression",children:[left,right]};case"And":return right=this.expression(bindingPower.And),{type:"AndExpression",children:[left,right]};case"Lparen":for(var expression,name=left.name,args=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(expression={type:"Current"},this._advance()):expression=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),args.push(expression);return this._match("Rparen"),{type:"Function",name:name,children:args};case"Filter":var condition=this.expression(0);return this._match("Rbracket"),right="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(bindingPower.Filter),{type:"FilterProjection",children:[left,right,condition]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[left]},this._parseProjectionRHS(bindingPower.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(left,tokenName);case"Lbracket":var token=this._lookaheadToken(0);return"Number"===token.type||"Colon"===token.type?(right=this._parseIndexExpression(),this._projectIfSlice(left,right)):(this._match("Star"),this._match("Rbracket"),right=this._parseProjectionRHS(bindingPower.Star),{type:"Projection",children:[left,right]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(tokenType){if(this._lookahead(0)!==tokenType){var t=this._lookaheadToken(0),error=new Error("Expected "+tokenType+", got: "+t.type);throw error.name="ParserError",error}this._advance()},_errorToken:function(token){var error=new Error("Invalid token ("+token.type+'): "'+token.value+'"');throw error.name="ParserError",error},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var node={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),node},_projectIfSlice:function(left,right){var indexExpr={type:"IndexExpression",children:[left,right]};return"Slice"===right.type?{type:"Projection",children:[indexExpr,this._parseProjectionRHS(bindingPower.Star)]}:indexExpr},_parseSliceExpression:function(){for(var parts=[null,null,null],index=0,currentToken=this._lookahead(0);"Rbracket"!==currentToken&&index<3;){if("Colon"===currentToken)index++,this._advance();else{if("Number"!==currentToken){var t=this._lookahead(0),error=new Error("Syntax error, unexpected token: "+t.value+"("+t.type+")");throw error.name="Parsererror",error}parts[index]=this._lookaheadToken(0).value,this._advance()}currentToken=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:parts}},_parseComparator:function(left,comparator){return{type:"Comparator",name:comparator,children:[left,this.expression(bindingPower[comparator])]}},_parseDotRHS:function(rbp){var lookahead=this._lookahead(0);return["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(lookahead)>=0?this.expression(rbp):"Lbracket"===lookahead?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===lookahead?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(rbp){var right;if(bindingPower[this._lookahead(0)]<10)right={type:"Identity"};else if("Lbracket"===this._lookahead(0))right=this.expression(rbp);else if("Filter"===this._lookahead(0))right=this.expression(rbp);else{if("Dot"!==this._lookahead(0)){var t=this._lookaheadToken(0),error=new Error("Sytanx error, unexpected token: "+t.value+"("+t.type+")");throw error.name="ParserError",error}this._match("Dot"),right=this._parseDotRHS(rbp)}return right},_parseMultiselectList:function(){for(var expressions=[];"Rbracket"!==this._lookahead(0);){var expression=this.expression(0);if(expressions.push(expression),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:expressions}},_parseMultiselectHash:function(){for(var keyToken,keyName,value,node,pairs=[],identifierTypes=["UnquotedIdentifier","QuotedIdentifier"];;){if(keyToken=this._lookaheadToken(0),identifierTypes.indexOf(keyToken.type)<0)throw new Error("Expecting an identifier token, got: "+keyToken.type);if(keyName=keyToken.value,this._advance(),this._match("Colon"),value=this.expression(0),node={type:"KeyValuePair",name:keyName,value:value},pairs.push(node),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:pairs}}},TreeInterpreter.prototype={search:function(node,value){return this.visit(node,value)},visit:function(node,value){var matched,current,result,first,second,field,left,collected,i;switch(node.type){case"Field":return null===value?null:isObject(value)?(field=value[node.name],void 0===field?null:field):null;case"Subexpression":for(result=this.visit(node.children[0],value),i=1;i<node.children.length;i++)if(null===(result=this.visit(node.children[1],result)))return null;return result;case"IndexExpression":return left=this.visit(node.children[0],value),this.visit(node.children[1],left);case"Index":if(!isArray(value))return null;var index=node.value;return index<0&&(index=value.length+index),result=value[index],void 0===result&&(result=null),result;case"Slice":if(!isArray(value))return null;var sliceParams=node.children.slice(0),computed=this.computeSliceParams(value.length,sliceParams),start=computed[0],stop=computed[1],step=computed[2];if(result=[],step>0)for(i=start;i<stop;i+=step)result.push(value[i]);else for(i=start;i>stop;i+=step)result.push(value[i]);return result;case"Projection":var base=this.visit(node.children[0],value);if(!isArray(base))return null;for(collected=[],i=0;i<base.length;i++)null!==(current=this.visit(node.children[1],base[i]))&&collected.push(current);return collected;case"ValueProjection":if(base=this.visit(node.children[0],value),!isObject(base))return null;collected=[];var values=objValues(base);for(i=0;i<values.length;i++)null!==(current=this.visit(node.children[1],values[i]))&&collected.push(current);return collected;case"FilterProjection":if(base=this.visit(node.children[0],value),!isArray(base))return null;var filtered=[],finalResults=[];for(i=0;i<base.length;i++)matched=this.visit(node.children[2],base[i]),isFalse(matched)||filtered.push(base[i]);for(var j=0;j<filtered.length;j++)null!==(current=this.visit(node.children[1],filtered[j]))&&finalResults.push(current);return finalResults;case"Comparator":switch(first=this.visit(node.children[0],value),second=this.visit(node.children[1],value),node.name){case"EQ":result=strictDeepEqual(first,second);break;case"NE":result=!strictDeepEqual(first,second);break;case"GT":result=first>second;break;case"GTE":result=first>=second;break;case"LT":result=first<second;break;case"LTE":result=first<=second;break;default:throw new Error("Unknown comparator: "+node.name)}return result;case"Flatten":var original=this.visit(node.children[0],value);if(!isArray(original))return null;var merged=[];for(i=0;i<original.length;i++)current=original[i],isArray(current)?merged.push.apply(merged,current):merged.push(current);return merged;case"Identity":return value;case"MultiSelectList":if(null===value)return null;for(collected=[],i=0;i<node.children.length;i++)collected.push(this.visit(node.children[i],value));return collected;case"MultiSelectHash":if(null===value)return null;collected={};var child;for(i=0;i<node.children.length;i++)child=node.children[i],collected[child.name]=this.visit(child.value,value);return collected;case"OrExpression":return matched=this.visit(node.children[0],value),isFalse(matched)&&(matched=this.visit(node.children[1],value)),matched;case"AndExpression":return first=this.visit(node.children[0],value),!0===isFalse(first)?first:this.visit(node.children[1],value);case"NotExpression":return first=this.visit(node.children[0],value),isFalse(first);case"Literal":return node.value;case"Pipe":return left=this.visit(node.children[0],value),this.visit(node.children[1],left);case"Current":return value;case"Function":var resolvedArgs=[];for(i=0;i<node.children.length;i++)resolvedArgs.push(this.visit(node.children[i],value));return this.runtime.callFunction(node.name,resolvedArgs);case"ExpressionReference":var refNode=node.children[0];return refNode.jmespathType="Expref",refNode;default:throw new Error("Unknown node type: "+node.type)}},computeSliceParams:function(arrayLength,sliceParams){var start=sliceParams[0],stop=sliceParams[1],step=sliceParams[2],computed=[null,null,null];if(null===step)step=1;else if(0===step){var error=new Error("Invalid slice, step cannot be 0");throw error.name="RuntimeError",error}var stepValueNegative=step<0;return start=null===start?stepValueNegative?arrayLength-1:0:this.capSliceRange(arrayLength,start,step),stop=null===stop?stepValueNegative?-1:arrayLength:this.capSliceRange(arrayLength,stop,step),computed[0]=start,computed[1]=stop,computed[2]=step,computed},capSliceRange:function(arrayLength,actualValue,step){return actualValue<0?(actualValue+=arrayLength)<0&&(actualValue=step<0?-1:0):actualValue>=arrayLength&&(actualValue=step<0?arrayLength-1:arrayLength),actualValue}},Runtime.prototype={callFunction:function(name,resolvedArgs){var functionEntry=this.functionTable[name];if(void 0===functionEntry)throw new Error("Unknown function: "+name+"()");return this._validateArgs(name,resolvedArgs,functionEntry._signature),functionEntry._func.call(this,resolvedArgs)},_validateArgs:function(name,args,signature){var pluralized;if(signature[signature.length-1].variadic){if(args.length<signature.length)throw pluralized=1===signature.length?" argument":" arguments",new Error("ArgumentError: "+name+"() takes at least"+signature.length+pluralized+" but received "+args.length)}else if(args.length!==signature.length)throw pluralized=1===signature.length?" argument":" arguments",new Error("ArgumentError: "+name+"() takes "+signature.length+pluralized+" but received "+args.length);for(var currentSpec,actualType,typeMatched,i=0;i<signature.length;i++){typeMatched=!1,currentSpec=signature[i].types,actualType=this._getTypeName(args[i]);for(var j=0;j<currentSpec.length;j++)if(this._typeMatches(actualType,currentSpec[j],args[i])){typeMatched=!0;break}if(!typeMatched)throw new Error("TypeError: "+name+"() expected argument "+(i+1)+" to be type "+currentSpec+" but received type "+actualType+" instead.")}},_typeMatches:function(actual,expected,argValue){if(expected===TYPE_ANY)return!0;if(expected!==TYPE_ARRAY_STRING&&expected!==TYPE_ARRAY_NUMBER&&expected!==TYPE_ARRAY)return actual===expected;if(expected===TYPE_ARRAY)return actual===TYPE_ARRAY;if(actual===TYPE_ARRAY){var subtype;expected===TYPE_ARRAY_NUMBER?subtype=TYPE_NUMBER:expected===TYPE_ARRAY_STRING&&(subtype=TYPE_STRING);for(var i=0;i<argValue.length;i++)if(!this._typeMatches(this._getTypeName(argValue[i]),subtype,argValue[i]))return!1;return!0}},_getTypeName:function(obj){switch(Object.prototype.toString.call(obj)){case"[object String]":return TYPE_STRING;case"[object Number]":return TYPE_NUMBER;case"[object Array]":return TYPE_ARRAY;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===obj.jmespathType?TYPE_EXPREF:TYPE_OBJECT}},_functionStartsWith:function(resolvedArgs){return 0===resolvedArgs[0].lastIndexOf(resolvedArgs[1])},_functionEndsWith:function(resolvedArgs){var searchStr=resolvedArgs[0],suffix=resolvedArgs[1];return-1!==searchStr.indexOf(suffix,searchStr.length-suffix.length)},_functionReverse:function(resolvedArgs){if(this._getTypeName(resolvedArgs[0])===TYPE_STRING){for(var originalStr=resolvedArgs[0],reversedStr="",i=originalStr.length-1;i>=0;i--)reversedStr+=originalStr[i];return reversedStr}var reversedArray=resolvedArgs[0].slice(0);return reversedArray.reverse(),reversedArray},_functionAbs:function(resolvedArgs){return Math.abs(resolvedArgs[0])},_functionCeil:function(resolvedArgs){return Math.ceil(resolvedArgs[0])},_functionAvg:function(resolvedArgs){for(var sum=0,inputArray=resolvedArgs[0],i=0;i<inputArray.length;i++)sum+=inputArray[i];return sum/inputArray.length},_functionContains:function(resolvedArgs){return resolvedArgs[0].indexOf(resolvedArgs[1])>=0},_functionFloor:function(resolvedArgs){return Math.floor(resolvedArgs[0])},_functionLength:function(resolvedArgs){return isObject(resolvedArgs[0])?Object.keys(resolvedArgs[0]).length:resolvedArgs[0].length},_functionMap:function(resolvedArgs){for(var mapped=[],interpreter=this._interpreter,exprefNode=resolvedArgs[0],elements=resolvedArgs[1],i=0;i<elements.length;i++)mapped.push(interpreter.visit(exprefNode,elements[i]));return mapped},_functionMerge:function(resolvedArgs){for(var merged={},i=0;i<resolvedArgs.length;i++){var current=resolvedArgs[i];for(var key in current)merged[key]=current[key]}return merged},_functionMax:function(resolvedArgs){if(resolvedArgs[0].length>0){if(this._getTypeName(resolvedArgs[0][0])===TYPE_NUMBER)return Math.max.apply(Math,resolvedArgs[0]);for(var elements=resolvedArgs[0],maxElement=elements[0],i=1;i<elements.length;i++)maxElement.localeCompare(elements[i])<0&&(maxElement=elements[i]);return maxElement}return null},_functionMin:function(resolvedArgs){if(resolvedArgs[0].length>0){if(this._getTypeName(resolvedArgs[0][0])===TYPE_NUMBER)return Math.min.apply(Math,resolvedArgs[0]);for(var elements=resolvedArgs[0],minElement=elements[0],i=1;i<elements.length;i++)elements[i].localeCompare(minElement)<0&&(minElement=elements[i]);return minElement}return null},_functionSum:function(resolvedArgs){for(var sum=0,listToSum=resolvedArgs[0],i=0;i<listToSum.length;i++)sum+=listToSum[i];return sum},_functionType:function(resolvedArgs){switch(this._getTypeName(resolvedArgs[0])){case TYPE_NUMBER:return"number";case TYPE_STRING:return"string";case TYPE_ARRAY:return"array";case TYPE_OBJECT:return"object";case 5:return"boolean";case TYPE_EXPREF:return"expref";case 7:return"null"}},_functionKeys:function(resolvedArgs){return Object.keys(resolvedArgs[0])},_functionValues:function(resolvedArgs){for(var obj=resolvedArgs[0],keys=Object.keys(obj),values=[],i=0;i<keys.length;i++)values.push(obj[keys[i]]);return values},_functionJoin:function(resolvedArgs){var joinChar=resolvedArgs[0];return resolvedArgs[1].join(joinChar)},_functionToArray:function(resolvedArgs){return this._getTypeName(resolvedArgs[0])===TYPE_ARRAY?resolvedArgs[0]:[resolvedArgs[0]]},_functionToString:function(resolvedArgs){return this._getTypeName(resolvedArgs[0])===TYPE_STRING?resolvedArgs[0]:JSON.stringify(resolvedArgs[0])},_functionToNumber:function(resolvedArgs){var convertedValue,typeName=this._getTypeName(resolvedArgs[0]);return typeName===TYPE_NUMBER?resolvedArgs[0]:typeName!==TYPE_STRING||(convertedValue=+resolvedArgs[0],isNaN(convertedValue))?null:convertedValue},_functionNotNull:function(resolvedArgs){for(var i=0;i<resolvedArgs.length;i++)if(7!==this._getTypeName(resolvedArgs[i]))return resolvedArgs[i];return null},_functionSort:function(resolvedArgs){var sortedArray=resolvedArgs[0].slice(0);return sortedArray.sort(),sortedArray},_functionSortBy:function(resolvedArgs){var sortedArray=resolvedArgs[0].slice(0);if(0===sortedArray.length)return sortedArray;var interpreter=this._interpreter,exprefNode=resolvedArgs[1],requiredType=this._getTypeName(interpreter.visit(exprefNode,sortedArray[0]));if([TYPE_NUMBER,TYPE_STRING].indexOf(requiredType)<0)throw new Error("TypeError");for(var that=this,decorated=[],i=0;i<sortedArray.length;i++)decorated.push([i,sortedArray[i]]);decorated.sort(function(a,b){var exprA=interpreter.visit(exprefNode,a[1]),exprB=interpreter.visit(exprefNode,b[1]);if(that._getTypeName(exprA)!==requiredType)throw new Error("TypeError: expected "+requiredType+", received "+that._getTypeName(exprA));if(that._getTypeName(exprB)!==requiredType)throw new Error("TypeError: expected "+requiredType+", received "+that._getTypeName(exprB));return exprA>exprB?1:exprA<exprB?-1:a[0]-b[0]});for(var j=0;j<decorated.length;j++)sortedArray[j]=decorated[j][1];return sortedArray},_functionMaxBy:function(resolvedArgs){for(var maxRecord,current,exprefNode=resolvedArgs[1],resolvedArray=resolvedArgs[0],keyFunction=this.createKeyFunction(exprefNode,[TYPE_NUMBER,TYPE_STRING]),maxNumber=-1/0,i=0;i<resolvedArray.length;i++)(current=keyFunction(resolvedArray[i]))>maxNumber&&(maxNumber=current,maxRecord=resolvedArray[i]);return maxRecord},_functionMinBy:function(resolvedArgs){for(var minRecord,current,exprefNode=resolvedArgs[1],resolvedArray=resolvedArgs[0],keyFunction=this.createKeyFunction(exprefNode,[TYPE_NUMBER,TYPE_STRING]),minNumber=1/0,i=0;i<resolvedArray.length;i++)(current=keyFunction(resolvedArray[i]))<minNumber&&(minNumber=current,minRecord=resolvedArray[i]);return minRecord},createKeyFunction:function(exprefNode,allowedTypes){var that=this,interpreter=this._interpreter;return function(x){var current=interpreter.visit(exprefNode,x);if(allowedTypes.indexOf(that._getTypeName(current))<0){var msg="TypeError: expected one of "+allowedTypes+", received "+that._getTypeName(current);throw new Error(msg)}return current}}},exports.tokenize=tokenize,exports.compile=compile,exports.search=search,exports.strictDeepEqual=strictDeepEqual}(exports)},function(module,exports,__webpack_require__){var Hoek=__webpack_require__(9),Any=__webpack_require__(13),Cast=__webpack_require__(51),Ref=__webpack_require__(52),Errors=__webpack_require__(15),internals={};internals.Alternatives=function(){Any.call(this),this._type="alternatives",this._invalids.remove(null),this._inner.matches=[]},Hoek.inherits(internals.Alternatives,Any),internals.Alternatives.prototype._base=function(value,state,options){for(var errors=[],i=0,il=this._inner.matches.length;i<il;++i){var item=this._inner.matches[i],schema=item.schema;if(!schema){if(!(schema=item.is._validate(item.ref(state.parent,options),null,options,state.parent).errors?item.otherwise:item.then))continue}var result=schema._validate(value,state,options);if(!result.errors)return result;errors=errors.concat(result.errors)}return{errors:errors.length?errors:Errors.create("alternatives.base",null,state,options)}},internals.Alternatives.prototype.try=function(){var schemas=Hoek.flatten(Array.prototype.slice.call(arguments));Hoek.assert(schemas.length,"Cannot add other alternatives without at least one schema");for(var obj=this.clone(),i=0,il=schemas.length;i<il;++i){var cast=Cast.schema(schemas[i]);cast._refs.length&&(obj._refs=obj._refs.concat(cast._refs)),obj._inner.matches.push({schema:cast})}return obj},internals.Alternatives.prototype.when=function(ref,options){Hoek.assert(Ref.isRef(ref)||"string"==typeof ref,"Invalid reference:",ref),Hoek.assert(options,"Missing options"),Hoek.assert("object"==typeof options,"Invalid options"),Hoek.assert(options.hasOwnProperty("is"),'Missing "is" directive'),Hoek.assert(void 0!==options.then||void 0!==options.otherwise,'options must have at least one of "then" or "otherwise"');var obj=this.clone(),item={ref:Cast.ref(ref),is:Cast.schema(options.is),then:void 0!==options.then?Cast.schema(options.then):void 0,otherwise:void 0!==options.otherwise?Cast.schema(options.otherwise):void 0};return Ref.push(obj._refs,item.ref),obj._refs=obj._refs.concat(item.is._refs),item.then&&item.then._refs&&(obj._refs=obj._refs.concat(item.then._refs)),item.otherwise&&item.otherwise._refs&&(obj._refs=obj._refs.concat(item.otherwise._refs)),obj._inner.matches.push(item),obj},internals.Alternatives.prototype.describe=function(){for(var description=Any.prototype.describe.call(this),alternatives=[],i=0,il=this._inner.matches.length;i<il;++i){var item=this._inner.matches[i];if(item.schema)alternatives.push(item.schema.describe());else{var when={ref:item.ref.toString(),is:item.is.describe()};item.then&&(when.then=item.then.describe()),item.otherwise&&(when.otherwise=item.otherwise.describe()),alternatives.push(when)}}return description.alternatives=alternatives,description},module.exports=new internals.Alternatives},function(module,exports,__webpack_require__){var Any=__webpack_require__(13),Errors=__webpack_require__(15),Ref=__webpack_require__(52),Hoek=__webpack_require__(9),Moment=__webpack_require__(37),internals={};internals.isoDate=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\d))$/,internals.invalidDate=new Date(""),internals.isIsoDate=function(){var isoString=internals.isoDate.toString();return function(date){return date&&date.toString()===isoString}}(),internals.Date=function(){Any.call(this),this._type="date"},Hoek.inherits(internals.Date,Any),internals.Date.prototype._base=function(value,state,options){var result={value:options.convert&&internals.toDate(value,this._flags.format)||value};return result.value instanceof Date&&!isNaN(result.value.getTime())?result.errors=null:result.errors=Errors.create(internals.isIsoDate(this._flags.format)?"date.isoDate":"date.base",null,state,options),result},internals.toDate=function(value,format){if(value instanceof Date)return value;if("string"==typeof value||Hoek.isInteger(value)){"string"==typeof value&&/^[+-]?\d+$/.test(value)&&(value=parseInt(value,10));var date;if(format?internals.isIsoDate(format)?date=format.test(value)?new Date(value):internals.invalidDate:(date=Moment(value,format,!0),date=date.isValid()?date.toDate():internals.invalidDate):date=new Date(value),!isNaN(date.getTime()))return date}return null},internals.compare=function(type,compare){return function(date){var isNow="now"===date,isRef=Ref.isRef(date);return isNow||isRef||(date=internals.toDate(date)),Hoek.assert(date,"Invalid date format"),this._test(type,date,function(value,state,options){var compareTo;if(isNow)compareTo=Date.now();else if(isRef){if(!(compareTo=internals.toDate(date(state.parent))))return Errors.create("date.ref",{ref:date.key},state,options);compareTo=compareTo.getTime()}else compareTo=date.getTime();return compare(value.getTime(),compareTo)?null:Errors.create("date."+type,{limit:new Date(compareTo)},state,options)})}},internals.Date.prototype.min=internals.compare("min",function(value,date){return value>=date}),internals.Date.prototype.max=internals.compare("max",function(value,date){return value<=date}),internals.Date.prototype.format=function(format){Hoek.assert("string"==typeof format||Array.isArray(format)&&format.every(function(f){return"string"==typeof f}),"Invalid format.");var obj=this.clone();return obj._flags.format=format,obj},internals.Date.prototype.iso=function(){var obj=this.clone();return obj._flags.format=internals.isoDate,obj},internals.Date.prototype._isIsoDate=function(value){return internals.isoDate.test(value)},module.exports=new internals.Date},function(module,exports,__webpack_require__){var getNative=__webpack_require__(25),root=__webpack_require__(19),Map=getNative(root,"Map");module.exports=Map},function(module,exports,__webpack_require__){function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var mapCacheClear=__webpack_require__(551),mapCacheDelete=__webpack_require__(552),mapCacheGet=__webpack_require__(553),mapCacheHas=__webpack_require__(554),mapCacheSet=__webpack_require__(555);MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},function(module,exports){function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=isIndex},function(module,exports,__webpack_require__){function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}var isArray=__webpack_require__(16),isSymbol=__webpack_require__(114),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=isKey},function(module,exports){function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}var objectProto=Object.prototype;module.exports=isPrototype},function(module,exports){function identity(value){return value}module.exports=identity},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(511),isObjectLike=__webpack_require__(55),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(19),stubFalse=__webpack_require__(583),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;module.exports=isBuffer}).call(exports,__webpack_require__(29)(module))},function(module,exports){function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}var MAX_SAFE_INTEGER=9007199254740991;module.exports=isLength},function(module,exports,__webpack_require__){function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var baseGetTag=__webpack_require__(53),isObjectLike=__webpack_require__(55),symbolTag="[object Symbol]";module.exports=isSymbol},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(515),baseUnary=__webpack_require__(525),nodeUtil=__webpack_require__(559),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports,__webpack_require__){function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding))throw new Error("Unknown encoding: "+encoding)}function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3,this.charLength=this.charReceived?3:0}var Buffer=__webpack_require__(0).Buffer,isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(encoding){switch(this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(encoding),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(buffer){for(var charStr="";this.charLength;){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;if(buffer.copy(this.charBuffer,this.charReceived,0,available),this.charReceived+=available,this.charReceived<this.charLength)return"";buffer=buffer.slice(available,buffer.length),charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(!(charCode>=55296&&charCode<=56319)){if(this.charReceived=this.charLength=0,0===buffer.length)return charStr;break}this.charLength+=this.surrogateSize,charStr=""}this.detectIncompleteChar(buffer);var end=buffer.length;this.charLength&&(buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end),end-=this.charReceived),charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1,charCode=charStr.charCodeAt(end);if(charCode>=55296&&charCode<=56319){var size=this.surrogateSize;return this.charLength+=size,this.charReceived+=size,this.charBuffer.copy(this.charBuffer,size,0,size),buffer.copy(this.charBuffer,0,0,size),charStr.substring(0,end)}return charStr},StringDecoder.prototype.detectIncompleteChar=function(buffer){for(var i=buffer.length>=3?3:buffer.length;i>0;i--){var c=buffer[buffer.length-i];if(1==i&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i},StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length&&(res=this.write(buffer)),this.charReceived){var cr=this.charReceived,buf=this.charBuffer,enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res}},function(module,exports,__webpack_require__){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}function urlFormat(obj){return util.isString(obj)&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj)}function urlResolve(source,relative){return urlParse(source,!1,!0).resolve(relative)}function urlResolveObject(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative}var punycode=__webpack_require__(597),util=__webpack_require__(588);exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=__webpack_require__(119);Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter);uSplit[0]=uSplit[0].replace(/\\/g,"/"),url=uSplit.join(splitter);var rest=url;if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var hostEnd=-1,i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}var auth,atSign;atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd),-1!==atSign&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(/^[+a-z0-9A-Z_-]{0,63}$/)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(/^[+a-z0-9A-Z_-]{0,63}$/)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(/^([+a-z0-9A-Z_-]{0,63})(.*)$/);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=encodeURIComponent(auth),auth=auth.replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}),search=search.replace("#","%23"),protocol+host+pathname+search+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)last=srcPath[i],"."===last?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return mustEndAbs=mustEndAbs||result.host&&srcPath.length,mustEndAbs&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(port=port[0],":"!==port&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},function(module,exports,__webpack_require__){"use strict";(function(process){function nextTick(fn,arg1,arg2,arg3){if("function"!=typeof fn)throw new TypeError('"callback" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=nextTick:module.exports=process.nextTick}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__(600),exports.encode=exports.stringify=__webpack_require__(601)},function(module,exports,__webpack_require__){"use strict";(function(process,setImmediate){function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb,this.next=null}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(28),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||__webpack_require__(28),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev)),Stream.call(this)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=bufferShim.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){isBuf||(chunk=decodeChunk(state,chunk,encoding),Buffer.isBuffer(chunk)&&(encoding="buffer"));var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb),last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?processNextTick(cb,er):cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0;entry;)buffer[count]=entry,entry=entry.next,count+=1;doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(err){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}module.exports=Writable;var Duplex,processNextTick=__webpack_require__(118),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=__webpack_require__(45);util.inherits=__webpack_require__(2);var internalUtil={deprecate:__webpack_require__(644)},Stream=__webpack_require__(221),Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(85);util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(_){}}();var realHasInstance;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||object&&object._writableState instanceof WritableState}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1,isBuf=Buffer.isBuffer(chunk);return"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):(isBuf||validChunk(this,state,chunk,cb))&&(state.pendingcb++,ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(exports,__webpack_require__(7),__webpack_require__(225).setImmediate)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(219),exports.Stream=exports,exports.Readable=exports,exports.Writable=__webpack_require__(120),exports.Duplex=__webpack_require__(28),exports.Transform=__webpack_require__(220),exports.PassThrough=__webpack_require__(609)},function(module,exports,__webpack_require__){function Stream(){EE.call(this)}module.exports=Stream;var EE=__webpack_require__(50).EventEmitter;__webpack_require__(2)(Stream,EE),Stream.Readable=__webpack_require__(121),Stream.Writable=__webpack_require__(613),Stream.Duplex=__webpack_require__(608),Stream.Transform=__webpack_require__(612),Stream.PassThrough=__webpack_require__(611),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,"error"))throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}var source=this;source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&!1===options.end||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},function(module,exports){function isObject(obj){return null!==obj&&"object"==typeof obj}module.exports=isObject},function(module,exports,__webpack_require__){"use strict";function extractProtocol(address){var match=protocolre.exec(address);return{protocol:match[1]?match[1].toLowerCase():"",slashes:!!match[2],rest:match[3]}}function resolve(relative,base){for(var path=(base||"/").split("/").slice(0,-1).concat(relative.split("/")),i=path.length,last=path[i-1],unshift=!1,up=0;i--;)"."===path[i]?path.splice(i,1):".."===path[i]?(path.splice(i,1),up++):up&&(0===i&&(unshift=!0),path.splice(i,1),up--);return unshift&&path.unshift(""),"."!==last&&".."!==last||path.push(""),path.join("/")}function URL(address,location,parser){if(!(this instanceof URL))return new URL(address,location,parser);var relative,extracted,parse,instruction,index,key,instructions=rules.slice(),type=typeof location,url=this,i=0;for("object"!==type&&"string"!==type&&(parser=location,location=null),parser&&"function"!=typeof parser&&(parser=qs.parse),location=lolcation(location),extracted=extractProtocol(address||""),relative=!extracted.protocol&&!extracted.slashes,url.slashes=extracted.slashes||relative&&location.slashes,url.protocol=extracted.protocol||location.protocol||"",address=extracted.rest,extracted.slashes||(instructions[2]=[/(.*)/,"pathname"]);i<instructions.length;i++)instruction=instructions[i],parse=instruction[0],key=instruction[1],parse!==parse?url[key]=address:"string"==typeof parse?~(index=address.indexOf(parse))&&("number"==typeof instruction[2]?(url[key]=address.slice(0,index),address=address.slice(index+instruction[2])):(url[key]=address.slice(index),address=address.slice(0,index))):(index=parse.exec(address))&&(url[key]=index[1],address=address.slice(0,index.index)),url[key]=url[key]||(relative&&instruction[3]?location[key]||"":""),instruction[4]&&(url[key]=url[key].toLowerCase());parser&&(url.query=parser(url.query)),relative&&location.slashes&&"/"!==url.pathname.charAt(0)&&(""!==url.pathname||""!==location.pathname)&&(url.pathname=resolve(url.pathname,location.pathname)),required(url.port,url.protocol)||(url.host=url.hostname,url.port=""),url.username=url.password="",url.auth&&(instruction=url.auth.split(":"),url.username=instruction[0]||"",url.password=instruction[1]||""),url.origin=url.protocol&&url.host&&"file:"!==url.protocol?url.protocol+"//"+url.host:"null",url.href=url.toString()}function set(part,value,fn){var url=this;switch(part){case"query":"string"==typeof value&&value.length&&(value=(fn||qs.parse)(value)),url[part]=value;break;case"port":url[part]=value,required(value,url.protocol)?value&&(url.host=url.hostname+":"+value):(url.host=url.hostname,url[part]="");break;case"hostname":url[part]=value,url.port&&(value+=":"+url.port),url.host=value;break;case"host":url[part]=value,/:\d+$/.test(value)?(value=value.split(":"),url.port=value.pop(),url.hostname=value.join(":")):(url.hostname=value,url.port="");break;case"protocol":url.protocol=value.toLowerCase(),url.slashes=!fn;break;case"pathname":url.pathname=value.length&&"/"!==value.charAt(0)?"/"+value:value;break;default:url[part]=value}for(var i=0;i<rules.length;i++){var ins=rules[i];ins[4]&&(url[ins[1]]=url[ins[1]].toLowerCase())}return url.origin=url.protocol&&url.host&&"file:"!==url.protocol?url.protocol+"//"+url.host:"null",url.href=url.toString(),url}function toString(stringify){stringify&&"function"==typeof stringify||(stringify=qs.stringify);var query,url=this,protocol=url.protocol;protocol&&":"!==protocol.charAt(protocol.length-1)&&(protocol+=":");var result=protocol+(url.slashes?"//":"");return url.username&&(result+=url.username,url.password&&(result+=":"+url.password),result+="@"),result+=url.host+url.pathname,query="object"==typeof url.query?stringify(url.query):url.query,query&&(result+="?"!==query.charAt(0)?"?"+query:query),url.hash&&(result+=url.hash),result}var required=__webpack_require__(614),lolcation=__webpack_require__(643),qs=__webpack_require__(602),protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,rules=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]];URL.prototype={set:set,toString:toString},URL.extractProtocol=extractProtocol,URL.location=lolcation,URL.qs=qs,module.exports=URL},function(module,exports){},function(module,exports,__webpack_require__){function DecoderBuffer(base,options){if(Reporter.call(this,options),!Buffer.isBuffer(base))return void this.error("Input not Buffer");this.base=base,this.offset=0,this.length=base.length}function EncoderBuffer(value,reporter){if(Array.isArray(value))this.length=0,this.value=value.map(function(item){return item instanceof EncoderBuffer||(item=new EncoderBuffer(item,reporter)),this.length+=item.length,item},this);else if("number"==typeof value){if(!(0<=value&&value<=255))return reporter.error("non-byte EncoderBuffer value");this.value=value,this.length=1}else if("string"==typeof value)this.value=value,this.length=Buffer.byteLength(value);else{if(!Buffer.isBuffer(value))return reporter.error("Unsupported type: "+typeof value);this.value=value,this.length=value.length}}var inherits=__webpack_require__(2),Reporter=__webpack_require__(42).Reporter,Buffer=__webpack_require__(0).Buffer;inherits(DecoderBuffer,Reporter),exports.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(save){var res=new DecoderBuffer(this.base);return res.offset=save.offset,res.length=this.offset,this.offset=save.offset,Reporter.prototype.restore.call(this,save.reporter),res},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(fail){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(fail||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(bytes,fail){if(!(this.offset+bytes<=this.length))return this.error(fail||"DecoderBuffer overrun");var res=new DecoderBuffer(this.base);return res._reporterState=this._reporterState,res.offset=this.offset,res.length=this.offset+bytes,this.offset+=bytes,res},DecoderBuffer.prototype.raw=function(save){return this.base.slice(save?save.offset:this.offset,this.length)},exports.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(out,offset){return out||(out=new Buffer(this.length)),offset||(offset=0),0===this.length?out:(Array.isArray(this.value)?this.value.forEach(function(item){item.join(out,offset),offset+=item.length}):("number"==typeof this.value?out[offset]=this.value:"string"==typeof this.value?out.write(this.value,offset):Buffer.isBuffer(this.value)&&this.value.copy(out,offset),offset+=this.length),out)}},function(module,exports,__webpack_require__){var constants=exports;constants._reverse=function(map){var res={};return Object.keys(map).forEach(function(key){(0|key)==key&&(key|=0);var value=map[key];res[value]=key}),res},constants.der=__webpack_require__(254)},function(module,exports,__webpack_require__){function DERDecoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function derDecodeTag(buf,fail){var tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;var cls=der.tagClass[tag>>6],primitive=0==(32&tag);if(31==(31&tag)){var oct=tag;for(tag=0;128==(128&oct);){if(oct=buf.readUInt8(fail),buf.isError(oct))return oct;tag<<=7,tag|=127&oct}}else tag&=31;return{cls:cls,primitive:primitive,tag:tag,tagStr:der.tag[tag]}}function derDecodeLen(buf,primitive,fail){var len=buf.readUInt8(fail);if(buf.isError(len))return len;if(!primitive&&128===len)return null;if(0==(128&len))return len;var num=127&len;if(num>4)return buf.error("length octect is too long");len=0;for(var i=0;i<num;i++){len<<=8;var j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j}return len}var inherits=__webpack_require__(2),asn1=__webpack_require__(41),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;module.exports=DERDecoder,DERDecoder.prototype.decode=function(data,options){return data instanceof base.DecoderBuffer||(data=new base.DecoderBuffer(data,options)),this.tree._decode(data,options)},inherits(DERNode,base.Node),DERNode.prototype._peekTag=function(buffer,tag,any){if(buffer.isEmpty())return!1;var state=buffer.save(),decodedTag=derDecodeTag(buffer,'Failed to peek tag: "'+tag+'"');return buffer.isError(decodedTag)?decodedTag:(buffer.restore(state),decodedTag.tag===tag||decodedTag.tagStr===tag||decodedTag.tagStr+"of"===tag||any)},DERNode.prototype._decodeTag=function(buffer,tag,any){var decodedTag=derDecodeTag(buffer,'Failed to decode tag of "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;var len=derDecodeLen(buffer,decodedTag.primitive,'Failed to get length of "'+tag+'"');if(buffer.isError(len))return len;if(!any&&decodedTag.tag!==tag&&decodedTag.tagStr!==tag&&decodedTag.tagStr+"of"!==tag)return buffer.error('Failed to match tag: "'+tag+'"');if(decodedTag.primitive||null!==len)return buffer.skip(len,'Failed to match body of: "'+tag+'"');var state=buffer.save(),res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: "'+this.tag+'"');return buffer.isError(res)?res:(len=buffer.offset-state.offset,buffer.restore(state),buffer.skip(len,'Failed to match body of: "'+tag+'"'))},DERNode.prototype._skipUntilEnd=function(buffer,fail){for(;;){var tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;var len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;var res;if(res=tag.primitive||null!==len?buffer.skip(len):this._skipUntilEnd(buffer,fail),buffer.isError(res))return res;if("end"===tag.tagStr)break}},DERNode.prototype._decodeList=function(buffer,tag,decoder,options){for(var result=[];!buffer.isEmpty();){var possibleEnd=this._peekTag(buffer,"end");if(buffer.isError(possibleEnd))return possibleEnd;var res=decoder.decode(buffer,"der",options);if(buffer.isError(res)&&possibleEnd)break;result.push(res)}return result},DERNode.prototype._decodeStr=function(buffer,tag){if("bitstr"===tag){var unused=buffer.readUInt8();return buffer.isError(unused)?unused:{unused:unused,data:buffer.raw()}}if("bmpstr"===tag){var raw=buffer.raw();if(raw.length%2==1)return buffer.error("Decoding of string type: bmpstr length mismatch");for(var str="",i=0;i<raw.length/2;i++)str+=String.fromCharCode(raw.readUInt16BE(2*i));return str}if("numstr"===tag){var numstr=buffer.raw().toString("ascii");return this._isNumstr(numstr)?numstr:buffer.error("Decoding of string type: numstr unsupported characters")}if("octstr"===tag)return buffer.raw();if("objDesc"===tag)return buffer.raw();if("printstr"===tag){var printstr=buffer.raw().toString("ascii");return this._isPrintstr(printstr)?printstr:buffer.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(tag)?buffer.raw().toString():buffer.error("Decoding of string type: "+tag+" unsupported")},DERNode.prototype._decodeObjid=function(buffer,values,relative){for(var result,identifiers=[],ident=0;!buffer.isEmpty();){var subident=buffer.readUInt8();ident<<=7,ident|=127&subident,0==(128&subident)&&(identifiers.push(ident),ident=0)}128&subident&&identifiers.push(ident);var first=identifiers[0]/40|0,second=identifiers[0]%40;if(result=relative?identifiers:[first,second].concat(identifiers.slice(1)),values){var tmp=values[result.join(" ")];void 0===tmp&&(tmp=values[result.join(".")]),void 0!==tmp&&(result=tmp)}return result},DERNode.prototype._decodeTime=function(buffer,tag){var str=buffer.raw().toString();if("gentime"===tag)var year=0|str.slice(0,4),mon=0|str.slice(4,6),day=0|str.slice(6,8),hour=0|str.slice(8,10),min=0|str.slice(10,12),sec=0|str.slice(12,14);else{if("utctime"!==tag)return buffer.error("Decoding "+tag+" time is not supported yet");var year=0|str.slice(0,2),mon=0|str.slice(2,4),day=0|str.slice(4,6),hour=0|str.slice(6,8),min=0|str.slice(8,10),sec=0|str.slice(10,12);year=year<70?2e3+year:1900+year}return Date.UTC(year,mon-1,day,hour,min,sec,0)},DERNode.prototype._decodeNull=function(buffer){return null},DERNode.prototype._decodeBool=function(buffer){var res=buffer.readUInt8();return buffer.isError(res)?res:0!==res},DERNode.prototype._decodeInt=function(buffer,values){var raw=buffer.raw(),res=new bignum(raw);return values&&(res=values[res.toString(10)]||res),res},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getDecoder("der").tree}},function(module,exports,__webpack_require__){function DEREncoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function two(num){return num<10?"0"+num:num}function encodeTag(tag,primitive,cls,reporter){var res;if("seqof"===tag?tag="seq":"setof"===tag&&(tag="set"),der.tagByName.hasOwnProperty(tag))res=der.tagByName[tag];else{if("number"!=typeof tag||(0|tag)!==tag)return reporter.error("Unknown tag: "+tag);res=tag}return res>=31?reporter.error("Multi-octet tag encoding unsupported"):(primitive||(res|=32),res|=der.tagClassByName[cls||"universal"]<<6)}var inherits=__webpack_require__(2),Buffer=__webpack_require__(0).Buffer,asn1=__webpack_require__(41),base=asn1.base,der=asn1.constants.der;module.exports=DEREncoder,DEREncoder.prototype.encode=function(data,reporter){return this.tree._encode(data,reporter).join()},inherits(DERNode,base.Node),DERNode.prototype._encodeComposite=function(tag,primitive,cls,content){var encodedTag=encodeTag(tag,primitive,cls,this.reporter);if(content.length<128){var header=new Buffer(2);return header[0]=encodedTag,header[1]=content.length,this._createEncoderBuffer([header,content])}for(var lenOctets=1,i=content.length;i>=256;i>>=8)lenOctets++;var header=new Buffer(2+lenOctets);header[0]=encodedTag,header[1]=128|lenOctets;for(var i=1+lenOctets,j=content.length;j>0;i--,j>>=8)header[i]=255&j;return this._createEncoderBuffer([header,content])},DERNode.prototype._encodeStr=function(str,tag){if("bitstr"===tag)return this._createEncoderBuffer([0|str.unused,str.data]);if("bmpstr"===tag){for(var buf=new Buffer(2*str.length),i=0;i<str.length;i++)buf.writeUInt16BE(str.charCodeAt(i),2*i);return this._createEncoderBuffer(buf)}return"numstr"===tag?this._isNumstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===tag?this._isPrintstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(tag)?this._createEncoderBuffer(str):"objDesc"===tag?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: "+tag+" unsupported")},DERNode.prototype._encodeObjid=function(id,values,relative){if("string"==typeof id){if(!values)return this.reporter.error("string objid given, but no values map found");if(!values.hasOwnProperty(id))return this.reporter.error("objid not found in values map");id=values[id].split(/[\s\.]+/g);for(var i=0;i<id.length;i++)id[i]|=0}else if(Array.isArray(id)){id=id.slice();for(var i=0;i<id.length;i++)id[i]|=0}if(!Array.isArray(id))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(id));if(!relative){if(id[1]>=40)return this.reporter.error("Second objid identifier OOB");id.splice(0,2,40*id[0]+id[1])}for(var size=0,i=0;i<id.length;i++){var ident=id[i];for(size++;ident>=128;ident>>=7)size++}for(var objid=new Buffer(size),offset=objid.length-1,i=id.length-1;i>=0;i--){var ident=id[i];for(objid[offset--]=127&ident;(ident>>=7)>0;)objid[offset--]=128|127&ident}return this._createEncoderBuffer(objid)},DERNode.prototype._encodeTime=function(time,tag){var str,date=new Date(time);return"gentime"===tag?str=[two(date.getFullYear()),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):"utctime"===tag?str=[two(date.getFullYear()%100),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+tag+" time is not supported yet"),this._encodeStr(str,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(num,values){if("string"==typeof num){if(!values)return this.reporter.error("String int or enum given, but no values map");if(!values.hasOwnProperty(num))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(num));num=values[num]}if("number"!=typeof num&&!Buffer.isBuffer(num)){var numArray=num.toArray();!num.sign&&128&numArray[0]&&numArray.unshift(0),num=new Buffer(numArray)}if(Buffer.isBuffer(num)){var size=num.length;0===num.length&&size++;var out=new Buffer(size);return num.copy(out),0===num.length&&(out[0]=0),this._createEncoderBuffer(out)}if(num<128)return this._createEncoderBuffer(num);if(num<256)return this._createEncoderBuffer([0,num]);for(var size=1,i=num;i>=256;i>>=8)size++;for(var out=new Array(size),i=out.length-1;i>=0;i--)out[i]=255&num,num>>=8;return 128&out[0]&&out.unshift(0),this._createEncoderBuffer(new Buffer(out))},DERNode.prototype._encodeBool=function(value){return this._createEncoderBuffer(value?255:0)},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getEncoder("der").tree},DERNode.prototype._skipDefault=function(dataBuffer,reporter,parent){var i,state=this._baseState;if(null===state.default)return!1;var data=dataBuffer.join();if(void 0===state.defaultBuffer&&(state.defaultBuffer=this._encodeValue(state.default,reporter,parent).join()),data.length!==state.defaultBuffer.length)return!1;for(i=0;i<data.length;i++)if(data[i]!==state.defaultBuffer[i])return!1;return!0}},function(module,exports,__webpack_require__){__webpack_require__(31);var AWS=__webpack_require__(1),Service=__webpack_require__(32),apiLoader=__webpack_require__(30);apiLoader.services.cognitoidentity={},AWS.CognitoIdentity=Service.defineService("cognitoidentity",["2014-06-30"]),__webpack_require__(288),Object.defineProperty(apiLoader.services.cognitoidentity,"2014-06-30",{get:function(){var model=__webpack_require__(259);return model.paginators=__webpack_require__(260).pagination,model},enumerable:!0,configurable:!0}),module.exports=AWS.CognitoIdentity},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1);AWS.Credentials=AWS.util.inherit({constructor:function(){if(AWS.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,1===arguments.length&&"object"==typeof arguments[0]){var creds=arguments[0].credentials||arguments[0];this.accessKeyId=creds.accessKeyId,this.secretAccessKey=creds.secretAccessKey,this.sessionToken=creds.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var currentTime=AWS.util.date.getDate().getTime(),adjustedTime=new Date(currentTime+1e3*this.expiryWindow);return!!(this.expireTime&&adjustedTime>this.expireTime)||(this.expired||!this.accessKeyId||!this.secretAccessKey)},get:function(callback){var self=this;this.needsRefresh()?this.refresh(function(err){err||(self.expired=!1),callback&&callback(err)}):callback&&callback()},refresh:function(callback){this.expired=!1,callback()}}),AWS.Credentials.addPromisesToClass=function(PromiseDependency){this.prototype.getPromise=AWS.util.promisifyMethod("get",PromiseDependency),this.prototype.refreshPromise=AWS.util.promisifyMethod("refresh",PromiseDependency)},AWS.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},AWS.util.addPromises(AWS.Credentials)},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1);AWS.CredentialProviderChain=AWS.util.inherit(AWS.Credentials,{constructor:function(providers){this.providers=providers||AWS.CredentialProviderChain.defaultProviders.slice(0)},resolve:function(callback){function resolveNext(err,creds){if(!err&&creds||index===providers.length)return void callback(err,creds);var provider=providers[index++];creds="function"==typeof provider?provider.call():provider,creds.get?creds.get(function(getErr){resolveNext(getErr,getErr?null:creds)}):resolveNext(null,creds)}if(0===this.providers.length)return callback(new Error("No providers")),this;var index=0,providers=this.providers.slice(0);return resolveNext(),this}}),AWS.CredentialProviderChain.defaultProviders=[],AWS.CredentialProviderChain.addPromisesToClass=function(PromiseDependency){this.prototype.resolvePromise=AWS.util.promisifyMethod("resolve",PromiseDependency)},AWS.CredentialProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise},AWS.util.addPromises(AWS.CredentialProviderChain)},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),inherit=AWS.util.inherit;AWS.Endpoint=inherit({constructor:function(endpoint,config){if(AWS.util.hideProperties(this,["slashes","auth","hash","search","query"]),void 0===endpoint||null===endpoint)throw new Error("Invalid endpoint: "+endpoint);if("string"!=typeof endpoint)return AWS.util.copy(endpoint);if(!endpoint.match(/^http/)){endpoint=((config&&void 0!==config.sslEnabled?config.sslEnabled:AWS.config.sslEnabled)?"https":"http")+"://"+endpoint}AWS.util.update(this,AWS.util.urlParse(endpoint)),this.port?this.port=parseInt(this.port,10):this.port="https:"===this.protocol?443:80}}),AWS.HttpRequest=inherit({constructor:function(endpoint,region){endpoint=new AWS.Endpoint(endpoint),this.method="POST",this.path=endpoint.path||"/",this.headers={},this.body="",this.endpoint=endpoint,this.region=region,this._userAgent="",this.setUserAgent()},setUserAgent:function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=AWS.util.userAgent()},getUserAgentHeaderName:function(){return(AWS.util.isBrowser()?"X-Amz-":"")+"User-Agent"},appendToUserAgent:function(agentPartial){"string"==typeof agentPartial&&agentPartial&&(this._userAgent+=" "+agentPartial),this.headers[this.getUserAgentHeaderName()]=this._userAgent},getUserAgent:function(){return this._userAgent},pathname:function(){return this.path.split("?",1)[0]},search:function(){var query=this.path.split("?",2)[1];return query?(query=AWS.util.queryStringParse(query),AWS.util.queryParamsToString(query)):""}}),AWS.HttpResponse=inherit({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}}),AWS.HttpClient=inherit({}),AWS.HttpClient.getInstance=function(){return void 0===this.singleton&&(this.singleton=new this),this.singleton}},function(module,exports,__webpack_require__){function Api(api,options){api=api||{},options=options||{},options.api=this,api.metadata=api.metadata||{},property(this,"isApi",!0,!1),property(this,"apiVersion",api.metadata.apiVersion),property(this,"endpointPrefix",api.metadata.endpointPrefix),property(this,"signingName",api.metadata.signingName),property(this,"globalEndpoint",api.metadata.globalEndpoint),property(this,"signatureVersion",api.metadata.signatureVersion),property(this,"jsonVersion",api.metadata.jsonVersion),property(this,"targetPrefix",api.metadata.targetPrefix),property(this,"protocol",api.metadata.protocol),property(this,"timestampFormat",api.metadata.timestampFormat),property(this,"xmlNamespaceUri",api.metadata.xmlNamespace),property(this,"abbreviation",api.metadata.serviceAbbreviation),property(this,"fullName",api.metadata.serviceFullName),memoizedProperty(this,"className",function(){var name=api.metadata.serviceAbbreviation||api.metadata.serviceFullName;return name?(name=name.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""),"ElasticLoadBalancing"===name&&(name="ELB"),name):null}),property(this,"operations",new Collection(api.operations,options,function(name,operation){return new Operation(name,operation,options)},util.string.lowerFirst)),property(this,"shapes",new Collection(api.shapes,options,function(name,shape){return Shape.create(shape,options)})),property(this,"paginators",new Collection(api.paginators,options,function(name,paginator){return new Paginator(name,paginator,options)})),property(this,"waiters",new Collection(api.waiters,options,function(name,waiter){return new ResourceWaiter(name,waiter,options)},util.string.lowerFirst)),options.documentation&&(property(this,"documentation",api.documentation),property(this,"documentationUrl",api.documentationUrl))}var Collection=__webpack_require__(135),Operation=__webpack_require__(136),Shape=__webpack_require__(43),Paginator=__webpack_require__(137),ResourceWaiter=__webpack_require__(138),util=__webpack_require__(5),property=util.property,memoizedProperty=util.memoizedProperty;module.exports=Api},function(module,exports,__webpack_require__){function memoize(name,value,fn,nameTr){memoizedProperty(this,nameTr(name),function(){return fn(name,value)})}function Collection(iterable,options,fn,nameTr){nameTr=nameTr||String;var self=this;for(var id in iterable)Object.prototype.hasOwnProperty.call(iterable,id)&&memoize.call(self,id,iterable[id],fn,nameTr)}var memoizedProperty=__webpack_require__(5).memoizedProperty;module.exports=Collection},function(module,exports,__webpack_require__){function Operation(name,operation,options){var self=this;options=options||{},property(this,"name",operation.name||name),property(this,"api",options.api,!1),operation.http=operation.http||{},property(this,"httpMethod",operation.http.method||"POST"),property(this,"httpPath",operation.http.requestUri||"/"),property(this,"authtype",operation.authtype||""),memoizedProperty(this,"input",function(){return operation.input?Shape.create(operation.input,options):new Shape.create({type:"structure"},options)}),memoizedProperty(this,"output",function(){return operation.output?Shape.create(operation.output,options):new Shape.create({type:"structure"},options)}),memoizedProperty(this,"errors",function(){var list=[];if(!operation.errors)return null;for(var i=0;i<operation.errors.length;i++)list.push(Shape.create(operation.errors[i],options));return list}),memoizedProperty(this,"paginator",function(){return options.api.paginators[name]}),options.documentation&&(property(this,"documentation",operation.documentation),property(this,"documentationUrl",operation.documentationUrl)),memoizedProperty(this,"idempotentMembers",function(){var idempotentMembers=[],input=self.input,members=input.members;if(!input.members)return idempotentMembers;for(var name in members)members.hasOwnProperty(name)&&!0===members[name].isIdempotent&&idempotentMembers.push(name);return idempotentMembers})}var Shape=__webpack_require__(43),util=__webpack_require__(5),property=util.property,memoizedProperty=util.memoizedProperty;module.exports=Operation},function(module,exports,__webpack_require__){function Paginator(name,paginator){property(this,"inputToken",paginator.input_token),property(this,"limitKey",paginator.limit_key),property(this,"moreResults",paginator.more_results),property(this,"outputToken",paginator.output_token),property(this,"resultKey",paginator.result_key)}var property=__webpack_require__(5).property;module.exports=Paginator},function(module,exports,__webpack_require__){function ResourceWaiter(name,waiter,options){options=options||{},property(this,"name",name),property(this,"api",options.api,!1),waiter.operation&&property(this,"operation",util.string.lowerFirst(waiter.operation));var self=this;["type","description","delay","maxAttempts","acceptors"].forEach(function(key){var value=waiter[key];value&&property(self,key,value)})}var util=__webpack_require__(5),property=util.property;module.exports=ResourceWaiter},function(module,exports,__webpack_require__){function buildRequest(req){var operation=req.service.api.operations[req.operation],httpRequest=req.httpRequest;httpRequest.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",httpRequest.params={Version:req.service.api.apiVersion,Action:operation.name},(new QueryParamSerializer).serialize(req.params,operation.input,function(name,value){httpRequest.params[name]=value}),httpRequest.body=util.queryParamsToString(httpRequest.params)}function extractError(resp){var data,body=resp.httpResponse.body.toString();if(body.match("<UnknownOperationException"))data={Code:"UnknownOperation",Message:"Unknown operation "+resp.request.operation};else try{data=(new AWS.XML.Parser).parse(body)}catch(e){data={Code:resp.httpResponse.statusCode,Message:resp.httpResponse.statusMessage}}data.requestId&&!resp.requestId&&(resp.requestId=data.requestId),data.Errors&&(data=data.Errors),data.Error&&(data=data.Error),data.Code?resp.error=util.error(new Error,{code:data.Code,message:data.Message}):resp.error=util.error(new Error,{code:resp.httpResponse.statusCode,message:null})}function extractData(resp){var req=resp.request,operation=req.service.api.operations[req.operation],shape=operation.output||{},origRules=shape;if(origRules.resultWrapper){var tmp=Shape.create({type:"structure"});tmp.members[origRules.resultWrapper]=shape,tmp.memberNames=[origRules.resultWrapper],util.property(shape,"name",shape.resultWrapper),shape=tmp}var parser=new AWS.XML.Parser;if(shape&&shape.members&&!shape.members._XAMZRequestId){var requestIdShape=Shape.create({type:"string"},{api:{protocol:"query"}},"requestId");shape.members._XAMZRequestId=requestIdShape}var data=parser.parse(resp.httpResponse.body.toString(),shape);resp.requestId=data._XAMZRequestId||data.requestId,data._XAMZRequestId&&delete data._XAMZRequestId,origRules.resultWrapper&&data[origRules.resultWrapper]&&(util.update(data,data[origRules.resultWrapper]),delete data[origRules.resultWrapper]),resp.data=data}var AWS=__webpack_require__(1),util=__webpack_require__(5),QueryParamSerializer=__webpack_require__(282),Shape=__webpack_require__(43);module.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData}},function(module,exports,__webpack_require__){function populateBody(req){var builder=new JsonBuilder,input=req.service.api.operations[req.operation].input;if(input.payload){var params={},payloadShape=input.members[input.payload];if(void 0===(params=req.params[input.payload]))return;"structure"===payloadShape.type?req.httpRequest.body=builder.build(params,payloadShape):req.httpRequest.body=params}else req.httpRequest.body=builder.build(req.params,input)}function buildRequest(req){Rest.buildRequest(req),["GET","HEAD","DELETE"].indexOf(req.httpRequest.method)<0&&populateBody(req)}function extractError(resp){Json.extractError(resp)}function extractData(resp){Rest.extractData(resp);var req=resp.request,rules=req.service.api.operations[req.operation].output||{};if(rules.payload){var payloadMember=rules.members[rules.payload],body=resp.httpResponse.body;if("structure"===payloadMember.type||"list"===payloadMember.type){var parser=new JsonParser;resp.data[rules.payload]=parser.parse(body,payloadMember)}else"binary"===payloadMember.type||payloadMember.isStreaming?resp.data[rules.payload]=body:resp.data[rules.payload]=payloadMember.toType(body)}else{var data=resp.data;Json.extractData(resp),resp.data=util.merge(data,resp.data)}}var util=__webpack_require__(5),Rest=__webpack_require__(60),Json=__webpack_require__(82),JsonBuilder=__webpack_require__(80),JsonParser=__webpack_require__(81);module.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData}},function(module,exports,__webpack_require__){function populateBody(req){var input=req.service.api.operations[req.operation].input,builder=new AWS.XML.Builder,params=req.params,payload=input.payload;if(payload){var payloadMember=input.members[payload];if(void 0===(params=params[payload]))return;if("structure"===payloadMember.type){var rootElement=payloadMember.name;req.httpRequest.body=builder.toXML(params,payloadMember,rootElement,!0)}else req.httpRequest.body=params}else req.httpRequest.body=builder.toXML(params,input,input.name||input.shape||util.string.upperFirst(req.operation)+"Request")}function buildRequest(req){Rest.buildRequest(req),["GET","HEAD"].indexOf(req.httpRequest.method)<0&&populateBody(req)}function extractError(resp){Rest.extractError(resp);var data;try{data=(new AWS.XML.Parser).parse(resp.httpResponse.body.toString())}catch(e){data={Code:resp.httpResponse.statusCode,Message:resp.httpResponse.statusMessage}}data.Errors&&(data=data.Errors),data.Error&&(data=data.Error),data.Code?resp.error=util.error(new Error,{code:data.Code,message:data.Message}):resp.error=util.error(new Error,{code:resp.httpResponse.statusCode,message:null})}function extractData(resp){Rest.extractData(resp);var parser,req=resp.request,body=resp.httpResponse.body,operation=req.service.api.operations[req.operation],output=operation.output,payload=output.payload;if(payload){var payloadMember=output.members[payload];"structure"===payloadMember.type?(parser=new AWS.XML.Parser,resp.data[payload]=parser.parse(body.toString(),payloadMember)):"binary"===payloadMember.type||payloadMember.isStreaming?resp.data[payload]=body:resp.data[payload]=payloadMember.toType(body)}else if(body.length>0){parser=new AWS.XML.Parser;var data=parser.parse(body.toString(),output);util.update(resp.data,data)}}var AWS=__webpack_require__(1),util=__webpack_require__(5),Rest=__webpack_require__(60);module.exports={buildRequest:buildRequest,extractError:extractError,extractData:extractData}},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1);AWS.SequentialExecutor=AWS.util.inherit({constructor:function(){this._events={}},listeners:function(eventName){return this._events[eventName]?this._events[eventName].slice(0):[]},on:function(eventName,listener){return this._events[eventName]?this._events[eventName].push(listener):this._events[eventName]=[listener],this},onAsync:function(eventName,listener){return listener._isAsync=!0,this.on(eventName,listener)},removeListener:function(eventName,listener){var listeners=this._events[eventName];if(listeners){for(var length=listeners.length,position=-1,i=0;i<length;++i)listeners[i]===listener&&(position=i);position>-1&&listeners.splice(position,1)}return this},removeAllListeners:function(eventName){return eventName?delete this._events[eventName]:this._events={},this},emit:function(eventName,eventArgs,doneCallback){doneCallback||(doneCallback=function(){});var listeners=this.listeners(eventName),count=listeners.length;return this.callListeners(listeners,eventArgs,doneCallback),count>0},callListeners:function(listeners,args,doneCallback,prevError){function callNextListener(err){if(err&&(error=AWS.util.error(error||new Error,err),self._haltHandlersOnError))return doneCallback.call(self,error);self.callListeners(listeners,args,doneCallback,error)}for(var self=this,error=prevError||null;listeners.length>0;){var listener=listeners.shift();if(listener._isAsync)return void listener.apply(self,args.concat([callNextListener]));try{listener.apply(self,args)}catch(err){error=AWS.util.error(error||new Error,err)}if(error&&self._haltHandlersOnError)return void doneCallback.call(self,error)}doneCallback.call(self,error)},addListeners:function(listeners){var self=this;return listeners._events&&(listeners=listeners._events),AWS.util.each(listeners,function(event,callbacks){"function"==typeof callbacks&&(callbacks=[callbacks]),AWS.util.arrayEach(callbacks,function(callback){self.on(event,callback)})}),self},addNamedListener:function(name,eventName,callback){return this[name]=callback,this.addListener(eventName,callback),this},addNamedAsyncListener:function(name,eventName,callback){return callback._isAsync=!0,this.addNamedListener(name,eventName,callback)},addNamedListeners:function(callback){var self=this;return callback(function(){self.addNamedListener.apply(self,arguments)},function(){self.addNamedAsyncListener.apply(self,arguments)}),this}}),AWS.SequentialExecutor.prototype.addListener=AWS.SequentialExecutor.prototype.on,module.exports=AWS.SequentialExecutor},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),inherit=AWS.util.inherit;AWS.Signers.V3=inherit(AWS.Signers.RequestSigner,{addAuthorization:function(credentials,date){var datetime=AWS.util.date.rfc822(date);this.request.headers["X-Amz-Date"]=datetime,credentials.sessionToken&&(this.request.headers["x-amz-security-token"]=credentials.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(credentials,datetime)},authorization:function(credentials){return"AWS3 AWSAccessKeyId="+credentials.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(credentials)},signedHeaders:function(){var headers=[];return AWS.util.arrayEach(this.headersToSign(),function(h){headers.push(h.toLowerCase())}),headers.sort().join(";")},canonicalHeaders:function(){var headers=this.request.headers,parts=[];return AWS.util.arrayEach(this.headersToSign(),function(h){parts.push(h.toLowerCase().trim()+":"+String(headers[h]).trim())}),parts.sort().join("\n")+"\n"},headersToSign:function(){var headers=[];return AWS.util.each(this.request.headers,function(k){("Host"===k||"Content-Encoding"===k||k.match(/^X-Amz/i))&&headers.push(k)}),headers},signature:function(credentials){return AWS.util.crypto.hmac(credentials.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var parts=[];return parts.push(this.request.method),parts.push("/"),parts.push(""),parts.push(this.canonicalHeaders()),parts.push(this.request.body),AWS.util.crypto.sha256(parts.join("\n"))}}),module.exports=AWS.Signers.V3},function(module,exports,__webpack_require__){function Rand(rand){this.rand=rand}var r;if(module.exports=function(len){return r||(r=new Rand(null)),r.generate(len)},module.exports.Rand=Rand,Rand.prototype.generate=function(len){return this._rand(len)},Rand.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var res=new Uint8Array(n),i=0;i<res.length;i++)res[i]=this.rand.getByte();return res},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(n){var arr=new Uint8Array(n);return self.crypto.getRandomValues(arr),arr}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(n){var arr=new Uint8Array(n);return self.msCrypto.getRandomValues(arr),arr}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto=__webpack_require__(663);if("function"!=typeof crypto.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function(n){return crypto.randomBytes(n)}}catch(e){}},function(module,exports,__webpack_require__){(function(Buffer){function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher))return new StreamCipher(mode,key,iv);Transform.call(this),this._finID=Buffer.concat([iv,new Buffer([0,0,0,1])]),iv=Buffer.concat([iv,new Buffer([0,0,0,2])]),this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=decrypt,this._alen=0,this._len=0,iv.copy(this._prev),this._mode=mode;var h=new Buffer(4);h.fill(0),this._ghash=new GHASH(this._cipher.encryptBlock(h)),this._authTag=null,this._called=!1}function xorTest(a,b){var out=0;a.length!==b.length&&out++;for(var len=Math.min(a.length,b.length),i=-1;++i<len;)out+=a[i]^b[i];return out}var aes=__webpack_require__(61),Transform=__webpack_require__(33),inherits=__webpack_require__(2),GHASH=__webpack_require__(308),xor=__webpack_require__(44);inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(chunk){if(!this._called&&this._alen){var rump=16-this._alen%16;rump<16&&(rump=new Buffer(rump),rump.fill(0),this._ghash.update(rump))}this._called=!0;var out=this._mode.encrypt(this,chunk);return this._decrypt?this._ghash.update(chunk):this._ghash.update(out),this._len+=chunk.length,out},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var tag=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(tag,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=tag;this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(!this._decrypt&&Buffer.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},StreamCipher.prototype.setAuthTag=function(tag){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=tag},StreamCipher.prototype.setAAD=function(buf){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(buf),this._alen+=buf.length}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){var xor=__webpack_require__(44);exports.encrypt=function(self,block){var data=xor(block,self._prev);return self._prev=self._cipher.encryptBlock(data),self._prev},exports.decrypt=function(self,block){var pad=self._prev;self._prev=block;var out=self._cipher.decryptBlock(block);return xor(out,pad)}},function(module,exports,__webpack_require__){(function(Buffer){function encryptStart(self,data,decrypt){var len=data.length,out=xor(data,self._cache);return self._cache=self._cache.slice(len),self._prev=Buffer.concat([self._prev,decrypt?data:out]),out}var xor=__webpack_require__(44);exports.encrypt=function(self,data,decrypt){for(var len,out=new Buffer("");data.length;){if(0===self._cache.length&&(self._cache=self._cipher.encryptBlock(self._prev),self._prev=new Buffer("")),!(self._cache.length<=data.length)){out=Buffer.concat([out,encryptStart(self,data,decrypt)]);break}len=self._cache.length,out=Buffer.concat([out,encryptStart(self,data.slice(0,len),decrypt)]),data=data.slice(len)}return out}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function encryptByte(self,byteParam,decrypt){for(var pad,bit,value,i=-1,out=0;++i<8;)pad=self._cipher.encryptBlock(self._prev),bit=byteParam&1<<7-i?128:0,value=pad[0]^bit,out+=(128&value)>>i%8,self._prev=shiftIn(self._prev,decrypt?bit:value);return out}function shiftIn(buffer,value){var len=buffer.length,i=-1,out=new Buffer(buffer.length);for(buffer=Buffer.concat([buffer,new Buffer([value])]);++i<len;)out[i]=buffer[i]<<1|buffer[i+1]>>7;return out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=new Buffer(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function encryptByte(self,byteParam,decrypt){var pad=self._cipher.encryptBlock(self._prev),out=pad[0]^byteParam;return self._prev=Buffer.concat([self._prev.slice(1),new Buffer([decrypt?byteParam:out])]),out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=new Buffer(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){exports.encrypt=function(self,block){return self._cipher.encryptBlock(block)},exports.decrypt=function(self,block){return self._cipher.decryptBlock(block)}},function(module,exports,__webpack_require__){(function(Buffer){function getBlock(self){return self._prev=self._cipher.encryptBlock(self._prev),self._prev}var xor=__webpack_require__(44);exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher))return new StreamCipher(mode,key,iv);Transform.call(this),this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=decrypt,iv.copy(this._prev),this._mode=mode}var aes=__webpack_require__(61),Transform=__webpack_require__(33);__webpack_require__(2)(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(chunk){return this._mode.encrypt(this,chunk,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){module.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(module,exports){module.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(module,exports,__webpack_require__){"use strict";function core_md5(x,len){x[len>>5]|=128<<len%32,x[14+(len+64>>>9<<4)]=len;for(var a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16){var olda=a,oldb=b,oldc=c,oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936),d=md5_ff(d,a,b,c,x[i+1],12,-389564586),c=md5_ff(c,d,a,b,x[i+2],17,606105819),b=md5_ff(b,c,d,a,x[i+3],22,-1044525330),a=md5_ff(a,b,c,d,x[i+4],7,-176418897),d=md5_ff(d,a,b,c,x[i+5],12,1200080426),c=md5_ff(c,d,a,b,x[i+6],17,-1473231341),b=md5_ff(b,c,d,a,x[i+7],22,-45705983),a=md5_ff(a,b,c,d,x[i+8],7,1770035416),d=md5_ff(d,a,b,c,x[i+9],12,-1958414417),c=md5_ff(c,d,a,b,x[i+10],17,-42063),b=md5_ff(b,c,d,a,x[i+11],22,-1990404162),a=md5_ff(a,b,c,d,x[i+12],7,1804603682),d=md5_ff(d,a,b,c,x[i+13],12,-40341101),c=md5_ff(c,d,a,b,x[i+14],17,-1502002290),b=md5_ff(b,c,d,a,x[i+15],22,1236535329),a=md5_gg(a,b,c,d,x[i+1],5,-165796510),d=md5_gg(d,a,b,c,x[i+6],9,-1069501632),c=md5_gg(c,d,a,b,x[i+11],14,643717713),b=md5_gg(b,c,d,a,x[i+0],20,-373897302),a=md5_gg(a,b,c,d,x[i+5],5,-701558691),d=md5_gg(d,a,b,c,x[i+10],9,38016083),c=md5_gg(c,d,a,b,x[i+15],14,-660478335),b=md5_gg(b,c,d,a,x[i+4],20,-405537848),a=md5_gg(a,b,c,d,x[i+9],5,568446438),d=md5_gg(d,a,b,c,x[i+14],9,-1019803690),c=md5_gg(c,d,a,b,x[i+3],14,-187363961),b=md5_gg(b,c,d,a,x[i+8],20,1163531501),a=md5_gg(a,b,c,d,x[i+13],5,-1444681467),d=md5_gg(d,a,b,c,x[i+2],9,-51403784),c=md5_gg(c,d,a,b,x[i+7],14,1735328473),b=md5_gg(b,c,d,a,x[i+12],20,-1926607734),a=md5_hh(a,b,c,d,x[i+5],4,-378558),d=md5_hh(d,a,b,c,x[i+8],11,-2022574463),c=md5_hh(c,d,a,b,x[i+11],16,1839030562),b=md5_hh(b,c,d,a,x[i+14],23,-35309556),a=md5_hh(a,b,c,d,x[i+1],4,-1530992060),d=md5_hh(d,a,b,c,x[i+4],11,1272893353),c=md5_hh(c,d,a,b,x[i+7],16,-155497632),b=md5_hh(b,c,d,a,x[i+10],23,-1094730640),a=md5_hh(a,b,c,d,x[i+13],4,681279174),d=md5_hh(d,a,b,c,x[i+0],11,-358537222),c=md5_hh(c,d,a,b,x[i+3],16,-722521979),b=md5_hh(b,c,d,a,x[i+6],23,76029189),a=md5_hh(a,b,c,d,x[i+9],4,-640364487),d=md5_hh(d,a,b,c,x[i+12],11,-421815835),c=md5_hh(c,d,a,b,x[i+15],16,530742520),b=md5_hh(b,c,d,a,x[i+2],23,-995338651),a=md5_ii(a,b,c,d,x[i+0],6,-198630844),d=md5_ii(d,a,b,c,x[i+7],10,1126891415),c=md5_ii(c,d,a,b,x[i+14],15,-1416354905),b=md5_ii(b,c,d,a,x[i+5],21,-57434055),a=md5_ii(a,b,c,d,x[i+12],6,1700485571),d=md5_ii(d,a,b,c,x[i+3],10,-1894986606),c=md5_ii(c,d,a,b,x[i+10],15,-1051523),b=md5_ii(b,c,d,a,x[i+1],21,-2054922799),a=md5_ii(a,b,c,d,x[i+8],6,1873313359),d=md5_ii(d,a,b,c,x[i+15],10,-30611744),c=md5_ii(c,d,a,b,x[i+6],15,-1560198380),b=md5_ii(b,c,d,a,x[i+13],21,1309151649),a=md5_ii(a,b,c,d,x[i+4],6,-145523070),d=md5_ii(d,a,b,c,x[i+11],10,-1120210379),c=md5_ii(c,d,a,b,x[i+2],15,718787259),b=md5_ii(b,c,d,a,x[i+9],21,-343485551),a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}var helpers=__webpack_require__(319);module.exports=function(buf){return helpers.hash(buf,core_md5,16)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractFsDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(64),_crypto=__webpack_require__(27),_crypto2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_crypto);exports.AbstractFsDriver=function(_AbstractDriver){function AbstractFsDriver(){let directory=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AbstractFsDriver.DEFAULT_DIRECTORY;_classCallCheck(this,AbstractFsDriver);var _this=_possibleConstructorReturn(this,(AbstractFsDriver.__proto__||Object.getPrototypeOf(AbstractFsDriver)).call(this));return _this._directory=directory,_this}return _inherits(AbstractFsDriver,_AbstractDriver),_createClass(AbstractFsDriver,[{key:"_buildKey",value:function(key){return`${this._directory}/${AbstractFsDriver._hash(key,"sha1")}.${AbstractFsDriver._hash(key,"md5")}`}}],[{key:"_hash",value:function(text,alg){return _crypto2.default.createHash(alg).update(text).digest("hex")}},{key:"_now",get:function(){return parseInt((new Date).getTime()/1e3)}},{key:"DEFAULT_DIRECTORY",get:function(){return"__cache__"}}]),AbstractFsDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InMemoryDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(64);exports.InMemoryDriver=function(_AbstractDriver){function InMemoryDriver(){_classCallCheck(this,InMemoryDriver);var _this=_possibleConstructorReturn(this,(InMemoryDriver.__proto__||Object.getPrototypeOf(InMemoryDriver)).call(this));return _this._storage={},_this}return _inherits(InMemoryDriver,_AbstractDriver),_createClass(InMemoryDriver,[{key:"_type",value:function(){return"InMemory"}},{key:"_has",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return this._storage.hasOwnProperty(key)?!1===this._storage[key][1]?callback(null,!0):this._storage[key][1]<InMemoryDriver._now?(this._invalidate(key),callback(null,!1)):callback(null,!0):callback(null,!1)}},{key:"_get",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return this._storage.hasOwnProperty(key)?!1===this._storage[key][1]?callback(null,this._storage[key][0]):this._storage[key][1]<InMemoryDriver._now?(this._invalidate(key),callback(null,null)):callback(null,this._storage[key][0]):callback(null,null)}},{key:"_set",value:function(key,value){let ttl=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,callback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};this._storage[key]=[value,!(ttl<=0)&&InMemoryDriver._now+ttl],callback(null,!0)}},{key:"_invalidate",value:function(key){let timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,callback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if(timeout<=0)return delete this._storage[key],void callback(null,!0);this._storage[key][1]=InMemoryDriver._now+timeout,callback(null,!0)}},{key:"_flush",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};this._storage={},callback(null,!0)}},{key:"storage",get:function(){return this._storage}}],[{key:"_now",get:function(){return parseInt((new Date).getTime()/1e3)}}]),InMemoryDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Exception=void 0;var _deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);exports.Exception=function(_Core$Exception$Excep){function Exception(){var _ref;_classCallCheck(this,Exception);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(_ref,[this].concat(args)))}return _inherits(Exception,_Core$Exception$Excep),Exception}(_deepCore2.default.Exception.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.SharedKey=function(){function SharedKey(keyString,microservice){_classCallCheck(this,SharedKey),this._key=keyString,this._microservice=microservice}return _createClass(SharedKey,[{key:"toString",value:function(){return this._key}},{key:"microservice",get:function(){return this._microservice}}]),SharedKey}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Action=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Extractable2=__webpack_require__(47),_Service=__webpack_require__(89),_InvalidArgumentException=__webpack_require__(35),_Policy=__webpack_require__(65);exports.Action=function(_Extractable){function Action(){let service=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_Service.Service.ANY,actionName=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_Policy.Policy.ANY;_classCallCheck(this,Action);var _this=_possibleConstructorReturn(this,(Action.__proto__||Object.getPrototypeOf(Action)).call(this));return _this._service=null,_this._action=actionName,_this.service=service,_this}return _inherits(Action,_Extractable),_createClass(Action,[{key:"extract",value:function(){return`${this._service}:${this._action}`}},{key:"action",set:function(action){this._action=action},get:function(){return this._action}},{key:"service",set:function(name){if(!_Service.Service.exists(name))throw new _InvalidArgumentException.InvalidArgumentException(name,_Service.Service);this._service=name},get:function(){return this._service}}]),Action}(_Extractable2.Extractable)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Resource=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Extractable2=__webpack_require__(47),_Region=__webpack_require__(164),_Service=__webpack_require__(89),_InvalidArgumentException=__webpack_require__(35),_InvalidArnException=__webpack_require__(339);exports.Resource=function(_Extractable){function Resource(){let service=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_Service.Service.ANY,region=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",accountId=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",descriptor=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";_classCallCheck(this,Resource);var _this=_possibleConstructorReturn(this,(Resource.__proto__||Object.getPrototypeOf(Resource)).call(this));return _this._service=null,_this._region=null,_this._accountId=accountId,_this._descriptor=descriptor,_this.service=service,_this.region=region,_this._any=!1,_this}return _inherits(Resource,_Extractable),_createClass(Resource,[{key:"any",value:function(){return this._any=!0,this}},{key:"updateFromArn",value:function(arn){let arnParts=arn.split(":");if(arnParts.length<6)throw new _InvalidArnException.InvalidArnException(arn);return this.service=arnParts[2],this.region=arnParts[3],this.accountId=arnParts[4],this.descriptor=arnParts.slice(5).join(":"),this}},{key:"extract",value:function(){return this._any?"*":`arn:aws:${this._service}:${this._region}:${this._accountId}:${this._descriptor}`}},{key:"accountId",set:function(identifier){this._accountId=identifier},get:function(){return this._accountId}},{key:"descriptor",set:function(descriptor){this._descriptor=descriptor},get:function(){return this._descriptor}},{key:"region",set:function(name){if(!_Region.Region.exists(name))throw new _InvalidArgumentException.InvalidArgumentException(name,_Region.Region);this._region=name},get:function(){return this._region}},{key:"service",set:function(name){if(!_Service.Service.exists(name))throw new _InvalidArgumentException.InvalidArgumentException(name,_Service.Service);this._service=name},get:function(){return this._service}}]),Resource}(_Extractable2.Extractable)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Statement=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Resource=__webpack_require__(161),_Collection=__webpack_require__(88),_Action=__webpack_require__(160),_Policy=__webpack_require__(65),_Extractable2=__webpack_require__(47),_InvalidArgumentException=__webpack_require__(35);exports.Statement=function(_Extractable){function Statement(){_classCallCheck(this,Statement);var _this=_possibleConstructorReturn(this,(Statement.__proto__||Object.getPrototypeOf(Statement)).call(this));return _this._effect=Statement.ALLOW,_this._action=new _Collection.Collection(_Action.Action),_this._notAction=new _Collection.Collection(_Action.Action),_this._resource=new _Collection.Collection(_Resource.Resource),_this._notResource=new _Collection.Collection(_Resource.Resource),_this._condition=null,_this._principal=null,_this}return _inherits(Statement,_Extractable),_createClass(Statement,[{key:"extract",value:function(){let actions=this._action.count()>0?this._action.extract():_Policy.Policy.ANY,resources=this._resource.count()>0?this._resource.extract():null,statement={Effect:this._effect,Action:actions};return null!==resources&&(statement.Resource=resources),null!==this._condition&&this._condition instanceof Object&&(statement.Condition=this._condition),null!=this._principal&&(statement.Principal=this._principal),this._notAction.count()>0&&(statement.NotAction=this._notAction.extract()),this._notResource.count()>0&&(statement.NotResource=this._notResource.extract()),statement}},{key:"effect",set:function(effect){if(-1===[Statement.ALLOW,Statement.DENY].indexOf(effect))throw new _InvalidArgumentException.InvalidArgumentException(effect,"[Statement.ALLOW, Statement.DENY]");this._effect=effect},get:function(){return this._effect}},{key:"condition",set:function(condition){this._condition=condition},get:function(){return this._condition}},{key:"principal",set:function(principal){this._principal=principal},get:function(){return this._principal}},{key:"notResource",get:function(){return this._notResource}},{key:"resource",get:function(){return this._resource}},{key:"notAction",get:function(){return this._notAction}},{key:"action",get:function(){return this._action}}],[{key:"ALLOW",get:function(){return"Allow"}},{key:"DENY",get:function(){return"Deny"}}]),Statement}(_Extractable2.Extractable)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Response=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_MissingRuntimeContextException=__webpack_require__(344);exports.Response=function(){function Response(runtime,data){_classCallCheck(this,Response),this._data=data,this._runtime=runtime}return _createClass(Response,[{key:"send",value:function(){if(!this._runtime.context)throw new _MissingRuntimeContextException.MissingRuntimeContextException;return this.runtime.logService.rumLog({service:"deep-core",resourceType:"Lambda",resourceId:this.runtime.context.invokedFunctionArn,eventName:"Run"}),this.runtime.logService.rumFlush((error,data)=>{this._runtime._contextSent=!0;(this._runtime.resolver||this._runtime.context)[this.constructor.contextMethod](this.data)}),this}},{key:"runtime",get:function(){return this._runtime}},{key:"contextSent",get:function(){return this._runtime.contextSent}},{key:"data",get:function(){return this._data}},{key:"rawData",get:function(){return this._data}}],[{key:"contextMethod",get:function(){return"succeed"}}]),Response}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.Region=function(){function Region(){_classCallCheck(this,Region)}return _createClass(Region,null,[{key:"exists",value:function(name){return""===name||-1!==Region.list().indexOf(name)}},{key:"list",value:function(){return[Region.ANY,Region.ASIA_PACIFIC_TOKYO,Region.ASIA_PACIFIC_SEOUL,Region.ASIA_PACIFIC_SYDNEY,Region.ASIA_PACIFIC_SINGAPORE,Region.EU_FRANKFURT,Region.EU_IRELAND,Region.EU_LONDON,Region.SOUTH_AMERICA_SAO_PAULO,Region.US_EAST_N_VIRGINIA,Region.US_EAST_OHIO,Region.US_WEST_N_CALIFORNIA,Region.US_WEST_OREGON,Region.AP_SOUTH_MUMBAI]}},{key:"all",value:function(){return Region.list()}},{key:"getAppropriateAwsRegion",value:function(defaultRegion,availableRegions){if(-1!==availableRegions.indexOf(defaultRegion))return defaultRegion;let regionContinent=defaultRegion.split("-")[0];for(let regionKey in availableRegions)if(availableRegions.hasOwnProperty(regionKey)){let region=availableRegions[regionKey];if(region===Region.ANY)return defaultRegion;if(region.split("-")[0]===regionContinent)return region}return availableRegions[0]}},{key:"getRegionPrefix",value:function(region){return-1!==[Region.EU_FRANKFURT,Region.ASIA_PACIFIC_SEOUL].indexOf(region)?".":"-"}},{key:"ANY",get:function(){return"*"}},{key:"ASIA_PACIFIC_TOKYO",get:function(){return"ap-northeast-1"}},{key:"ASIA_PACIFIC_SEOUL",get:function(){return"ap-northeast-2"}},{key:"ASIA_PACIFIC_SINGAPORE",get:function(){return"ap-southeast-1"}},{key:"ASIA_PACIFIC_SYDNEY",get:function(){return"ap-southeast-2"}},{key:"EU_FRANKFURT",get:function(){return"eu-central-1"}},{key:"EU_IRELAND",get:function(){return"eu-west-1"}},{key:"EU_LONDON",get:function(){return"eu-west-2"}},{key:"SOUTH_AMERICA_SAO_PAULO",get:function(){return"sa-east-1"}},{key:"US_EAST_N_VIRGINIA",get:function(){return"us-east-1"}},{key:"US_EAST_OHIO",get:function(){return"us-east-2"}},{key:"US_WEST_N_CALIFORNIA",get:function(){return"us-west-1"}},{key:"US_WEST_OREGON",get:function(){return"us-west-2"}},{key:"AP_SOUTH_MUMBAI",get:function(){return"ap-south-1"}}]),Region}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MethodsNotImplementedException=void 0;var _Exception2=__webpack_require__(14),_InvalidArgumentException=__webpack_require__(35);exports.MethodsNotImplementedException=function(_Exception){function MethodsNotImplementedException(methods){if(_classCallCheck(this,MethodsNotImplementedException),!Array.isArray(methods))throw new _InvalidArgumentException.InvalidArgumentException(methods,"Array");let methodPlain=methods.join(", ");return _possibleConstructorReturn(this,(MethodsNotImplementedException.__proto__||Object.getPrototypeOf(MethodsNotImplementedException)).call(this,`One or more method are not implemented (${methodPlain}).`,500))}return _inherits(MethodsNotImplementedException,_Exception),MethodsNotImplementedException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.Helper=function(){function Helper(){_classCallCheck(this,Helper)}return _createClass(Helper,null,[{key:"assureDefinedCode",value:function(code){return code=parseInt(code),-1!==Helper.CODES.indexOf(code)?code:(code=parseInt(String(code).charAt(0)+"00"),-1!==Helper.CODES.indexOf(code)?code:500)}},{key:"CODES",get:function(){return[200,400,401,403,404,406,409,500]}}]),Helper}()},function(module,exports,__webpack_require__){"use strict";(function(setImmediate){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sandbox=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_domain=__webpack_require__(457),_domain2=_interopRequireDefault(_domain),_process=__webpack_require__(7),_process2=_interopRequireDefault(_process);exports.Sandbox=function(){function Sandbox(func){_classCallCheck(this,Sandbox),this._func=func,this._onFail=Sandbox.ON_FAIL_CB}return _createClass(Sandbox,[{key:"run",value:function(){let execDomain=_domain2.default.create(),failCbTriggered=!1,failCb=error=>{if(failCbTriggered)return;failCbTriggered=!0;try{execDomain.exit()}catch(e){}setImmediate(()=>{this._onFail(error)})};execDomain.once("error",failCb),_process2.default.removeAllListeners("uncaughtException"),_process2.default.removeAllListeners("unhandledRejection"),_process2.default.on("uncaughtException",failCb),_process2.default.on("unhandledRejection",failCb);try{for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];execDomain.run.apply(execDomain,[this._func].concat(args))}catch(error){failCb(error)}return this}},{key:"fail",value:function(cb){return this._onFail=cb,this}},{key:"func",get:function(){return this._func}}],[{key:"ON_FAIL_CB",get:function(){return error=>{console.error(error)}}}]),Sandbox}()}).call(exports,__webpack_require__(225).setImmediate)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BackendContext=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractContext2=__webpack_require__(361);exports.BackendContext=function(_AbstractContext){function BackendContext(){return _classCallCheck(this,BackendContext),_possibleConstructorReturn(this,(BackendContext.__proto__||Object.getPrototypeOf(BackendContext)).apply(this,arguments))}return _inherits(BackendContext,_AbstractContext),_createClass(BackendContext,null,[{key:"fromKernel",value:function(kernel){return new this(BackendContext._filterRuntimeContext(kernel.runtimeContext))}},{key:"_filterRuntimeContext",value:function(runtimeContext){const context={};return Object.keys(runtimeContext).forEach(key=>{const value=runtimeContext[key];if(BackendContext._isScalarOrArray(value))context[key]=value;else if("object"==typeof value)if(Object.keys(value).length<=0)context[key]=value;else{const plainValue=BackendContext._filterRuntimeContext(value);Object.keys(plainValue).length>0&&(context[key]=plainValue)}}),context}},{key:"_isScalarOrArray",value:function(value){return null===value||Array.isArray(value)||/string|number|boolean/i.test(typeof value)}}]),BackendContext}(_AbstractContext2.AbstractContext)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.AbstractDriver=function(){function AbstractDriver(context){_classCallCheck(this,AbstractDriver),this._context=context}return _createClass(AbstractDriver,[{key:"log",value:function(name,data){let context=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._log(name,data,this.context.enrichEventContext(context))}},{key:"_printEvent",value:function(name,data,context){return console.log("[EVENT]",name,"{DATA->",data,"}","{CONTEXT->",context,"}"),Promise.resolve()}},{key:"_log",value:function(name,data,context){return Promise.reject(new Error(`Driver._log() not implemented!`))}},{key:"context",get:function(){return this._context}}]),AbstractDriver}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncConfig=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(36),_HttpDriver=__webpack_require__(172),_FsDriver=__webpack_require__(171);exports.AsyncConfig=function(_AbstractDriver){function AsyncConfig(kernel){let configFile=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AsyncConfig.DEFAULT_CONFIG_FILE;_classCallCheck(this,AsyncConfig);var _this=_possibleConstructorReturn(this,(AsyncConfig.__proto__||Object.getPrototypeOf(AsyncConfig)).call(this));return _this._kernel=kernel,_this._configFile=configFile,_this}return _inherits(AsyncConfig,_AbstractDriver),_createClass(AsyncConfig,[{key:"_load",value:function(){let configFile=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._configFile=configFile||this._configFile,this._kernel.isBackend?this._loadFromFS():this._loadFromEndpoint()}},{key:"_loadFromFS",value:function(){let driver=new _FsDriver.FsDriver(this._configFile).inherit(this);if(!this._kernel.container.localBackend){let sharedFs=this._kernel.get("fs").shared(this._kernel.rootMicroservice.identifier);driver.setFs(sharedFs)}driver.load()}},{key:"_loadFromEndpoint",value:function(){new _HttpDriver.HttpDriver(this._configFile).inherit(this).load()}},{key:"kernel",get:function(){return this._kernel}},{key:"configFile",get:function(){return this._configFile}}],[{key:"DEFAULT_CONFIG_FILE",get:function(){return"_async_config.json"}}]),AsyncConfig}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FsDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(36),_fs=__webpack_require__(587),_fs2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_fs);exports.FsDriver=function(_AbstractDriver){function FsDriver(){let file=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,FsDriver);var _this=_possibleConstructorReturn(this,(FsDriver.__proto__||Object.getPrototypeOf(FsDriver)).call(this));return _this._fs=_fs2.default,_this._file=file,_this}return _inherits(FsDriver,_AbstractDriver),_createClass(FsDriver,[{key:"setFs",value:function(fs){return this._fs=fs,this}},{key:"setFile",value:function(file){return this._file=file,this}},{key:"_load",value:function(){let file=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._file=file||this._file,this._fs.readFile(this._file,(error,data)=>{let configStr=data?data.toString():"{}";if(error&&"NoSuchKey"!==error.name)return void this.fail(`Error reading configuration file '${this._file}': ${error}`);this.loadedJson(configStr)})}},{key:"file",get:function(){return this._file}},{key:"fs",get:function(){return this._fs}}]),FsDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HttpDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(36);exports.HttpDriver=function(_AbstractDriver){function HttpDriver(){let endpoint=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,enforceRoot=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,HttpDriver);var _this=_possibleConstructorReturn(this,(HttpDriver.__proto__||Object.getPrototypeOf(HttpDriver)).call(this));return _this._endpoint=endpoint,_this._enforceRoot=enforceRoot,_this}return _inherits(HttpDriver,_AbstractDriver),_createClass(HttpDriver,[{key:"setEndpoint",value:function(endpoint){return this._endpoint=endpoint,this}},{key:"_load",value:function(){let endpoint=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._endpoint=endpoint||this._endpoint,this._enforceRoot&&!/^http|\//i.test(this._endpoint)&&(this._endpoint=`/${this._endpoint}`);let client=new XMLHttpRequest;client.open("GET",this._endpoint),client.onreadystatechange=(()=>{4===client.readyState&&(200!==client.status?this.fail(`Failed to load config from ${this._endpoint} (status=${client.status})`):this.loadedJson(client.responseText))}),client.send()}},{key:"endpoint",get:function(){return this._endpoint}}]),HttpDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Instance=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore),_Injectable=__webpack_require__(91);exports.Instance=function(){function Instance(identifier,rawResources){let parameters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,Instance),this._isRoot=!1,this._rawResources=rawResources,this._identifier=identifier,this._parameters=parameters}return _createClass(Instance,[{key:"inject",value:function(objectInstance){if(!(objectInstance instanceof _Injectable.Injectable))throw new _deepCore2.default.Exception.InvalidArgumentException(objectInstance,"deep-kernel.Injectable");return objectInstance.microservice=this,objectInstance}},{key:"toString",value:function(){return this._identifier}},{key:"parameters",get:function(){return this._parameters}},{key:"rawResources",get:function(){return this._rawResources}},{key:"identifier",get:function(){return this._identifier}},{key:"isRoot",set:function(state){this._isRoot=state},get:function(){return this._isRoot}}],[{key:"createVector",value:function(globalConfig){let vector=[];for(let identifier in globalConfig.microservices)if(globalConfig.microservices.hasOwnProperty(identifier)){let microservice=globalConfig.microservices[identifier],microserviceObject=new Instance(identifier,microservice.resources,microservice.parameters||{});microserviceObject.isRoot=microservice.isRoot,vector.push(microserviceObject)}return vector}}]),Instance}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Request=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_SuperagentResponse=__webpack_require__(175),_LambdaResponse=__webpack_require__(94),_Response=__webpack_require__(95),_Exception=__webpack_require__(8),_Action=__webpack_require__(93),_RetryManager=__webpack_require__(411),_superagent=__webpack_require__(224),_superagent2=_interopRequireDefault(_superagent),_awsSdk=__webpack_require__(18),_awsSdk2=_interopRequireDefault(_awsSdk),_MissingCacheImplementationException=__webpack_require__(401),_CachedRequestException=__webpack_require__(397),_NotAuthenticatedException=__webpack_require__(405),_aws=__webpack_require__(302),_aws2=_interopRequireDefault(_aws),_urlParse=__webpack_require__(124),_urlParse2=_interopRequireDefault(_urlParse),_qs=__webpack_require__(215),_qs2=_interopRequireDefault(_qs),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_MissingSecurityServiceException=__webpack_require__(404),_AsyncCallNotAvailableException=__webpack_require__(396),_LambdaParamsCompatibilityException=__webpack_require__(398),_LoadCredentialsException=__webpack_require__(399),_SourceNotAvailableException=__webpack_require__(406),_crypto=__webpack_require__(27),_crypto2=_interopRequireDefault(_crypto),_util=__webpack_require__(20),_util2=_interopRequireDefault(_util);let Request=function(){function Request(action,payload,method){_classCallCheck(this,Request),this._action=action,this._payload=payload,this._method=method,this._lambda=new _awsSdk2.default.Lambda,this._cacheImpl=null,this._cacheTtl=Request.TTL_FOREVER,this._cached=!1,this._publicCached=!1,this._async=!1,this._xhrAsync=!0,this._native=!1,this._validationSchemaName=null,this._customId=null,this._returnLogs=!1,this._withUserCredentials=!0,this._authScope=this._buildAuthScope(),this._apiKey=null,this._baseUrl=null,this._retryManager=new _RetryManager.RetryManager(["internal-error"])}return _createClass(Request,[{key:"baseUrl",value:function(url){return this._baseUrl=url,this}},{key:"skipLoadingCredentials",value:function(){return this._withUserCredentials=!1,this}},{key:"skipPreValidation",value:function(){return this._validationSchemaName=null,this}},{key:"invokeAsync",value:function(){if(!this.isLambda)throw new _AsyncCallNotAvailableException.AsyncCallNotAvailableException(this._action.type);if(this._returnLogs)throw new _LambdaParamsCompatibilityException.LambdaParamsCompatibilityException({InvocationType:"Event",LogType:"Tail"});return this._native=!0,this._async=!0,this}},{key:"httpXhrAsync",value:function(flag){if(!this.isLambda)throw new _Exception.Exception("XHR sync requests are supported only for calls to lambda functions.",400);return this._xhrAsync=!!flag,this}},{key:"useDirectCall",value:function(){let returnLogs=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._async&&returnLogs)throw new _LambdaParamsCompatibilityException.LambdaParamsCompatibilityException({InvocationType:"Event",LogType:"Tail"});return this._native=!0,this._returnLogs=returnLogs,this}},{key:"usePublicCache",value:function(){return this._publicCached=!0,this}},{key:"enableCache",value:function(){return this._cached=!0,this}},{key:"disableCache",value:function(){return this._cached=!1,this}},{key:"cache",value:function(){let ttl=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Request.TTL_FOREVER;if(!this._cacheImpl)throw new _MissingCacheImplementationException.MissingCacheImplementationException;return this._cacheTtl=ttl,this.enableCache(),this}},{key:"retry",value:function(count){return this._retryManager.count=count,this}},{key:"addRetryStrategy",value:function(strategy){for(var _retryManager,_len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return(_retryManager=this._retryManager).addStrategy.apply(_retryManager,[strategy].concat(args)),this}},{key:"authScope",value:function(_authScope){return this._authScope=_authScope,this}},{key:"apiKey",value:function(key){return this._apiKey=key,this}},{key:"_buildCacheKey",value:function(){let payload=Request._md5(JSON.stringify(this.payload)),endpoint=this.native?this._action.source.original:this._action.source.api;return`${this._method}:${this._action.type}:${endpoint}#${payload}`}},{key:"_rebuildResponse",value:function(rawData){let response="string"==typeof rawData?JSON.parse(rawData):rawData;if(!response)throw new _CachedRequestException.CachedRequestException(`Unable to unpack cached JSON object from ${rawData}`);if(response._class){let ResponseImpl=Request._chooseResponseImpl(response._class);if(!ResponseImpl)throw new _Exception.Exception(`Unknown Response implementation ${response._class}`);return new ResponseImpl(this,response.data,response.error)}return new _SuperagentResponse.SuperagentResponse(this,response,null)}},{key:"invalidateCache",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};if(!this.isCached)return callback(!0),this;let cache=this._cacheImpl,cacheKey=this._buildCacheKey();return cache.has(cacheKey,(error,result)=>{if(error)throw new _CachedRequestException.CachedRequestException(error);if(result)return void cache.invalidate(cacheKey,0,(error,result)=>{if(error)throw new _CachedRequestException.CachedRequestException(error);callback(result)});callback(!0)}),this}},{key:"send",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},cache=this.cacheImpl,cacheKey=this._buildCacheKey();return!this.isCached||this._async||this.cacheTtl===Request.TTL_INVALIDATE?this._send(callback):(this._loadResponseFromCache(cache,cacheKey,(error,response)=>{if(!error)return void callback(response);if(this.isPublicCached){let publicCache=cache.shared,publicCacheKey=publicCache.buildKeyFromRequest(this);this._loadResponseFromCache(publicCache,publicCacheKey,(error,response)=>{if(!error)return void callback(response);this._send(callback)})}else this._send(callback)}),this)}},{key:"_send",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},logService=this.action.resource.log,requestEvent={service:"deep-resource",resourceType:"Browser",resourceId:this.native?this.action.source.original:this.action.source.api,eventName:this.method,eventId:this.customId,requestId:this.customId,time:Date.now()},decoratedCallback=response=>{if(this._retryManager.isRetryable(response))return this._send(callback);"GET"===this.method.toUpperCase()&&this._saveResponseToCache(response);requestEvent.requestId=requestEvent.mainRequestId=response.requestId;let responseEvent=_util2.default._extend({},requestEvent);responseEvent.payload=response;responseEvent.time=Date.now();logService.rumLog(requestEvent);logService.rumLog(responseEvent);callback(response)};if(this.validationSchemaName){let result=this._validate();if(result.error)return decoratedCallback(this._createValidationErrorResponse(result.error))}if(this._fillPayloadWithSystemData(),!this._native)return this._sendThroughApi(decoratedCallback);switch(this._action.type){case _Action.Action.LAMBDA:if(!this._action.isOriginalSourceInvokable)throw new _SourceNotAvailableException.SourceNotAvailableException(_Action.Action.LAMBDA,this._action);this._sendLambda(decoratedCallback);break;case _Action.Action.EXTERNAL:if(!this._action.isApiSourceInvokable)throw new _SourceNotAvailableException.SourceNotAvailableException(_Action.Action.EXTERNAL,this._action);this._sendExternal(decoratedCallback);break;default:throw new _Exception.Exception(`Request of type ${this._action.type} is not implemented`)}return this}},{key:"_fillPayloadWithSystemData",value:function(){let resource=this.action.resource;if(!resource.isBackend||!resource.log.isRumEnabled())return this;let runtimeContext=resource.contextProvider.context;return this._payload.lambdaDepthLevel=(runtimeContext.getDeepFrameworkOption("lambdaDepthLevel")||0)+1,this._payload.mainRequestId=runtimeContext.getDeepFrameworkOption("mainRequestId")||runtimeContext.awsRequestId,this}},{key:"_saveResponseToCache",value:function(response){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(!this.isCached||this.async||this.cacheTtl===Request.TTL_INVALIDATE||response.isError)return void callback(null,response);let cacheKey=this._buildCacheKey(),logService=this.action.resource.log,event={service:"deep-cache",resourceType:this.cacheImpl.type(),resourceId:cacheKey,eventName:"set",requestId:response.requestId};logService.rumLog(event),this.cacheImpl.set(cacheKey,Request._stringifyResponse(response),this.cacheTtl,(error,result)=>{event=_util2.default._extend({},event);event.payload={error:error,result:result};logService.rumLog(event);error||result||(error=`Unable to persist request cache under key ${cacheKey}.`);error&&(error=new _CachedRequestException.CachedRequestException(error));callback(error,result);return})}},{key:"_loadResponseFromCache",value:function(driver,key,callback){driver.has(key,(err,has)=>{if(err)return void callback(new _CachedRequestException.CachedRequestException(`Error to check if has in cache key ${key}`));if(has){let logService=this.action.resource.log,event={service:"deep-cache",resourceType:driver.type(),resourceId:key,eventName:"get",requestId:this.customId};return logService.rumLog(event),void driver.get(key,(err,data)=>{event=_util2.default._extend({},event);event.payload={err:err,data:data};logService.rumLog(event);if(err)return void callback(err,null);callback(null,this._rebuildResponse(data))})}callback(new _CachedRequestException.CachedRequestException(`Missing key ${key}`),null)})}},{key:"_validate",value:function(){if(!this.validationSchemaName)throw new _Exception.Exception("Error on validating request. Validation schema is not defined.");return this.action.resource.validation.validate(this.validationSchemaName,this.payload,!0)}},{key:"_createValidationErrorResponse",value:function(validationError){return new _LambdaResponse.LambdaResponse(this,{errorMessage:JSON.stringify({errorType:validationError.name,errorMessage:validationError.annotate(),errorStack:validationError.stack||new Error(validationError.message).stack,validationErrors:validationError.details})},null)}},{key:"_sendThroughApi",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},endpoint=this.action.source.api,headers={},sendRequestFunc=request=>{request.end((error,response)=>{callback(new _SuperagentResponse.SuperagentResponse(this,response,error))})};if(this.action.apiKeyRequired){if(!this._apiKey)return callback(new _SuperagentResponse.SuperagentResponse(this,null,new Error("Missing required api key parameter."))),this;headers={"x-api-key":this._apiKey}}return this.action.apiAuthType===_Action.Action.API_AWS_IAM_AUTH?this._createAws4SignedRequest(endpoint,this.method,this.payload,headers,(error,signedRequest)=>{if(error)return callback(new _SuperagentResponse.SuperagentResponse(this,null,error)),this;sendRequestFunc(signedRequest)}):sendRequestFunc(this._createBasicHttpRequest(endpoint,this.method,this.payload,headers)),this}},{key:"_sendLambda",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};_awsSdk2.default.config.maxRetries=3;let options={region:this._action.region,httpOptions:{xhrAsync:this.xhrAsync}},invocationParameters={FunctionName:this._action.source.original,Payload:JSON.stringify(this.payload),InvocationType:this._async?"Event":"RequestResponse",LogType:this._returnLogs?"Tail":"None"};return this.withUserCredentials?this._loadSecurityCredentials((error,credentials)=>{!error&&credentials&&(options.credentials=credentials);this._lambda=new _awsSdk2.default.Lambda(options);this._invokeLambda(invocationParameters,callback)}):this._invokeLambda(invocationParameters,callback),this}},{key:"_invokeLambda",value:function(invocationParameters,callback){let _this=this;this._lambda.invoke(invocationParameters,function(error,data){let lambdaResponse=new _LambdaResponse.LambdaResponse(_this,data,error);lambdaResponse.originalResponse=this,callback(lambdaResponse)})}},{key:"_createBasicHttpRequest",value:function(url){let method=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.method,payload=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.payload,headers=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},request=_superagent2.default[Request._httpRealMethod(method)](url,payload);for(let headerName in headers)headers.hasOwnProperty(headerName)&&request.set(headerName,headers[headerName]);return request}},{key:"_sendExternal",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};return this._createBasicHttpRequest(this._action.source.original).send().end((error,response)=>{callback(new _SuperagentResponse.SuperagentResponse(this,response,error))}),this}},{key:"_createAws4SignedRequest",value:function(url,httpMethod,payload,headers,callback){let parsedUrl=(0,_urlParse2.default)(url,_qs2.default),apiHost=parsedUrl.hostname,apiPath=parsedUrl.pathname?parsedUrl.pathname:"/";headers=_util2.default._extend(headers,{"Content-Type":"application/json; charset=UTF-8"});let opsToSign={service:_deepCore2.default.AWS.Service.API_GATEWAY_EXECUTE,region:this.getEndpointHostRegion(apiHost),host:apiHost,method:httpMethod,path:apiPath,headers:_util2.default._extend({},headers)};switch(httpMethod=httpMethod.toLowerCase()){case"get":case"delete":if(parsedUrl.query||payload){null!==parsedUrl.query&&"object"==typeof parsedUrl.query||(parsedUrl.query={});let mergedPayload=_util2.default._extend(parsedUrl.query,payload);this.action.apiCacheEnabled&&(mergedPayload[_Action.Action.DEEP_CACHE_QS_PARAM]=Request._md5(_qs2.default.stringify(mergedPayload))),opsToSign.path+=`?${_qs2.default.stringify(mergedPayload)}`,parsedUrl.set("query",mergedPayload,_qs2.default.parse),url=parsedUrl.toString(_qs2.default.stringify),payload=null}break;case"post":case"put":case"patch":opsToSign.body=JSON.stringify(payload)}this._loadSecurityCredentials((error,credentials)=>{if(error)return void callback(error);let signature=_aws2.default.sign(opsToSign,credentials);let request=this._createBasicHttpRequest(url,httpMethod,payload,headers);["X-Amz-Date","X-Amz-Security-Token","Authorization"].forEach(header=>{request.set(header,signature.headers[header])});this.action.resource.isBackend&&signature.headers.hasOwnProperty("Content-Length")&&request.set("Content-Length",signature.headers["Content-Length"]);callback(null,request)})}},{key:"_loadSecurityCredentials",value:function(callback){let securityService=this._action.resource.security;return securityService?securityService.token?(securityService.token.loadCredentials((error,credentials)=>{if(error)return void callback(new _LoadCredentialsException.LoadCredentialsException(error),null);callback(null,credentials)},this._authScope),this):(callback(new _NotAuthenticatedException.NotAuthenticatedException,null),this):(callback(new _MissingSecurityServiceException.MissingSecurityServiceException,null),this)}},{key:"getEndpointHostRegion",value:function(endpointHost){let regionParts=endpointHost.match(/\.([^\.]+)\.amazonaws\.com$/i);return regionParts?regionParts[1]:this._action.region}},{key:"_buildAuthScope",value:function(){let action=this._action,resource=action.resource;return`${resource.microservice.identifier}:${resource.name}:${action.name}`}},{key:"baseUrl",get:function(){return this._baseUrl||(this._baseUrl=this._action.baseUrl),this._baseUrl}},{key:"withUserCredentials",get:function(){return"private"===this.action.scope&&(this._withUserCredentials=!1),this._withUserCredentials}},{key:"validationSchemaName",get:function(){return this._validationSchemaName},set:function(validationSchemaName){this._validationSchemaName=validationSchemaName}},{key:"async",get:function(){return this._async}},{key:"xhrAsync",get:function(){return this._xhrAsync}},{key:"isLambda",get:function(){return this._action.type===_Action.Action.LAMBDA}},{key:"customId",get:function(){return this._customId||(this._customId=Request._md5(this._buildCacheKey()+(new Date).getTime())),this._customId}},{key:"native",get:function(){return this._native}},{key:"isCached",get:function(){return this._cacheImpl&&this._cached}},{key:"isPublicCached",get:function(){return this._publicCached&&this._cacheImpl&&this._cacheImpl.shared}},{key:"cacheTtl",get:function(){return this._cacheTtl},set:function(ttl){this._cacheTtl=ttl}},{key:"cacheImpl",get:function(){return this._cacheImpl},set:function(cache){this._cacheImpl=cache,this.cache(Request.TTL_DEFAULT)}},{key:"action",get:function(){return this._action}},{key:"payload",get:function(){return this._payload}},{key:"method",get:function(){return this._method}}],[{key:"_md5",value:function(str){var md5sum=_crypto2.default.createHash("md5");return md5sum.update(str),md5sum.digest("hex")}},{key:"_stringifyResponse",value:function(response){let objToStr={_class:response.constructor.name,data:response.rawData,error:response.rawError,headers:response.headers};return response.constructor.name===_SuperagentResponse.SuperagentResponse.name&&(objToStr.data={body:response.rawData.body,status:response.rawData.status,headers:response.rawData.headers}),JSON.stringify(objToStr)}},{key:"_chooseResponseImpl",value:function(className){let implMap={};return implMap[_Response.Response.name]=_Response.Response,implMap[_LambdaResponse.LambdaResponse.name]=_LambdaResponse.LambdaResponse,implMap[_SuperagentResponse.SuperagentResponse.name]=_SuperagentResponse.SuperagentResponse,implMap[className]}},{key:"_httpRealMethod",value:function(httpMethod){let method=httpMethod.toLowerCase();return"delete"===method&&(method="del"),method}},{key:"TTL_DEFAULT",get:function(){return 10}},{key:"TTL_INVALIDATE",get:function(){return-1}},{key:"TTL_FOREVER",get:function(){return 0}}]),Request}();exports.Request=Request},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SuperagentResponse=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Response2=__webpack_require__(95),_LambdaResponse=__webpack_require__(94);exports.SuperagentResponse=function(_Response){function SuperagentResponse(){var _ref;_classCallCheck(this,SuperagentResponse);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_possibleConstructorReturn(this,(_ref=SuperagentResponse.__proto__||Object.getPrototypeOf(SuperagentResponse)).call.apply(_ref,[this].concat(args)));return _this._request.isLambda?_this._parseLambda():_this._parseExternal(),_this}return _inherits(SuperagentResponse,_Response),_createClass(SuperagentResponse,[{key:"_parseLambda",value:function(){if(this._parseExternal(),this._data){if("string"==typeof this._data)try{this._data=JSON.parse(this._data)}catch(e){console.log("Unable to parse data: ",e)}let dataObj=this._data;if(dataObj.errorMessage){let errorObj=null;if(dataObj.errorStack&&dataObj.errorType)errorObj=dataObj;else if("string"==typeof(errorObj=dataObj.errorMessage))try{errorObj=JSON.parse(errorObj)}catch(e){errorObj={errorMessage:errorObj,errorStack:new Error("Internal error occurred.").stack,errorType:"InternalError"}}else errorObj=errorObj||{errorMessage:"Unknown error occurred.",errorStack:new Error("Unknown error occurred.").stack,errorType:"UnknownError"};this._error=_LambdaResponse.LambdaResponse.getPayloadError(errorObj),this._data=null}else this._data=dataObj}}},{key:"_parseExternal",value:function(){let data=this._rawData,error=this._rawError;error&&(this._error=error),data&&data.error&&(this._error=data.error),this._data=data&&data.body?data.body:null,data&&data.status?this._statusCode=parseInt(data.status):this._data&&!this._error?this._statusCode=200:this._error&&"object"==typeof this._error&&this._error.crossDomain&&void 0===this._error.crossDomain.status?this._statusCode=403:this._statusCode=this._error&&"object"==typeof this._error?this._error.status||500:500}},{key:"headers",get:function(){return this._headers||(this._headers=this.rawData&&this.rawData.headers?this.rawData.headers:{}),this._headers}},{key:"requestId",get:function(){return!this._requestId&&this.headers&&(this.headers[_Response2.Response.ORIGINAL_REQUEST_ID_HEADER.toLowerCase()]?this._requestId=this.headers[_Response2.Response.ORIGINAL_REQUEST_ID_HEADER.toLowerCase()]:this.headers[_Response2.Response.REQUEST_ID_HEADER.toLowerCase()]&&(this._requestId=this.headers[_Response2.Response.REQUEST_ID_HEADER.toLowerCase()])),this._requestId}}]),SuperagentResponse}(_Response2.Response)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.AbstractUserProvider=function(){function AbstractUserProvider(){_classCallCheck(this,AbstractUserProvider)}return _createClass(AbstractUserProvider,[{key:"loadUserByIdentityId",value:function(id,callback){throw new Error(`Abstract method not implemented.`)}}]),AbstractUserProvider}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Security=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepKernel=__webpack_require__(21),_deepKernel2=_interopRequireDefault(_deepKernel),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_Exception=__webpack_require__(12),_Token=__webpack_require__(178),_LocalToken=__webpack_require__(431),_FrontendUserProvider=__webpack_require__(427),_BackendUserProvider=__webpack_require__(414),_IdentityProvider=__webpack_require__(100),_LocalIdentityProvider=__webpack_require__(430),_RoleResolver=__webpack_require__(433),_RoleProvider=__webpack_require__(432),_util=__webpack_require__(20),_util2=_interopRequireDefault(_util),_crypto=__webpack_require__(27),_crypto2=_interopRequireDefault(_crypto),_awsSdk=__webpack_require__(18),_awsSdk2=_interopRequireDefault(_awsSdk);exports.Security=function(_Kernel$ContainerAwar){function Security(){let identityPoolId=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,identityProviders=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Security);var _this=_possibleConstructorReturn(this,(Security.__proto__||Object.getPrototypeOf(Security)).call(this));return _this._identityPoolId=identityPoolId,_this._identityProviders=identityProviders,_this._token=null,_this._userProvider=null,_this._userProviderEndpoint=null,_this._userModelName=null,_this._roleProviderEndpoint=null,_this._roleResolver=null,_this._roleProvider=null,_this}return _inherits(Security,_Kernel$ContainerAwar),_createClass(Security,[{key:"boot",value:function(kernel,callback){let globals=kernel.config.globals;this._identityPoolId=kernel.config.identityPoolId,this._identityProviders=kernel.config.identityProviders||{},this._userProviderEndpoint=globals.userProviderEndpoint||null,this._userModelName=globals.userModelName||"User",this._roleProviderEndpoint=globals.roleProviderEndpoint||null,callback()}},{key:"cleanup",value:function(){this.roleProvider.invalidateCache(),this._token&&(this._token.user=null)}},{key:"login",value:function(providerName,identityMetadata,callback){let TokenImplementation=_LocalToken.LocalToken,IdentityProviderImplementation=_LocalIdentityProvider.LocalIdentityProvider;this._localBackend||(TokenImplementation=_Token.Token,IdentityProviderImplementation=_IdentityProvider.IdentityProvider);let identityProvider=new IdentityProviderImplementation(this._identityProviders,providerName,identityMetadata);this._token=TokenImplementation.createFromIdentityProvider(this._identityPoolId,identityProvider),this._token.roleResolver=this.roleResolver,this._token.userProvider=this.userProvider,this._token.cacheService=this._cacheService,this._token.logService=this.kernel.get("log");let event={eventName:"login",eventId:Security.customEventId(this.identityPoolId),payload:{providerName:providerName,identityMetadata:identityMetadata},time:(new Date).getTime()};return this._token.loadCredentials((error,credentials)=>{this._logRumEvent(event);event=_util2.default._extend({},event);event.payload={credentials:credentials};this._logRumEvent(event);callback(error,this._token)}),this._token}},{key:"anonymousLogin",value:function(callback){let TokenImplementation=this._localBackend?_LocalToken.LocalToken:_Token.Token;this._token=TokenImplementation.create(this.identityPoolId),this._token.userProvider=this.userProvider,this._token.roleResolver=this.roleResolver,this._token.cacheService=this._cacheService,this._token.logService=this.kernel.get("log");let event={eventName:"anonymousLogin",eventId:Security.customEventId(this.identityPoolId),time:(new Date).getTime()};return this._token.loadCredentials((error,credentials)=>{this._logRumEvent(event);event=_util2.default._extend({},event);event.payload={credentials:credentials};this._logRumEvent(event);callback(error,this._token)}),this._token}},{key:"warmupBackendLogin",value:function(lambdaContext){if(this.kernel.isFrontend)throw new _Exception.Exception("Call to warmupBackendLogin method is not allowed from frontend context.");_awsSdk2.default.config.credentials instanceof _awsSdk2.default.EnvironmentCredentials&&(_deepCore2.default.AWS.ENV_CREDENTIALS=_awsSdk2.default.config.credentials);let TokenImplementation=this._localBackend?_LocalToken.LocalToken:_Token.Token;return this._token=TokenImplementation.createFromLambdaContext(this._identityPoolId,lambdaContext),this._token.userProvider=this.userProvider,this._token.logService=this.kernel.get("log"),this._token.roleResolver=this.roleResolver,this._token.cacheService=this._cacheService,this.kernel.config.forceUserIdentity&&this.kernel.accountMicroservice?this._token.loadLambdaCredentials():Promise.resolve(_deepCore2.default.AWS.ENV_CREDENTIALS)}},{key:"logout",value:function(){return this._logRumEvent({eventName:"logout"}),this._token?this._token.destroy().then(()=>{this._roleProvider.invalidateCache();this._token=null;return this}):Promise.resolve(this)}},{key:"_logRumEvent",value:function(customData){if(this.kernel&&!this.kernel.isRumEnabled)return!1;let logService=this.kernel.get("log"),event=_util2.default._extend(customData,{service:"deep-security",resourceType:"Cognito",resourceId:this.identityPoolId});return logService.rumLog(event),!0}},{key:"identityPoolId",get:function(){return this._identityPoolId}},{key:"userProvider",get:function(){return this._userProvider||(this.kernel.isFrontend?this._userProvider=new _FrontendUserProvider.FrontendUserProvider(this._userProviderEndpoint,this._resourceService):this._userProvider=new _BackendUserProvider.BackendUserProvider(this._userModelName,this.container.get("db"))),this._userProvider}},{key:"roleResolver",get:function(){return this._roleResolver||(this._roleResolver=new _RoleResolver.RoleResolver(this.roleProvider)),this._roleResolver}},{key:"roleProvider",get:function(){return this._roleProvider||(this._roleProvider=new _RoleProvider.RoleProvider(this._resourceService,this._roleProviderEndpoint)),this._roleProvider}},{key:"token",get:function(){return this._token}},{key:"_resourceService",get:function(){return this.container.get("resource")}},{key:"_cacheService",get:function(){return this.container.get("cache")}}],[{key:"customEventId",value:function(identityPoolId){return Security._md5(identityPoolId+(new Date).getTime())}},{key:"_md5",value:function(str){var md5sum=_crypto2.default.createHash("md5");return md5sum.update(str),md5sum.digest("hex")}}]),Security}(_deepKernel2.default.ContainerAware)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Token=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_awsSdk=__webpack_require__(18),_awsSdk2=_interopRequireDefault(_awsSdk),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_util=__webpack_require__(20),_util2=_interopRequireDefault(_util),_IdentityProviderTokenExpiredException=__webpack_require__(99),_DescribeIdentityException=__webpack_require__(418),_Security=__webpack_require__(177),_TokenManager=__webpack_require__(179),_CredentialsManager=__webpack_require__(415),_IdentityProvider=__webpack_require__(100);exports.Token=function(){function Token(identityPoolId){_classCallCheck(this,Token),this._identityPoolId=identityPoolId,this._lambdaContext=null,this._user=null,this._identityMetadata=null,this._tokenExpiredCallback=null,this._identityProvider=null,this._userProvider=null,this._roleResolver=null,this._logService=null,this._cacheService=null,this._credsPromises={},this._tokenManager=new _TokenManager.TokenManager(identityPoolId),this._credentialsManager=new _CredentialsManager.CredentialsManager(this),this._sts=new _awsSdk2.default.STS,this._setupAwsCognitoConfig()}return _createClass(Token,null,[{key:"MAX_RETRIES",get:function(){return 3}},{key:"RETRIES_INTERVAL_MS",get:function(){return 200}}]),_createClass(Token,[{key:"_setupAwsCognitoConfig",value:function(){_awsSdk2.default.config.maxRetries=3;let cognitoRegion=Token.getRegionFromIdentityPoolId(this._identityPoolId);_awsSdk2.default.config.update({cognitoidentity:{region:cognitoRegion},cognitosync:{region:cognitoRegion}})}},{key:"_tryLoadIdentityProvider",value:function(){return this._identityProvider?Promise.resolve(this._identityProvider):new Promise(resolve=>{this._cacheService.get(Token.IDENTITY_PROVIDER_CACHE_KEY,(error,rawProvider)=>{if(error||!rawProvider)return resolve(null);let providerSnapshot=JSON.parse(rawProvider);let providerInstance=_IdentityProvider.IdentityProvider.createFromSnapshot(providerSnapshot);resolve(providerInstance.isTokenValid()?providerInstance:null)})})}},{key:"isAllowed",value:function(authScope){return this._roleResolver.resolve(authScope).then(role=>!!role)}},{key:"loadLambdaCredentials",value:function(){return new Promise((resolve,reject)=>{this._cacheService.get("credentialsCache",(error,credentialsCache)=>{if(error&&"MissingCacheException"!==error.name)return reject(error);credentialsCache=credentialsCache||{default:_deepCore2.default.AWS.ENV_CREDENTIALS};this._sts.config.credentials=credentialsCache.default;this.getUser((error,user)=>{if(error)return reject(error);if(!user||!user.ActiveAccount||!user.ActiveAccount.BackendRole)return resolve(credentialsCache.default);let awsRole=user.ActiveAccount.BackendRole;if(credentialsCache.hasOwnProperty(awsRole.Arn)&&this._credentialsManager.validCredentials(credentialsCache[awsRole.Arn]))return resolve(credentialsCache[awsRole.Arn]);let stsParams={RoleArn:awsRole.Arn,RoleSessionName:`backend-role-${awsRole.Name}`};this._stsAssumeRole(stsParams).then(response=>{let credentialsObj=response.Credentials;let credentials=new _awsSdk2.default.Credentials({accessKeyId:credentialsObj.AccessKeyId,secretAccessKey:credentialsObj.SecretAccessKey,sessionToken:credentialsObj.SessionToken});credentials.expireTime=credentialsObj.Expiration;credentialsCache[awsRole.Arn]=credentials;this._cacheService.set("credentialsCache",credentialsCache);return resolve(credentialsCache[awsRole.Arn])}).catch(reject)})})})}},{key:"_stsAssumeRole",value:function(stsParams){let _retryCount=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._sts.assumeRole(stsParams).promise().catch(e=>{if(_retryCount++<Token.MAX_RETRIES)return console.warn(`Retrying "sts:assumeRole" with params: ${JSON.stringify(stsParams)}`),new Promise((resolve,reject)=>{setTimeout(()=>{this._stsAssumeRole(stsParams,_retryCount).then(resolve).catch(reject)},1e3*Math.pow(2,_retryCount))});throw e})}},{key:"loadCredentials",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},authScope=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,scopeKey=authScope?authScope.toString():"default",event={service:"deep-security",resourceType:"Cognito",resourceId:this._identityPoolId,eventName:"loadCredentials",eventId:_Security.Security.customEventId(this._identityPoolId),time:(new Date).getTime()},proxyCallback=(error,credentials)=>{error instanceof _IdentityProviderTokenExpiredException.IdentityProviderTokenExpiredException&&"function"==typeof this._tokenExpiredCallback&&(this._tokenExpiredCallback(this.identityProvider),this._identityProvider=null);this._logService.rumLog(event);event=_util2.default._extend({},event);event.payload={error:error,credentials:{}};this._logService.rumLog(event);delete this._credsPromises[scopeKey];setTimeout(()=>{callback(error,credentials)},0)};return this._credsPromises.hasOwnProperty(scopeKey)||(this._credsPromises[scopeKey]=this._tryLoadIdentityProvider().then(identityProvider=>{this._identityProvider=identityProvider;return this._loadTokenSnapshot()}).then(tokenSnapshot=>{tokenSnapshot&&this._fillFromTokenSnapshot(tokenSnapshot);return this._credentialsManager.getCredentials()}).then(defaultCredentials=>{if(!authScope)return defaultCredentials;return this._roleResolver.resolve(authScope).then(role=>this._credentialsManager.getCredentials(role))}).then(credentials=>{if(!this.lambdaContext)return this._saveToken().then(()=>credentials).catch(()=>Promise.resolve(credentials));return credentials})),this._credsPromises[scopeKey].then(credentials=>proxyCallback(null,credentials)).catch(error=>proxyCallback(error,null))}},{key:"_loadTokenSnapshot",value:function(){return this._credentialsManager.getCredentials(null,!1).then(credentials=>this._credentialsManager.validCredentials(credentials)?null:this.lambdaContext?this._tokenManager.loadBackendToken(this.identityId):(_awsSdk2.default.config.credentials=credentials,this._tokenManager.loadFrontendToken()))}},{key:"_fillFromTokenSnapshot",value:function(tokenSnapshot){let providerSnapshot=tokenSnapshot.identityProvider;return providerSnapshot&&!this._identityProvider&&this._lambdaContext&&(this._identityProvider=_IdentityProvider.IdentityProvider.createFromSnapshot(providerSnapshot)),this._credentialsManager.validCredentials(tokenSnapshot.credentials)&&(this._credentialsManager.systemCredentials=tokenSnapshot.credentials,this._credentialsManager.rolesCredentials=tokenSnapshot.rolesCredentials),this}},{key:"_saveToken",value:function(){return this.identityProvider&&this._cacheService.set(Token.IDENTITY_PROVIDER_CACHE_KEY,JSON.stringify(this._identityProvider.toJSON()),parseInt((this.identityProvider.tokenExpirationTime.getTime()-Date.now())/1e3)),this._tokenManager.saveToken(this)}},{key:"getUser",value:function(callback){let argsHandler=(error,user)=>{if(1===callback.length){if(error)throw error;return callback(user)}callback(error,user)};this.lambdaContext,this._loadUser(argsHandler)}},{key:"_loadUser",value:function(callback){return this.isAnonymous?void callback(null):this._user?void callback(null,this._user):void this._userProvider.loadUserByIdentityId(this.identityId,(error,user)=>{if(error)return void callback(error,null);this._user=user;callback(null,this._user)})}},{key:"_describeIdentity",value:function(identityId){return this._identityMetadata?Promise.resolve(this._identityMetadata):new _awsSdk2.default.CognitoIdentity({credentials:_deepCore2.default.AWS.ENV_CREDENTIALS}).describeIdentity({IdentityId:identityId}).promise().then(data=>{this._identityMetadata=data;return data}).catch(error=>{throw new _DescribeIdentityException.DescribeIdentityException(identityId,error)})}},{key:"registerTokenExpiredCallback",value:function(callback){if("function"!=typeof callback)throw new _deepCore.Exception.InvalidArgumentException(callback,"function");return this._tokenExpiredCallback=callback,this}},{key:"destroy",value:function(){return Promise.all(Object.keys(this._credsPromises).map(k=>this._credsPromises[k])).catch(e=>Promise.resolve(null)).then(()=>{this._credentialsManager.clearCache();this._tokenManager.deleteToken();this._cacheService.invalidate(Token.IDENTITY_PROVIDER_CACHE_KEY);this._credsPromises={};this._identityProvider=null})}},{key:"toJSON",value:function(){return{credentials:this._credentialsManager.systemCredentials,rolesCredentials:this._credentialsManager.rolesCredentials,identityId:this.identityId,identityProvider:this._identityProvider.toJSON()}}},{key:"credentialsManager",get:function(){return this._credentialsManager}},{key:"identityProvider",get:function(){return this._identityProvider},set:function(provider){this._identityProvider=provider}},{key:"identityPoolId",get:function(){return this._identityPoolId}},{key:"cacheService",set:function(cacheService){this._cacheService=cacheService}},{key:"lambdaContext",get:function(){return this._lambdaContext},set:function(lambdaContext){this._lambdaContext=lambdaContext}},{key:"logService",set:function(logService){this._logService=logService}},{key:"roleResolver",set:function(roleResolver){this._roleResolver=roleResolver}},{key:"user",set:function(user){this._user=user},get:function(){return this._user}},{key:"identityId",get:function(){let identityId=null,credentials=this.credentialsManager.systemCredentials;return this.lambdaContext?identityId=this.lambdaContext.identity.cognitoIdentityId:credentials&&(credentials.identityId?identityId=credentials.identityId:credentials.params&&credentials.params.IdentityId?identityId=credentials.params.IdentityId:this._tokenManager.identityId&&(identityId=this._tokenManager.identityId)),identityId}},{key:"isAnonymous",get:function(){return!this.lambdaContext&&!this.identityProvider}},{key:"userProvider",set:function(userProvider){this._userProvider=userProvider}},{key:"_identityLogins",get:function(){return this._identityMetadata&&this._identityMetadata.hasOwnProperty("Logins")?this._identityMetadata.Logins:[]}}],[{key:"getRegionFromIdentityPoolId",value:function(identityPoolId){return identityPoolId.split(":")[0]}},{key:"create",value:function(identityPoolId){return new this(identityPoolId)}},{key:"createFromIdentityProvider",value:function(identityPoolId,identityProvider){let token=new this(identityPoolId);return token.identityProvider=identityProvider,token}},{key:"createFromLambdaContext",value:function(identityPoolId,lambdaContext){let token=new this(identityPoolId);return token.lambdaContext=lambdaContext,token}},{key:"IDENTITY_PROVIDER_CACHE_KEY",get:function(){return"__deep_framework|security|token|identity-provider"}}]),Token}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TokenManager=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_awsSdk=__webpack_require__(18),_awsSdk2=_interopRequireDefault(_awsSdk),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_amazonCognitoJs=__webpack_require__(240),_CreateCognitoDatasetException=(_interopRequireDefault(_amazonCognitoJs),__webpack_require__(417)),_PutCognitoRecordException=__webpack_require__(425),_SynchronizeCognitoDatasetException=__webpack_require__(426);exports.TokenManager=function(){function TokenManager(identityPoolId){let cognitoSyncClient=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,TokenManager),this._identityPoolId=identityPoolId,this._cognitoSyncClient=cognitoSyncClient,this._lastSyncedEntry=null,this._syncInProgress=!1}return _createClass(TokenManager,null,[{key:"DATASET_NAME",get:function(){return"deep_session"}},{key:"RECORD_NAME",get:function(){return"session_creds"}}]),_createClass(TokenManager,[{key:"saveToken",value:function(token){return new Promise((resolve,reject)=>{this._createOrGetDataset((error,dataset)=>{if(error)return reject(error);let encodedToken=this._encodeToken(token);if(this._lastSyncedEntry===encodedToken||this._syncInProgress)return resolve();this._syncInProgress=!0;this._lastSyncedEntry=encodedToken;dataset.put(TokenManager.RECORD_NAME,this._encodeToken(token),error=>{if(error)return reject(new _PutCognitoRecordException.PutCognitoRecordException(TokenManager.DATASET_NAME,TokenManager.RECORD_NAME,error));this._synchronizeDataset(dataset,(error,savedRecords)=>{this._syncInProgress=!1;if(error)return reject(new _SynchronizeCognitoDatasetException.SynchronizeCognitoDatasetException(dataset,error));resolve(savedRecords)})})})})}},{key:"loadBackendToken",value:function(identityId){let cognitosync=new _awsSdk2.default.CognitoSync({credentials:_deepCore2.default.AWS.ENV_CREDENTIALS}),params={DatasetName:TokenManager.DATASET_NAME,IdentityId:identityId,IdentityPoolId:this._identityPoolId};return cognitosync.listRecords(params).promise().then(data=>{let token=null;data.Records.forEach(record=>{if(record.Key===TokenManager.RECORD_NAME)return token=this._decodeToken(record.Value)});return token})}},{key:"loadFrontendToken",value:function(){return new Promise((resolve,reject)=>{this._createOrGetDataset((error,dataset)=>{if(error)return reject(error);dataset.get(TokenManager.RECORD_NAME,(error,rawToken)=>{if(error)return reject(error);resolve(this._decodeToken(rawToken))})})})}},{key:"deleteToken",value:function(){return this.cognitoSyncClient.wipeData(),this}},{key:"_createOrGetDataset",value:function(callback){this.cognitoSyncClient.openOrCreateDataset(TokenManager.DATASET_NAME,(error,dataset)=>{if(error)return void callback(new _CreateCognitoDatasetException.CreateCognitoDatasetException(TokenManager.DATASET_NAME,error),null);callback(null,dataset)})}},{key:"_synchronizeDataset",value:function(dataset,callback){dataset.synchronize({onSuccess:(dataset,newRecords)=>{callback(null,newRecords)},onFailure:error=>{callback(error,null)},onConflict:(dataset,conflicts,cb)=>{let resolved=[];for(let i=0;i<conflicts.length;i++)resolved.push(conflicts[i].resolveWithLocalRecord());dataset.resolve(resolved,()=>cb(!0))},onDatasetDeleted:(dataset,datasetName,cb)=>cb(!0),onDatasetMerged:(dataset,datasetNames,cb)=>cb(!0)})}},{key:"_encodeToken",value:function(token){return JSON.stringify(token.toJSON())}},{key:"_decodeToken",value:function(rawToken){if(rawToken&&"string"==typeof rawToken)try{let tokenObj=JSON.parse(rawToken);tokenObj.credentials=this._decodeCredentials(tokenObj.credentials),tokenObj.credentials.params={IdentityId:tokenObj.identityId,IdentityPoolId:this._identityPoolId};for(let key in tokenObj.rolesCredentials)tokenObj.rolesCredentials.hasOwnProperty(key)&&(tokenObj.rolesCredentials[key]=this._decodeCredentials(tokenObj.rolesCredentials[key]));return tokenObj}catch(e){return null}return null}},{key:"_decodeCredentials",value:function(credentials){let expireTime=credentials.expireTime;return credentials=new _awsSdk2.default.Credentials(credentials),credentials.expireTime=expireTime,credentials=this._makeKeyEnumerable(credentials,"secretAccessKey")}},{key:"_makeKeyEnumerable",value:function(obj,key){return obj=Object.defineProperty(obj,key,{enumerable:!0,writable:!0,configurable:!0})}},{key:"_isLocalStorageAvailable",value:function(){try{return!(!window||!window.localStorage)&&(window.localStorage.setItem("key","value"),window.localStorage.removeItem("key"),!0)}catch(e){return!1}}},{key:"cognitoSyncClient",get:function(){if(!this._cognitoSyncClient){let options={};this._isLocalStorageAvailable()||(options.DataStore=_awsSdk2.default.CognitoSyncManager.StoreInMemory),this._cognitoSyncClient=new _awsSdk2.default.CognitoSyncManager(options)}return this._cognitoSyncClient}},{key:"identityId",get:function(){return this.cognitoSyncClient.getIdentityId()}}]),TokenManager}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VoterInterface=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);exports.VoterInterface=function(_Core$OOP$Interface){function VoterInterface(){return _classCallCheck(this,VoterInterface),_possibleConstructorReturn(this,(VoterInterface.__proto__||Object.getPrototypeOf(VoterInterface)).call(this,["vote"]))}return _inherits(VoterInterface,_Core$OOP$Interface),_createClass(VoterInterface,null,[{key:"ALLOW",get:function(){return"Allow"}},{key:"DENY",get:function(){return"Deny"}}]),VoterInterface}(_deepCore2.default.OOP.Interface)},function(module,exports,__webpack_require__){function _getPrimes(){if(null!==primes)return primes;var res=[];res[0]=2;for(var i=1,k=3;k<1048576;k+=2){for(var sqrt=Math.ceil(Math.sqrt(k)),j=0;j<i&&res[j]<=sqrt&&k%res[j]!=0;j++);i!==j&&res[j]<=sqrt||(res[i++]=k)}return primes=res,res}function simpleSieve(p){for(var primes=_getPrimes(),i=0;i<primes.length;i++)if(0===p.modn(primes[i]))return 0===p.cmpn(primes[i]);return!0}function fermatTest(p){var red=BN.mont(p);return 0===TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1)}function findPrime(bits,gen){if(bits<16)return new BN(2===gen||5===gen?[140,123]:[140,39]);gen=new BN(gen);for(var num,n2;;){for(num=new BN(randomBytes(Math.ceil(bits/8)));num.bitLength()>bits;)num.ishrn(1);if(num.isEven()&&num.iadd(ONE),num.testn(1)||num.iadd(TWO),gen.cmp(TWO)){if(!gen.cmp(FIVE))for(;num.mod(TEN).cmp(THREE);)num.iadd(FOUR)}else for(;num.mod(TWENTYFOUR).cmp(ELEVEN);)num.iadd(FOUR);if(n2=num.shrn(1),simpleSieve(n2)&&simpleSieve(num)&&fermatTest(n2)&&fermatTest(num)&&millerRabin.test(n2)&&millerRabin.test(num))return num}}var randomBytes=__webpack_require__(58);module.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var BN=__webpack_require__(6),TWENTYFOUR=new BN(24),MillerRabin=__webpack_require__(203),millerRabin=new MillerRabin,ONE=new BN(1),TWO=new BN(2),FIVE=new BN(5),TEN=(new BN(16),new BN(8),new BN(10)),THREE=new BN(3),ELEVEN=(new BN(7),new BN(11)),FOUR=new BN(4),primes=(new BN(12),null)},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},function(module,exports,__webpack_require__){var Any=__webpack_require__(13),Errors=__webpack_require__(15),Hoek=__webpack_require__(9),internals={};internals.Boolean=function(){Any.call(this),this._type="boolean"},Hoek.inherits(internals.Boolean,Any),internals.Boolean.prototype._base=function(value,state,options){var result={value:value};if("string"==typeof value&&options.convert){var lower=value.toLowerCase();result.value="true"===lower||"yes"===lower||"on"===lower||"false"!==lower&&"no"!==lower&&"off"!==lower&&value}return result.errors="boolean"==typeof result.value?null:Errors.create("boolean.base",null,state,options),result},module.exports=new internals.Boolean},function(module,exports,__webpack_require__){var Any=__webpack_require__(13),Errors=__webpack_require__(15),Hoek=__webpack_require__(9),internals={};internals.Number=function(){Any.call(this),this._type="number",this._invalids.add(1/0),this._invalids.add(-1/0)},Hoek.inherits(internals.Number,Any),internals.Number.prototype._base=function(value,state,options){var result={errors:null,value:value};if("string"==typeof value&&options.convert){var number=parseFloat(value);result.value=isNaN(number)||!isFinite(value)?NaN:number}var isNumber="number"==typeof result.value&&!isNaN(result.value);if(options.convert&&"precision"in this._flags&&isNumber){var precision=Math.pow(10,this._flags.precision);result.value=Math.round(result.value*precision)/precision}return result.errors=isNumber?null:Errors.create("number.base",null,state,options),result},internals.Number.prototype.min=function(limit){return Hoek.assert(Hoek.isInteger(limit),"limit must be an integer"),this._test("min",limit,function(value,state,options){return value>=limit?null:Errors.create("number.min",{limit:limit},state,options)})},internals.Number.prototype.max=function(limit){return Hoek.assert(Hoek.isInteger(limit),"limit must be an integer"),this._test("max",limit,function(value,state,options){return value<=limit?null:Errors.create("number.max",{limit:limit},state,options)})},internals.Number.prototype.greater=function(limit){return Hoek.assert(Hoek.isInteger(limit),"limit must be an integer"),this._test("greater",limit,function(value,state,options){return value>limit?null:Errors.create("number.greater",{limit:limit},state,options)})},internals.Number.prototype.less=function(limit){return Hoek.assert(Hoek.isInteger(limit),"limit must be an integer"),this._test("less",limit,function(value,state,options){return value<limit?null:Errors.create("number.less",{limit:limit},state,options)})},internals.Number.prototype.integer=function(){return this._test("integer",void 0,function(value,state,options){return Hoek.isInteger(value)?null:Errors.create("number.integer",null,state,options)})},internals.Number.prototype.negative=function(){return this._test("negative",void 0,function(value,state,options){return value<0?null:Errors.create("number.negative",null,state,options)})},internals.Number.prototype.positive=function(){return this._test("positive",void 0,function(value,state,options){return value>0?null:Errors.create("number.positive",null,state,options)})},internals.precisionRx=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,internals.Number.prototype.precision=function(limit){Hoek.assert(Hoek.isInteger(limit),"limit must be an integer"),Hoek.assert(!("precision"in this._flags),"precision already set");var obj=this._test("precision",limit,function(value,state,options){var places=value.toString().match(internals.precisionRx);return Math.max((places[1]?places[1].length:0)-(places[2]?parseInt(places[2],10):0),0)<=limit?null:Errors.create("number.precision",{limit:limit},state,options)});return obj._flags.precision=limit,obj},module.exports=new internals.Number},function(module,exports,__webpack_require__){var Hoek=__webpack_require__(9),Topo=__webpack_require__(642),Any=__webpack_require__(13),Cast=__webpack_require__(51),Errors=__webpack_require__(15),internals={};internals.Object=function(){Any.call(this),this._type="object",this._inner.children=null,this._inner.renames=[],this._inner.dependencies=[],this._inner.patterns=[]},Hoek.inherits(internals.Object,Any),internals.Object.prototype._base=function(value,state,options){var target=value,errors=[],finish=function(){return{value:target,errors:errors.length?errors:null}};if("string"==typeof value&&options.convert)try{value=JSON.parse(value)}catch(err){}if(!value||"object"!=typeof value||Array.isArray(value))return errors.push(Errors.create("object.base",null,state,options)),finish();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return target=value,finish();if(target===value){target=Object.create(Object.getPrototypeOf(value));for(var valueKeys=Object.keys(value),t=0,tl=valueKeys.length;t<tl;++t)target[valueKeys[t]]=value[valueKeys[t]]}else target=value;for(var renamed={},r=0,rl=this._inner.renames.length;r<rl;++r){var item=this._inner.renames[r];if(void 0!==target[item.from]){if(!item.options.multiple&&renamed[item.to]&&(errors.push(Errors.create("object.rename.multiple",{from:item.from,to:item.to},state,options)),options.abortEarly))return finish();if(target.hasOwnProperty(item.to)&&!item.options.override&&!renamed[item.to]&&(errors.push(Errors.create("object.rename.override",{from:item.from,to:item.to},state,options)),options.abortEarly))return finish();target[item.to]=target[item.from],renamed[item.to]=!0,item.options.alias||delete target[item.from]}}for(var d=0,dl=this._inner.dependencies.length;d<dl;++d){var dep=this._inner.dependencies[d],err=internals[dep.type](null!==dep.key&&value[dep.key],dep.peers,target,{key:dep.key,path:(state.path?state.path+".":"")+dep.key},options);if(err&&(errors.push(err),options.abortEarly))return finish()}if(!this._inner.children&&!this._inner.patterns.length)return finish();var key,unprocessed=Hoek.mapToObject(Object.keys(target));if(this._inner.children)for(var i=0,il=this._inner.children.length;i<il;++i){var child=this._inner.children[i],key=child.key,item=target[key];delete unprocessed[key];var localState={key:key,path:(state.path?state.path+".":"")+key,parent:target,reference:state.reference},result=child.schema._validate(item,localState,options);if(result.errors&&(errors=errors.concat(result.errors),options.abortEarly))return finish();void 0!==result.value&&(target[key]=result.value)}var unprocessedKeys=Object.keys(unprocessed);if(unprocessedKeys.length&&this._inner.patterns.length){for(i=0,il=unprocessedKeys.length;i<il;++i)for(var key=unprocessedKeys[i],p=0,pl=this._inner.patterns.length;p<pl;++p){var pattern=this._inner.patterns[p];if(pattern.regex.test(key)){delete unprocessed[key];var item=target[key],localState={key:key,path:(state.path?state.path+".":"")+key,parent:target,reference:state.reference},result=pattern.rule._validate(item,localState,options);if(result.errors&&(errors=errors.concat(result.errors),options.abortEarly))return finish();void 0!==result.value&&(target[key]=result.value)}}unprocessedKeys=Object.keys(unprocessed)}if(unprocessedKeys.length){if(options.stripUnknown||options.skipFunctions){for(var hasFunctions=!1,k=0,kl=unprocessedKeys.length;k<kl;++k)key=unprocessedKeys[k],options.stripUnknown?delete target[key]:"function"==typeof target[key]&&(delete unprocessed[key],hasFunctions=!0);if(options.stripUnknown)return finish();hasFunctions&&(unprocessedKeys=Object.keys(unprocessed))}if(unprocessedKeys.length&&(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!options.allowUnknown))for(var e=0,el=unprocessedKeys.length;e<el;++e)errors.push(Errors.create("object.allowUnknown",null,{key:unprocessedKeys[e],path:state.path},options))}return finish()},internals.Object.prototype.keys=function(schema){Hoek.assert(null===schema||void 0===schema||"object"==typeof schema,"Object schema must be a valid object"),Hoek.assert(!schema||!schema.isJoi,"Object schema cannot be a joi schema");var obj=this.clone();if(!schema)return obj._inner.children=null,obj;var children=Object.keys(schema);if(!children.length)return obj._inner.children=[],obj;var topo=new Topo;if(obj._inner.children)for(var i=0,il=obj._inner.children.length;i<il;++i){var child=obj._inner.children[i];topo.add(child,{after:child._refs,group:child.key})}for(var c=0,cl=children.length;c<cl;++c){var key=children[c],child=schema[key],cast=Cast.schema(child);topo.add({key:key,schema:cast},{after:cast._refs,group:key})}return obj._inner.children=topo.nodes,obj},internals.Object.prototype.unknown=function(allow){var obj=this.clone();return obj._flags.allowUnknown=!1!==allow,obj},internals.Object.prototype.length=function(limit){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("length",limit,function(value,state,options){return Object.keys(value).length===limit?null:Errors.create("object.length",{limit:limit},state,options)})},internals.Object.prototype.min=function(limit){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("min",limit,function(value,state,options){return Object.keys(value).length>=limit?null:Errors.create("object.min",{limit:limit},state,options)})},internals.Object.prototype.max=function(limit){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("max",limit,function(value,state,options){return Object.keys(value).length<=limit?null:Errors.create("object.max",{limit:limit},state,options)})},internals.Object.prototype.pattern=function(pattern,schema){Hoek.assert(pattern instanceof RegExp,"Invalid regular expression"),Hoek.assert(void 0!==schema,"Invalid rule"),pattern=new RegExp(pattern.source,pattern.ignoreCase?"i":void 0);var obj=this.clone();return obj._inner.patterns.push({regex:pattern,rule:Cast.schema(schema)}),obj},internals.Object.prototype.with=function(key,peers){return this._dependency("with",key,peers)},internals.Object.prototype.without=function(key,peers){return this._dependency("without",key,peers)},internals.Object.prototype.xor=function(){var peers=Hoek.flatten(Array.prototype.slice.call(arguments));return this._dependency("xor",null,peers)},internals.Object.prototype.or=function(){var peers=Hoek.flatten(Array.prototype.slice.call(arguments));return this._dependency("or",null,peers)},internals.Object.prototype.and=function(){var peers=Hoek.flatten(Array.prototype.slice.call(arguments));return this._dependency("and",null,peers)},internals.Object.prototype.nand=function(){var peers=Hoek.flatten(Array.prototype.slice.call(arguments));return this._dependency("nand",null,peers)},internals.Object.prototype.requiredKeys=function(children){return children=Hoek.flatten(Array.prototype.slice.call(arguments)),this.applyFunctionToChildren(children,"required")},internals.Object.prototype.optionalKeys=function(children){return children=Hoek.flatten(Array.prototype.slice.call(arguments)),this.applyFunctionToChildren(children,"optional")},internals.renameDefaults={alias:!1,multiple:!1,override:!1},internals.Object.prototype.rename=function(from,to,options){Hoek.assert("string"==typeof from,"Rename missing the from argument"),Hoek.assert("string"==typeof to,"Rename missing the to argument"),Hoek.assert(to!==from,"Cannot rename key to same name:",from);for(var i=0,il=this._inner.renames.length;i<il;++i)Hoek.assert(this._inner.renames[i].from!==from,"Cannot rename the same key multiple times");var obj=this.clone();return obj._inner.renames.push({from:from,to:to,options:Hoek.applyToDefaults(internals.renameDefaults,options||{})}),obj},internals.groupChildren=function(children){children.sort();for(var grouped={},c=0,lc=children.length;c<lc;c++){var child=children[c];Hoek.assert("string"==typeof child,"children must be strings");var group=child.split(".")[0];(grouped[group]=grouped[group]||[]).push(child.substring(group.length+1))}return grouped},internals.Object.prototype.applyFunctionToChildren=function(children,fn,args,root){children=[].concat(children),Hoek.assert(children.length>0,"expected at least one children");var obj,groupedChildren=internals.groupChildren(children);if(""in groupedChildren?(obj=this[fn].apply(this,args),delete groupedChildren[""]):obj=this.clone(),obj._inner.children){root=root?root+".":"";for(var i=0,il=obj._inner.children.length;i<il;++i){var child=obj._inner.children[i],group=groupedChildren[child.key];group&&(obj._inner.children[i]={key:child.key,_refs:child._refs,schema:child.schema.applyFunctionToChildren(group,fn,args,root+child.key)},delete groupedChildren[child.key])}}var remaining=Object.keys(groupedChildren);return Hoek.assert(0===remaining.length,"unknown key(s)",remaining.join(", ")),obj},internals.Object.prototype._dependency=function(type,key,peers){peers=[].concat(peers);for(var i=0,li=peers.length;i<li;i++)Hoek.assert("string"==typeof peers[i],type,"peers must be a string or array of strings");var obj=this.clone();return obj._inner.dependencies.push({type:type,key:key,peers:peers}),obj},internals.with=function(value,peers,parent,state,options){if(void 0===value)return null;for(var i=0,il=peers.length;i<il;++i){var peer=peers[i];if(!parent.hasOwnProperty(peer)||void 0===parent[peer])return Errors.create("object.with",{peer:peer},state,options)}return null},internals.without=function(value,peers,parent,state,options){if(void 0===value)return null;for(var i=0,il=peers.length;i<il;++i){var peer=peers[i];if(parent.hasOwnProperty(peer)&&void 0!==parent[peer])return Errors.create("object.without",{peer:peer},state,options)}return null},internals.xor=function(value,peers,parent,state,options){for(var present=[],i=0,il=peers.length;i<il;++i){var peer=peers[i];parent.hasOwnProperty(peer)&&void 0!==parent[peer]&&present.push(peer)}return 1===present.length?null:0===present.length?Errors.create("object.missing",{peers:peers},state,options):Errors.create("object.xor",{peers:peers},state,options)},internals.or=function(value,peers,parent,state,options){for(var i=0,il=peers.length;i<il;++i){var peer=peers[i];if(parent.hasOwnProperty(peer)&&void 0!==parent[peer])return null}return Errors.create("object.missing",{peers:peers},state,options)},internals.and=function(value,peers,parent,state,options){for(var missing=[],present=[],count=peers.length,i=0;i<count;++i){var peer=peers[i];parent.hasOwnProperty(peer)&&void 0!==parent[peer]?present.push(peer):missing.push(peer)}return missing.length===count||present.length===count?null:Errors.create("object.and",{present:present,missing:missing},state,options)},internals.nand=function(value,peers,parent,state,options){for(var present=[],i=0,il=peers.length;i<il;++i){var peer=peers[i];parent.hasOwnProperty(peer)&&void 0!==parent[peer]&&present.push(peer)}var values=Hoek.clone(peers),main=values.splice(0,1);return present.length===peers.length?Errors.create("object.nand",{main:main,peers:values},state,options):null},internals.Object.prototype.describe=function(shallow){var description=Any.prototype.describe.call(this);if(this._inner.children&&!shallow){description.children={};for(var i=0,il=this._inner.children.length;i<il;++i){var child=this._inner.children[i];description.children[child.key]=child.schema.describe()}}if(this._inner.dependencies.length&&(description.dependencies=Hoek.clone(this._inner.dependencies)),this._inner.patterns.length){description.patterns=[];for(var p=0,pl=this._inner.patterns.length;p<pl;++p){var pattern=this._inner.patterns[p];description.patterns.push({regex:pattern.regex.toString(),rule:pattern.rule.describe()})}}return description},internals.Object.prototype.assert=function(ref,schema,message){ref=Cast.ref(ref),Hoek.assert(ref.isContext||ref.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),message=message||"pass the assertion test";var cast=Cast.schema(schema);return this._test("assert",{cast:cast,ref:ref},function(value,state,options){return cast._validate(ref(value),null,options,value).errors?Errors.create("object.assert",{ref:ref.path.join("."),message:message},state,options):null})},internals.Object.prototype.type=function(constructor,name){return Hoek.assert("function"==typeof constructor,"type must be a constructor function"),name=name||constructor.name,this._test("type",name,function(value,state,options){return value instanceof constructor?null:Errors.create("object.type",{type:name},state,options)})},module.exports=new internals.Object},function(module,exports,__webpack_require__){(function(Buffer){var Net=__webpack_require__(210),Hoek=__webpack_require__(9),Isemail=__webpack_require__(482),Any=__webpack_require__(13),JoiDate=__webpack_require__(104),Errors=__webpack_require__(15),internals={};internals.String=function(){Any.call(this),this._type="string",this._invalids.add("")},Hoek.inherits(internals.String,Any),internals.String.prototype._base=function(value,state,options){return"string"==typeof value&&options.convert&&(this._flags.case&&(value="upper"===this._flags.case?value.toLocaleUpperCase():value.toLocaleLowerCase()),this._flags.trim&&(value=value.trim())),{value:value,errors:"string"==typeof value?null:Errors.create("string.base",null,state,options)}},internals.String.prototype.insensitive=function(){var obj=this.clone();return obj._flags.insensitive=!0,obj},internals.String.prototype.min=function(limit,encoding){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),Hoek.assert(!encoding||Buffer.isEncoding(encoding),"Invalid encoding:",encoding),this._test("min",limit,function(value,state,options){return(encoding?Buffer.byteLength(value,encoding):value.length)>=limit?null:Errors.create("string.min",{limit:limit},state,options)})},internals.String.prototype.max=function(limit,encoding){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),Hoek.assert(!encoding||Buffer.isEncoding(encoding),"Invalid encoding:",encoding),this._test("max",limit,function(value,state,options){return(encoding?Buffer.byteLength(value,encoding):value.length)<=limit?null:Errors.create("string.max",{limit:limit},state,options)})},internals.String.prototype.creditCard=function(){return this._test("creditCard",void 0,function(value,state,options){for(var char,i=value.length,sum=0,mul=1;i--;)char=value.charAt(i)*mul,sum+=char-9*(char>9),mul^=3;return sum%10==0&&sum>0?null:Errors.create("string.creditCard",null,state,options)})},internals.String.prototype.length=function(limit,encoding){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),Hoek.assert(!encoding||Buffer.isEncoding(encoding),"Invalid encoding:",encoding),this._test("length",limit,function(value,state,options){return(encoding?Buffer.byteLength(value,encoding):value.length)===limit?null:Errors.create("string.length",{limit:limit},state,options)})},internals.String.prototype.regex=function(pattern,name){return Hoek.assert(pattern instanceof RegExp,"pattern must be a RegExp"),pattern=new RegExp(pattern.source,pattern.ignoreCase?"i":void 0),this._test("regex",pattern,function(value,state,options){return pattern.test(value)?null:Errors.create(name?"string.regex.name":"string.regex.base",{name:name},state,options)})},internals.String.prototype.alphanum=function(){return this._test("alphanum",void 0,function(value,state,options){return/^[a-zA-Z0-9]+$/.test(value)?null:Errors.create("string.alphanum",null,state,options)})},internals.String.prototype.token=function(){return this._test("token",void 0,function(value,state,options){return/^\w+$/.test(value)?null:Errors.create("string.token",null,state,options)})},internals.String.prototype.email=function(){return this._test("email",void 0,function(value,state,options){return Isemail(value)?null:Errors.create("string.email",null,state,options)})},internals.String.prototype.isoDate=function(){return this._test("isoDate",void 0,function(value,state,options){return JoiDate._isIsoDate(value)?null:Errors.create("string.isoDate",null,state,options)})},internals.String.prototype.guid=function(){var regex=/^[A-F0-9]{8}(?:-?[A-F0-9]{4}){3}-?[A-F0-9]{12}$/i,regex2=/^\{[A-F0-9]{8}(?:-?[A-F0-9]{4}){3}-?[A-F0-9]{12}\}$/i;return this._test("guid",void 0,function(value,state,options){return regex.test(value)||regex2.test(value)?null:Errors.create("string.guid",null,state,options)})},internals.String.prototype.hostname=function(){var regex=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,function(value,state,options){return value.length<=255&&regex.test(value)||Net.isIPv6(value)?null:Errors.create("string.hostname",null,state,options)})},internals.String.prototype.lowercase=function(){var obj=this._test("lowercase",void 0,function(value,state,options){return options.convert||value===value.toLocaleLowerCase()?null:Errors.create("string.lowercase",null,state,options)});return obj._flags.case="lower",obj},internals.String.prototype.uppercase=function(options){var obj=this._test("uppercase",void 0,function(value,state,options){return options.convert||value===value.toLocaleUpperCase()?null:Errors.create("string.uppercase",null,state,options)});return obj._flags.case="upper",obj},internals.String.prototype.trim=function(){var obj=this._test("trim",void 0,function(value,state,options){return options.convert||value===value.trim()?null:Errors.create("string.trim",null,state,options)});return obj._flags.trim=!0,obj},module.exports=new internals.String}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}var ListCache=__webpack_require__(71),stackClear=__webpack_require__(568),stackDelete=__webpack_require__(569),stackGet=__webpack_require__(570),stackHas=__webpack_require__(571),stackSet=__webpack_require__(572);Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},function(module,exports,__webpack_require__){function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}var baseAssignValue=__webpack_require__(189),eq=__webpack_require__(77),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=assignValue},function(module,exports,__webpack_require__){function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}var defineProperty=__webpack_require__(195);module.exports=baseAssignValue},function(module,exports,__webpack_require__){function baseGet(object,path){path=castPath(path,object);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}var castPath=__webpack_require__(193),toKey=__webpack_require__(76);module.exports=baseGet},function(module,exports,__webpack_require__){function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}var baseIsEqualDeep=__webpack_require__(512),isObjectLike=__webpack_require__(55);module.exports=baseIsEqual},function(module,exports,__webpack_require__){function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}var isPrototype=__webpack_require__(109),nativeKeys=__webpack_require__(558),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=baseKeys},function(module,exports,__webpack_require__){function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}var isArray=__webpack_require__(16),isKey=__webpack_require__(108),stringToPath=__webpack_require__(573),toString=__webpack_require__(584);module.exports=castPath},function(module,exports,__webpack_require__){function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}var assignValue=__webpack_require__(188),baseAssignValue=__webpack_require__(189);module.exports=copyObject},function(module,exports,__webpack_require__){var getNative=__webpack_require__(25),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}var SetCache=__webpack_require__(493),arraySome=__webpack_require__(502),cacheHas=__webpack_require__(526),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=equalArrays},function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){var DataView=__webpack_require__(489),Map=__webpack_require__(105),Promise=__webpack_require__(491),Set=__webpack_require__(492),WeakMap=__webpack_require__(495),baseGetTag=__webpack_require__(53),toSource=__webpack_require__(202),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},function(module,exports,__webpack_require__){function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}var eq=__webpack_require__(77),isArrayLike=__webpack_require__(54),isIndex=__webpack_require__(107),isObject=__webpack_require__(17);module.exports=isIterateeCall},function(module,exports,__webpack_require__){function isStrictComparable(value){return value===value&&!isObject(value)}var isObject=__webpack_require__(17);module.exports=isStrictComparable},function(module,exports){function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}module.exports=matchesStrictComparable},function(module,exports){function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}var funcProto=Function.prototype,funcToString=funcProto.toString;module.exports=toSource},function(module,exports,__webpack_require__){function MillerRabin(rand){this.rand=rand||new brorand.Rand}var bn=__webpack_require__(6),brorand=__webpack_require__(144);module.exports=MillerRabin,MillerRabin.create=function(rand){return new MillerRabin(rand)},MillerRabin.prototype._rand=function(n){var len=n.bitLength(),buf=this.rand.generate(Math.ceil(len/8));buf[0]|=3;var mask=7&len;return 0!==mask&&(buf[buf.length-1]>>=7-mask),new bn(buf)},MillerRabin.prototype.test=function(n,k,cb){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),n2=n1.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red);k>0;k--){var a=this._rand(n2);cb&&cb(a);var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;i<s;i++){if(x=x.redSqr(),0===x.cmp(rone))return!1;if(0===x.cmp(rn1))break}if(i===s)return!1}}return!0},MillerRabin.prototype.getDivisor=function(n,k){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),n2=n1.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red);k>0;k--){var a=this._rand(n2),g=n.gcd(a);if(0!==g.cmpn(1))return g;var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;i<s;i++){if(x=x.redSqr(),0===x.cmp(rone))return x.fromRed().subn(1).gcd(n);if(0===x.cmp(rn1))break}if(i===s)return x=x.redSqr(),x.fromRed().subn(1).gcd(n)}}return!1}},function(module,exports,__webpack_require__){"use strict";function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"!=typeof msg){for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}if("hex"===enc){msg=msg.replace(/[^a-z0-9]+/gi,""),msg.length%2!=0&&(msg="0"+msg);for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}else for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}return res}function zero2(word){return 1===word.length?"0"+word:word}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}var utils=exports;utils.toArray=toArray,utils.zero2=zero2,utils.toHex=toHex,utils.encode=function(arr,enc){return"hex"===enc?toHex(arr):arr}},function(module,exports,__webpack_require__){!function(global,factory){factory(__webpack_require__(37))}(0,function(moment){"use strict";return moment.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})})},function(module,exports,__webpack_require__){!function(global,factory){factory(__webpack_require__(37))}(0,function(moment){"use strict";return moment.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}})})},function(module,exports,__webpack_require__){!function(global,factory){factory(__webpack_require__(37))}(0,function(moment){"use strict";return moment.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})})},function(module,exports,__webpack_require__){!function(global,factory){factory(__webpack_require__(37))}(0,function(moment){"use strict";return moment.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})})},function(module,exports,__webpack_require__){!function(global,factory){factory(__webpack_require__(37))}(0,function(moment){"use strict";return moment.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}})})},function(module,exports){exports.createServer=exports.createConnection=exports.connect=function(){},exports.isIP=exports.isIPv4=exports.isIPv6=function(){return!0}},function(module,exports,__webpack_require__){(function(process,Buffer){var createHmac=__webpack_require__(86),checkParameters=__webpack_require__(593);exports.pbkdf2=function(password,salt,iterations,keylen,digest,callback){if("function"==typeof digest&&(callback=digest,digest=void 0),checkParameters(iterations,keylen),"function"!=typeof callback)throw new Error("No callback provided to pbkdf2");setTimeout(function(){callback(null,exports.pbkdf2Sync(password,salt,iterations,keylen,digest))})};var defaultEncoding;if(process.browser)defaultEncoding="utf-8";else{var pVersionMajor=parseInt(process.version.split(".")[0].slice(1),10);defaultEncoding=pVersionMajor>=6?"utf-8":"binary"}exports.pbkdf2Sync=function(password,salt,iterations,keylen,digest){Buffer.isBuffer(password)||(password=new Buffer(password,defaultEncoding)),Buffer.isBuffer(salt)||(salt=new Buffer(salt,defaultEncoding)),checkParameters(iterations,keylen),digest=digest||"sha1";var hLen,l=1,DK=new Buffer(keylen),block1=new Buffer(salt.length+4);salt.copy(block1,0,0,salt.length);for(var r,T,i=1;i<=l;i++){block1.writeUInt32BE(i,salt.length);var U=createHmac(digest,password).update(block1).digest();hLen||(hLen=U.length,T=new Buffer(hLen),l=Math.ceil(keylen/hLen),r=keylen-(l-1)*hLen),U.copy(T,0,0,hLen);for(var j=1;j<iterations;j++){U=createHmac(digest,password).update(U).digest();for(var k=0;k<hLen;k++)T[k]^=U[k]}var destPos=(i-1)*hLen,len=i===l?r:hLen;T.copy(DK,destPos,0,len)}return DK}}).call(exports,__webpack_require__(7),__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function i2ops(c){var out=new Buffer(4);return out.writeUInt32BE(c,0),out}var createHash=__webpack_require__(34);module.exports=function(seed,len){for(var c,t=new Buffer(""),i=0;t.length<len;)c=i2ops(i++),t=Buffer.concat([t,createHash("sha1").update(seed).update(c).digest()]);return t.slice(0,len)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function withPublic(paddedMsg,key){return new Buffer(paddedMsg.toRed(bn.mont(key.modulus)).redPow(new bn(key.publicExponent)).fromRed().toArray())}var bn=__webpack_require__(6);module.exports=withPublic}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){module.exports=function(a,b){for(var len=a.length,i=-1;++i<len;)a[i]^=b[i];return a}},function(module,exports,__webpack_require__){var Stringify=__webpack_require__(599),Parse=__webpack_require__(598);module.exports={stringify:Stringify,parse:Parse}},function(module,exports){var internals={};internals.hexTable=new Array(256);for(var h=0;h<256;++h)internals.hexTable[h]="%"+((h<16?"0":"")+h.toString(16)).toUpperCase();exports.arrayToObject=function(source,options){for(var obj=options.plainObjects?Object.create(null):{},i=0,il=source.length;i<il;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj},exports.merge=function(target,source,options){if(!source)return target;if("object"!=typeof source)return Array.isArray(target)?target.push(source):"object"==typeof target?target[source]=!0:target=[target,source],target;if("object"!=typeof target)return target=[target].concat(source);Array.isArray(target)&&!Array.isArray(source)&&(target=exports.arrayToObject(target,options));for(var keys=Object.keys(source),k=0,kl=keys.length;k<kl;++k){var key=keys[k],value=source[key];Object.prototype.hasOwnProperty.call(target,key)?target[key]=exports.merge(target[key],value,options):target[key]=value}return target},exports.decode=function(str){try{return decodeURIComponent(str.replace(/\+/g," "))}catch(e){return str}},exports.encode=function(str){if(0===str.length)return str;"string"!=typeof str&&(str=""+str);for(var out="",i=0,il=str.length;i<il;++i){var c=str.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=str[i]:c<128?out+=internals.hexTable[c]:c<2048?out+=internals.hexTable[192|c>>6]+internals.hexTable[128|63&c]:c<55296||c>=57344?out+=internals.hexTable[224|c>>12]+internals.hexTable[128|c>>6&63]+internals.hexTable[128|63&c]:(++i,c=65536+((1023&c)<<10|1023&str.charCodeAt(i)),out+=internals.hexTable[240|c>>18]+internals.hexTable[128|c>>12&63]+internals.hexTable[128|c>>6&63]+internals.hexTable[128|63&c])}return out},exports.compact=function(obj,refs){if("object"!=typeof obj||null===obj)return obj;refs=refs||[];var lookup=refs.indexOf(obj);if(-1!==lookup)return refs[lookup];if(refs.push(obj),Array.isArray(obj)){for(var compacted=[],i=0,il=obj.length;i<il;++i)void 0!==obj[i]&&compacted.push(obj[i]);return compacted}var keys=Object.keys(obj);for(i=0,il=keys.length;i<il;++i){var key=keys[i];obj[key]=exports.compact(obj[key],refs)}return obj},exports.isRegExp=function(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},exports.isBuffer=function(obj){return null!==obj&&void 0!==obj&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))}},function(module,exports,__webpack_require__){"use strict";(function(global){var RavenConstructor=__webpack_require__(605),_window="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},_Raven=_window.Raven,Raven=new RavenConstructor;Raven.noConflict=function(){return _window.Raven=_Raven,Raven},Raven.afterLoad(),module.exports=Raven}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){"use strict";function isObject(what){return"object"==typeof what&&null!==what}function isError(value){switch({}.toString.call(value)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return value instanceof Error}}module.exports={isObject:isObject,isError:isError}},function(module,exports,__webpack_require__){"use strict";(function(process){function prependListener(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}function ReadableState(options,stream){Duplex=Duplex||__webpack_require__(28),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(116).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||__webpack_require__(28),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&"function"==typeof options.read&&(this._read=options.read),Stream.call(this)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(null===chunk)state.reading=!1,onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var _e=new Error("stream.unshift() after end event");stream.emit("error",_e)}else{var skipAdd;!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk),skipAdd=!state.objectMode&&0===chunk.length),addToFront||(state.reading=!1),skipAdd||(state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream))),maybeReadMore(stream,state)}else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!==n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function chunkInvalid(state,chunk){var er=null;return Buffer.isBuffer(chunk)||"string"==typeof chunk||null===chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){if(0===state.length)return null;var ret;return state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=fromListPartial(n,state.buffer,state.decoder),ret}function fromListPartial(n,list,hasStrings){var ret;return n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?copyFromBufferString(n,list):copyFromBuffer(n,list),ret}function copyFromBufferString(n,list){var p=list.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}function copyFromBuffer(n,list){var ret=bufferShim.allocUnsafe(n),p=list.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var Duplex,processNextTick=__webpack_require__(118),isArray=__webpack_require__(182);Readable.ReadableState=ReadableState;var EElistenerCount=(__webpack_require__(50).EventEmitter,function(emitter,type){return emitter.listeners(type).length}),Stream=__webpack_require__(221),Buffer=__webpack_require__(0).Buffer,bufferShim=__webpack_require__(85),util=__webpack_require__(45);util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(665),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,BufferList=__webpack_require__(610);util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return state.objectMode||"string"!=typeof chunk||(encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=bufferShim.from(chunk,encoding),encoding=""),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,this._readableState,chunk,"",!0)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(116).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),state.ended||state.reading?(doRead=!1,debug("reading or ended",doRead)):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state)));var ret;return ret=n>0?fromList(n,state):null,null===ret?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1,increasedAwaitDrain=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this);return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev)!1!==this._readableState.flowing&&this.resume();else if("readable"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){self.push(chunk)||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],self.emit.bind(self,kProxyEvents[n]));return self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er,data){done(stream,er,data)}):done(stream)})}function done(stream,er,data){if(er)return stream.emit("error",er);null!==data&&void 0!==data&&stream.push(data);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=__webpack_require__(28),util=__webpack_require__(45);util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(50).EventEmitter},function(module,exports,__webpack_require__){(function(Buffer){function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function gamma1(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}var inherits=__webpack_require__(2),Hash=__webpack_require__(38),K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<64;++i)W[i]=gamma1(W[i-2])+W[i-7]+gamma0(W[i-15])+W[i-16]|0;for(var j=0;j<64;++j){var T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0,T2=sigma0(a)+maj(a,b,c)|0;h=g,g=f,f=e,e=d+T1|0,d=c,c=b,b=a,a=T1+T2|0}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0},Sha256.prototype._hash=function(){var H=new Buffer(32);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H.writeInt32BE(this._h,28),H},module.exports=Sha256}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function Gamma0(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}function Gamma0l(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}function Gamma1(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}function Gamma1l(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}function getCarry(a,b){return a>>>0<b>>>0?1:0}var inherits=__webpack_require__(2),Hash=__webpack_require__(38),K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(M){for(var W=this._w,ah=0|this._ah,bh=0|this._bh,ch=0|this._ch,dh=0|this._dh,eh=0|this._eh,fh=0|this._fh,gh=0|this._gh,hh=0|this._hh,al=0|this._al,bl=0|this._bl,cl=0|this._cl,dl=0|this._dl,el=0|this._el,fl=0|this._fl,gl=0|this._gl,hl=0|this._hl,i=0;i<32;i+=2)W[i]=M.readInt32BE(4*i),W[i+1]=M.readInt32BE(4*i+4);for(;i<160;i+=2){var xh=W[i-30],xl=W[i-30+1],gamma0=Gamma0(xh,xl),gamma0l=Gamma0l(xl,xh);xh=W[i-4],xl=W[i-4+1];var gamma1=Gamma1(xh,xl),gamma1l=Gamma1l(xl,xh),Wi7h=W[i-14],Wi7l=W[i-14+1],Wi16h=W[i-32],Wi16l=W[i-32+1],Wil=gamma0l+Wi7l|0,Wih=gamma0+Wi7h+getCarry(Wil,gamma0l)|0;Wil=Wil+gamma1l|0,Wih=Wih+gamma1+getCarry(Wil,gamma1l)|0,Wil=Wil+Wi16l|0,Wih=Wih+Wi16h+getCarry(Wil,Wi16l)|0,W[i]=Wih,W[i+1]=Wil}for(var j=0;j<160;j+=2){Wih=W[j],Wil=W[j+1];var majh=maj(ah,bh,ch),majl=maj(al,bl,cl),sigma0h=sigma0(ah,al),sigma0l=sigma0(al,ah),sigma1h=sigma1(eh,el),sigma1l=sigma1(el,eh),Kih=K[j],Kil=K[j+1],chh=Ch(eh,fh,gh),chl=Ch(el,fl,gl),t1l=hl+sigma1l|0,t1h=hh+sigma1h+getCarry(t1l,hl)|0;t1l=t1l+chl|0,t1h=t1h+chh+getCarry(t1l,chl)|0,t1l=t1l+Kil|0,t1h=t1h+Kih+getCarry(t1l,Kil)|0,t1l=t1l+Wil|0,t1h=t1h+Wih+getCarry(t1l,Wil)|0;var t2l=sigma0l+majl|0,t2h=sigma0h+majh+getCarry(t2l,sigma0l)|0;hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,el=dl+t1l|0,eh=dh+t1h+getCarry(el,dl)|0,dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,al=t1l+t2l|0,ah=t1h+t2h+getCarry(al,t1l)|0}this._al=this._al+al|0,this._bl=this._bl+bl|0,this._cl=this._cl+cl|0,this._dl=this._dl+dl|0,this._el=this._el+el|0,this._fl=this._fl+fl|0,this._gl=this._gl+gl|0,this._hl=this._hl+hl|0,this._ah=this._ah+ah+getCarry(this._al,al)|0,this._bh=this._bh+bh+getCarry(this._bl,bl)|0,this._ch=this._ch+ch+getCarry(this._cl,cl)|0,this._dh=this._dh+dh+getCarry(this._dl,dl)|0,this._eh=this._eh+eh+getCarry(this._el,el)|0,this._fh=this._fh+fh+getCarry(this._fl,fl)|0,this._gh=this._gh+gh+getCarry(this._gl,gl)|0,this._hh=this._hh+hh+getCarry(this._hl,hl)|0},Sha512.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(64);return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),H},module.exports=Sha512}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function noop(){}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj)pushEncodedKeyValuePair(pairs,key,obj[key]);return pairs.join("&")}function pushEncodedKeyValuePair(pairs,key,val){if(null!=val)if(Array.isArray(val))val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v)});else if(isObject(val))for(var subkey in val)pushEncodedKeyValuePair(pairs,key+"["+subkey+"]",val[subkey]);else pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(val));else null===val&&pairs.push(encodeURIComponent(key))}function parseString(str){for(var pair,pos,obj={},pairs=str.split("&"),i=0,len=pairs.length;i<len;++i)pair=pairs[i],pos=pair.indexOf("="),-1==pos?obj[decodeURIComponent(pair)]="":obj[decodeURIComponent(pair.slice(0,pos))]=decodeURIComponent(pair.slice(pos+1));return obj}function parseHeader(str){var index,line,field,val,lines=str.split(/\r?\n/),fields={};lines.pop();for(var i=0,len=lines.length;i<len;++i)line=lines[i],index=line.indexOf(":"),field=line.slice(0,index).toLowerCase(),val=trim(line.slice(index+1)),fields[field]=val;return fields}function isJSON(mime){return/[\/+]json\b/.test(mime)}function Response(req){this.req=req,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var status=this.xhr.status;1223===status&&(status=204),this._setStatusProperties(status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&req._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function Request(method,url){var self=this;this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on("end",function(){var err=null,res=null;try{res=new Response(self)}catch(e){return err=new Error("Parser is unable to parse the response"),err.parse=!0,err.original=e,self.xhr?(err.rawResponse=void 0===self.xhr.responseType?self.xhr.responseText:self.xhr.response,err.status=self.xhr.status?self.xhr.status:null,err.statusCode=err.status):(err.rawResponse=null,err.status=null),self.callback(err)}self.emit("response",res);var new_err;try{self._isResponseOK(res)||(new_err=new Error(res.statusText||"Unsuccessful HTTP response"),new_err.original=err,new_err.response=res,new_err.status=res.status)}catch(e){new_err=e}new_err?self.callback(new_err,res):self.callback(null,res)})}function del(url,data,fn){var req=request("DELETE",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req}var root;"undefined"!=typeof window?root=window:"undefined"!=typeof self?root=self:(console.warn("Using browser-only version of superagent in non-browser environment"),root=this);var Emitter=__webpack_require__(317),RequestBase=__webpack_require__(638),isObject=__webpack_require__(123),isFunction=__webpack_require__(637),ResponseBase=__webpack_require__(639),shouldRetry=__webpack_require__(640),request=exports=module.exports=function(method,url){return"function"==typeof url?new exports.Request("GET",method).end(url):1==arguments.length?new exports.Request("GET",method):new exports.Request(method,url)};exports.Request=Request,request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only verison of superagent could not find XHR")};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},ResponseBase(Response.prototype),Response.prototype._parseBody=function(str){var parse=request.parse[this.type];return this.req._parser?this.req._parser(this,str):(!parse&&isJSON(this.type)&&(parse=request.parse["application/json"]),parse&&str&&(str.length||str instanceof Object)?parse(str):null)},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,msg="cannot "+method+" "+url+" ("+this.status+")",err=new Error(msg);return err.status=this.status,err.method=method,err.url=url,err},request.Response=Response,Emitter(Request.prototype),RequestBase(Request.prototype),Request.prototype.type=function(type){return this.set("Content-Type",request.types[type]||type),this},Request.prototype.accept=function(type){return this.set("Accept",request.types[type]||type),this},Request.prototype.auth=function(user,pass,options){switch("object"==typeof pass&&null!==pass&&(options=pass),options||(options={type:"function"==typeof btoa?"basic":"auto"}),options.type){case"basic":this.set("Authorization","Basic "+btoa(user+":"+pass));break;case"auto":this.username=user,this.password=pass;break;case"bearer":this.set("Authorization","Bearer "+user)}return this},Request.prototype.query=function(val){return"string"!=typeof val&&(val=serialize(val)),val&&this._query.push(val),this},Request.prototype.attach=function(field,file,options){if(file){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(field,file,options||file.name)}return this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new root.FormData),this._formData},Request.prototype.callback=function(err,res){if(this._maxRetries&&this._retries++<this._maxRetries&&shouldRetry(err,res))return this._retry();var fn=this._callback;this.clearTimeout(),err&&(this._maxRetries&&(err.retries=this._retries-1),this.emit("error",err)),fn(err,res)},Request.prototype.crossDomainError=function(){var err=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");err.crossDomain=!0,err.status=this.status,err.method=this.method,err.url=this.url,this.callback(err)},Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},Request.prototype.pipe=Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},Request.prototype._appendQueryString=function(){var query=this._query.join("&");if(query&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+query),this._sort){var index=this.url.indexOf("?");if(index>=0){var queryArr=this.url.substring(index+1).split("&");isFunction(this._sort)?queryArr.sort(this._sort):queryArr.sort(),this.url=this.url.substring(0,index)+"?"+queryArr.join("&")}}},Request.prototype._isHost=function(obj){return obj&&"object"==typeof obj&&!Array.isArray(obj)&&"[object Object]"!==Object.prototype.toString.call(obj)},Request.prototype.end=function(fn){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=fn||noop,this._appendQueryString(),this._end()},Request.prototype._end=function(){var self=this,xhr=this.xhr=request.getXHR(),data=this._formData||this._data;this._setTimeouts(),xhr.onreadystatechange=function(){var readyState=xhr.readyState;if(readyState>=2&&self._responseTimeoutTimer&&clearTimeout(self._responseTimeoutTimer),4==readyState){var status;try{status=xhr.status}catch(e){status=0}if(!status){if(self.timedout||self._aborted)return;return self.crossDomainError()}self.emit("end")}};var handleProgress=function(direction,e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction=direction,self.emit("progress",e)};if(this.hasListeners("progress"))try{xhr.onprogress=handleProgress.bind(null,"download"),xhr.upload&&(xhr.upload.onprogress=handleProgress.bind(null,"upload"))}catch(e){}try{this.username&&this.password?xhr.open(this.method,this.url,!0,this.username,this.password):xhr.open(this.method,this.url,!0)}catch(err){return this.callback(err)}if(this._withCredentials&&(xhr.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!this._isHost(data)){var contentType=this._header["content-type"],serialize=this._serializer||request.serialize[contentType?contentType.split(";")[0]:""];!serialize&&isJSON(contentType)&&(serialize=request.serialize["application/json"]),serialize&&(data=serialize(data))}for(var field in this.header)null!=this.header[field]&&this.header.hasOwnProperty(field)&&xhr.setRequestHeader(field,this.header[field]);return this._responseType&&(xhr.responseType=this._responseType),this.emit("request",this),xhr.send(void 0!==data?data:null),this},request.get=function(url,data,fn){var req=request("GET",url);return"function"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.head=function(url,data,fn){var req=request("HEAD",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.options=function(url,data,fn){var req=request("OPTIONS",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.del=del,request.delete=del,request.patch=function(url,data,fn){var req=request("PATCH",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.post=function(url,data,fn){var req=request("POST",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.put=function(url,data,fn){var req=request("PUT",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req}},function(module,exports,__webpack_require__){function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}var apply=Function.prototype.apply;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},__webpack_require__(619),exports.setImmediate=setImmediate,exports.clearImmediate=clearImmediate},function(module,exports){function bytesToUuid(buf,offset){var i=offset||0,bth=byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=bytesToUuid},function(module,exports,__webpack_require__){(function(global){var rng,crypto=global.crypto||global.msCrypto;if(crypto&&crypto.getRandomValues){var rnds8=new Uint8Array(16);rng=function(){return crypto.getRandomValues(rnds8),rnds8}}if(!rng){var rnds=new Array(16);rng=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}module.exports=rng}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){(function(){var XMLNode,create,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;create=__webpack_require__(11),XMLNode=__webpack_require__(40),module.exports=function(superClass){function XMLCData(parent,text){if(XMLCData.__super__.constructor.call(this,parent),null==text)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(text)}return extend(XMLCData,superClass),XMLCData.prototype.clone=function(){return create(XMLCData.prototype,this)},XMLCData.prototype.toString=function(options,level){var indent,newline,offset,pretty,r,ref,ref1,ref2,space;return pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+="<![CDATA["+this.text+"]]>",pretty&&(r+=newline),r},XMLCData}(XMLNode)}).call(this)},function(module,exports,__webpack_require__){(function(){var XMLNode,create,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;create=__webpack_require__(11),XMLNode=__webpack_require__(40),module.exports=function(superClass){function XMLComment(parent,text){if(XMLComment.__super__.constructor.call(this,parent),null==text)throw new Error("Missing comment text");this.text=this.stringify.comment(text)}return extend(XMLComment,superClass),XMLComment.prototype.clone=function(){return create(XMLComment.prototype,this)},XMLComment.prototype.toString=function(options,level){var indent,newline,offset,pretty,r,ref,ref1,ref2,space;return pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+="\x3c!-- "+this.text+" --\x3e",pretty&&(r+=newline),r},XMLComment}(XMLNode)}).call(this)},function(module,exports,__webpack_require__){(function(){var XMLNode,isObject,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;__webpack_require__(11),isObject=__webpack_require__(17),XMLNode=__webpack_require__(40),module.exports=function(superClass){function XMLDeclaration(parent,version,encoding,standalone){var ref;XMLDeclaration.__super__.constructor.call(this,parent),isObject(version)&&(ref=version,version=ref.version,encoding=ref.encoding,standalone=ref.standalone),version||(version="1.0"),this.version=this.stringify.xmlVersion(version),null!=encoding&&(this.encoding=this.stringify.xmlEncoding(encoding)),null!=standalone&&(this.standalone=this.stringify.xmlStandalone(standalone))}return extend(XMLDeclaration,superClass),XMLDeclaration.prototype.toString=function(options,level){var indent,newline,offset,pretty,r,ref,ref1,ref2,space;return pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+="<?xml",r+=' version="'+this.version+'"',null!=this.encoding&&(r+=' encoding="'+this.encoding+'"'),null!=this.standalone&&(r+=' standalone="'+this.standalone+'"'),r+="?>",pretty&&(r+=newline),r},XMLDeclaration}(XMLNode)}).call(this)},function(module,exports,__webpack_require__){(function(){var XMLCData,XMLComment,XMLDTDAttList,XMLDTDElement,XMLDTDEntity,XMLDTDNotation,XMLProcessingInstruction,isObject;__webpack_require__(11),isObject=__webpack_require__(17),XMLCData=__webpack_require__(228),XMLComment=__webpack_require__(229),XMLDTDAttList=__webpack_require__(653),XMLDTDEntity=__webpack_require__(655),XMLDTDElement=__webpack_require__(654),XMLDTDNotation=__webpack_require__(656),XMLProcessingInstruction=__webpack_require__(233),module.exports=function(){function XMLDocType(parent,pubID,sysID){var ref,ref1;this.documentObject=parent,this.stringify=this.documentObject.stringify,this.children=[],isObject(pubID)&&(ref=pubID,pubID=ref.pubID,sysID=ref.sysID),null==sysID&&(ref1=[pubID,sysID],sysID=ref1[0],pubID=ref1[1]),null!=pubID&&(this.pubID=this.stringify.dtdPubID(pubID)),null!=sysID&&(this.sysID=this.stringify.dtdSysID(sysID))}return XMLDocType.prototype.element=function(name,value){var child;return child=new XMLDTDElement(this,name,value),this.children.push(child),this},XMLDocType.prototype.attList=function(elementName,attributeName,attributeType,defaultValueType,defaultValue){var child;return child=new XMLDTDAttList(this,elementName,attributeName,attributeType,defaultValueType,defaultValue),this.children.push(child),this},XMLDocType.prototype.entity=function(name,value){var child;return child=new XMLDTDEntity(this,!1,name,value),this.children.push(child),this},XMLDocType.prototype.pEntity=function(name,value){var child;return child=new XMLDTDEntity(this,!0,name,value),this.children.push(child),this},XMLDocType.prototype.notation=function(name,value){var child;return child=new XMLDTDNotation(this,name,value),this.children.push(child),this},XMLDocType.prototype.cdata=function(value){var child;return child=new XMLCData(this,value),this.children.push(child),this},XMLDocType.prototype.comment=function(value){var child;return child=new XMLComment(this,value),this.children.push(child),this},XMLDocType.prototype.instruction=function(target,value){var child;return child=new XMLProcessingInstruction(this,target,value),this.children.push(child),this},XMLDocType.prototype.root=function(){return this.documentObject.root()},XMLDocType.prototype.document=function(){return this.documentObject},XMLDocType.prototype.toString=function(options,level){var child,i,indent,len,newline,offset,pretty,r,ref,ref1,ref2,ref3,space;if(pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+="<!DOCTYPE "+this.root().name,this.pubID&&this.sysID?r+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(r+=' SYSTEM "'+this.sysID+'"'),this.children.length>0){for(r+=" [",pretty&&(r+=newline),ref3=this.children,i=0,len=ref3.length;i<len;i++)child=ref3[i],r+=child.toString(options,level+1);r+="]"}return r+=">",pretty&&(r+=newline),r},XMLDocType.prototype.ele=function(name,value){return this.element(name,value)},XMLDocType.prototype.att=function(elementName,attributeName,attributeType,defaultValueType,defaultValue){return this.attList(elementName,attributeName,attributeType,defaultValueType,defaultValue)},XMLDocType.prototype.ent=function(name,value){return this.entity(name,value)},XMLDocType.prototype.pent=function(name,value){return this.pEntity(name,value)},XMLDocType.prototype.not=function(name,value){return this.notation(name,value)},XMLDocType.prototype.dat=function(value){return this.cdata(value)},XMLDocType.prototype.com=function(value){return this.comment(value)},XMLDocType.prototype.ins=function(target,value){return this.instruction(target,value)},XMLDocType.prototype.up=function(){return this.root()},XMLDocType.prototype.doc=function(){return this.document()},XMLDocType}()}).call(this)},function(module,exports,__webpack_require__){(function(){var XMLAttribute,XMLNode,XMLProcessingInstruction,create,every,isFunction,isObject,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;create=__webpack_require__(11),isObject=__webpack_require__(17),isFunction=__webpack_require__(78),every=__webpack_require__(576),XMLNode=__webpack_require__(40),XMLAttribute=__webpack_require__(651),XMLProcessingInstruction=__webpack_require__(233),module.exports=function(superClass){function XMLElement(parent,name,attributes){if(XMLElement.__super__.constructor.call(this,parent),null==name)throw new Error("Missing element name");this.name=this.stringify.eleName(name),this.children=[],this.instructions=[],this.attributes={},null!=attributes&&this.attribute(attributes)}return extend(XMLElement,superClass),XMLElement.prototype.clone=function(){var att,attName,clonedSelf,i,len,pi,ref,ref1;clonedSelf=create(XMLElement.prototype,this),clonedSelf.isRoot&&(clonedSelf.documentObject=null),clonedSelf.attributes={},ref=this.attributes;for(attName in ref)hasProp.call(ref,attName)&&(att=ref[attName],clonedSelf.attributes[attName]=att.clone());for(clonedSelf.instructions=[],ref1=this.instructions,i=0,len=ref1.length;i<len;i++)pi=ref1[i],clonedSelf.instructions.push(pi.clone());return clonedSelf.children=[],this.children.forEach(function(child){var clonedChild;return clonedChild=child.clone(),clonedChild.parent=clonedSelf,clonedSelf.children.push(clonedChild)}),clonedSelf},XMLElement.prototype.attribute=function(name,value){var attName,attValue;if(null!=name&&(name=name.valueOf()),isObject(name))for(attName in name)hasProp.call(name,attName)&&(attValue=name[attName],this.attribute(attName,attValue));else isFunction(value)&&(value=value.apply()),this.options.skipNullAttributes&&null==value||(this.attributes[name]=new XMLAttribute(this,name,value));return this},XMLElement.prototype.removeAttribute=function(name){var attName,i,len;if(null==name)throw new Error("Missing attribute name");if(name=name.valueOf(),Array.isArray(name))for(i=0,len=name.length;i<len;i++)attName=name[i],delete this.attributes[attName];else delete this.attributes[name];return this},XMLElement.prototype.instruction=function(target,value){var i,insTarget,insValue,instruction,len;if(null!=target&&(target=target.valueOf()),null!=value&&(value=value.valueOf()),Array.isArray(target))for(i=0,len=target.length;i<len;i++)insTarget=target[i],this.instruction(insTarget);else if(isObject(target))for(insTarget in target)hasProp.call(target,insTarget)&&(insValue=target[insTarget],this.instruction(insTarget,insValue));else isFunction(value)&&(value=value.apply()),instruction=new XMLProcessingInstruction(this,target,value),this.instructions.push(instruction);return this},XMLElement.prototype.toString=function(options,level){var att,child,i,indent,instruction,j,len,len1,name,newline,offset,pretty,r,ref,ref1,ref2,ref3,ref4,ref5,space;for(pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",ref3=this.instructions,i=0,len=ref3.length;i<len;i++)instruction=ref3[i],r+=instruction.toString(options,level);pretty&&(r+=space),r+="<"+this.name,ref4=this.attributes;for(name in ref4)hasProp.call(ref4,name)&&(att=ref4[name],r+=att.toString(options));if(0===this.children.length||every(this.children,function(e){return""===e.value}))r+="/>",pretty&&(r+=newline);else if(pretty&&1===this.children.length&&null!=this.children[0].value)r+=">",r+=this.children[0].value,r+="</"+this.name+">",r+=newline;else{for(r+=">",pretty&&(r+=newline),ref5=this.children,j=0,len1=ref5.length;j<len1;j++)child=ref5[j],r+=child.toString(options,level+1);pretty&&(r+=space),r+="</"+this.name+">",pretty&&(r+=newline)}return r},XMLElement.prototype.att=function(name,value){return this.attribute(name,value)},XMLElement.prototype.ins=function(target,value){return this.instruction(target,value)},XMLElement.prototype.a=function(name,value){return this.attribute(name,value)},XMLElement.prototype.i=function(target,value){return this.instruction(target,value)},XMLElement}(XMLNode)}).call(this)},function(module,exports,__webpack_require__){(function(){var create;create=__webpack_require__(11),module.exports=function(){function XMLProcessingInstruction(parent,target,value){if(this.stringify=parent.stringify,null==target)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(target),value&&(this.value=this.stringify.insValue(value))}return XMLProcessingInstruction.prototype.clone=function(){return create(XMLProcessingInstruction.prototype,this)},XMLProcessingInstruction.prototype.toString=function(options,level){var indent,newline,offset,pretty,r,ref,ref1,ref2,space;return pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+="<?",r+=this.target,this.value&&(r+=" "+this.value),r+="?>",pretty&&(r+=newline),r},XMLProcessingInstruction}()}).call(this)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _Framework=__webpack_require__(238),_deepAsset=__webpack_require__(326),_deepAsset2=_interopRequireDefault(_deepAsset),_deepCache=__webpack_require__(338),_deepCache2=_interopRequireDefault(_deepCache),_deepSecurity=__webpack_require__(436),_deepSecurity2=_interopRequireDefault(_deepSecurity),_deepResource=__webpack_require__(413),_deepResource2=_interopRequireDefault(_deepResource),_deepLog=__webpack_require__(393),_deepLog2=_interopRequireDefault(_deepLog),_deepEvent=__webpack_require__(368),_deepEvent2=_interopRequireDefault(_deepEvent),_deepValidation=__webpack_require__(448),_deepValidation2=_interopRequireDefault(_deepValidation);module.exports=new _Framework.Framework({Asset:_deepAsset2.default,Cache:_deepCache2.default,Security:_deepSecurity2.default,Resource:_deepResource2.default,Log:_deepLog2.default,Validation:_deepValidation2.default,Event:_deepEvent2.default},_Framework.Framework.FRONTEND_CONTEXT)},function(module,exports,__webpack_require__){"use strict";Function.prototype.name||(Object.defineProperty?Object.defineProperty(Function.prototype,"name",{get:function(){const matches=this.toString().match(/^\s*function\s+([^(]{1,})\(/i);return matches&&matches.length>1?matches[1].trim():null},set:function(value){}}):console.error('Cannot define "Function.prototype.name" getter'))},function(module,exports){function webpackEmptyContext(req){throw new Error("Cannot find module '"+req+"'.")}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=236},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.ContextProvider=function(){function ContextProvider(runtimeContext){_classCallCheck(this,ContextProvider),this._context=runtimeContext}return _createClass(ContextProvider,[{key:"fillContextWithEventData",value:function(event){return this._context[ContextProvider.FRAMEWORK_NAMESPACE_KEY]={},this._context.getDeepFrameworkOption=function(option){return this[ContextProvider.FRAMEWORK_NAMESPACE_KEY][option]},[ContextProvider.MAIN_REQUEST_ID,ContextProvider.LAMBDA_DEPTH_LEVEL].forEach(option=>{event.hasOwnProperty(option)&&(this._context[ContextProvider.FRAMEWORK_NAMESPACE_KEY][option]=event[option])}),event.hasOwnProperty(ContextProvider.DEEP_AUTH_CONTEXT_KEY)&&!this._context.hasOwnProperty("identity")&&(this._context.identity=event[ContextProvider.DEEP_AUTH_CONTEXT_KEY],delete event[ContextProvider.DEEP_AUTH_CONTEXT_KEY]),this}},{key:"context",get:function(){return this._context}}],[{key:"FRAMEWORK_NAMESPACE_KEY",get:function(){return"deepFramework"}},{key:"MAIN_REQUEST_ID",get:function(){return"mainRequestId"}},{key:"LAMBDA_DEPTH_LEVEL",get:function(){return"lambdaDepthLevel"}},{key:"DEEP_AUTH_CONTEXT_KEY",get:function(){return"_deep_auth_context_"}}]),ContextProvider}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Framework=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepKernel=__webpack_require__(21),_deepKernel2=_interopRequireDefault(_deepKernel),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_ContextProvider=__webpack_require__(237);exports.Framework=function(){function Framework(servicesMap,context){_classCallCheck(this,Framework),this._context=context,this._services=this._resolveServicesMap(servicesMap),this._version=__webpack_require__(661).version,this._kernelsMap={}}return _createClass(Framework,[{key:"LambdaHandler",value:function(Handler){return{handler:(event,context,callback)=>{this.KernelFromLambdaContext(context,event).bootstrap(deepKernel=>{new Handler(deepKernel).run(event,context,callback)})}}}},{key:"KernelFromLambdaContext",value:function(lambdaContext,lambdaEvent){let contextProvider=new _ContextProvider.ContextProvider(lambdaContext).fillContextWithEventData(lambdaEvent),identityId=Framework.ANONYMOUS_IDENTITY_KEY;lambdaContext.hasOwnProperty("identity")&&lambdaContext.identity.cognitoIdentityPoolId&&lambdaContext.identity.cognitoIdentityId&&(identityId=lambdaContext.identity.cognitoIdentityId);let kernel=this._kernelCached(identityId);return kernel.runtimeContext=lambdaContext,kernel.contextProvider=contextProvider,kernel}},{key:"_kernelCached",value:function(id){return this._kernelsMap.hasOwnProperty(id)?this._kernelsMap[id]:(this._kernelsMap[id]=this._createKernel(),this._kernelsMap[id])}},{key:"_resolveServicesMap",value:function(servicesMap){let services={};for(let serviceName in servicesMap)if(servicesMap.hasOwnProperty(serviceName)){let serviceObj=servicesMap[serviceName];"string"==typeof serviceObj&&(serviceObj=!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()),services[serviceName]=serviceObj}return services}},{key:"_createKernel",value:function(){return new _deepKernel2.default(this._services,this._context)}},{key:"context",get:function(){return this._context}},{key:"version",get:function(){return this._version}},{key:"Kernel",get:function(){return this._kernelCached(Framework.ANONYMOUS_IDENTITY_KEY)}},{key:"Core",get:function(){return _deepCore2.default}}],[{key:"ANONYMOUS_IDENTITY_KEY",get:function(){return"anonymous"}},{key:"BACKEND_CONTEXT",get:function(){return _deepKernel2.default.BACKEND_CONTEXT}},{key:"FRONTEND_CONTEXT",get:function(){return _deepKernel2.default.FRONTEND_CONTEXT}}]),Framework}()},function(module,exports,__webpack_require__){"use strict";(function(global){window.__DEEP_DEV_SERVER=global.__DEEP_DEV_SERVER=-1!==["localhost","127.0.0.1","0.0.0.0","::1"].indexOf(window.location.hostname),/MSIE|Trident/.test(window.navigator.userAgent)&&__webpack_require__(235);const DeepFramework=__webpack_require__(234);module.exports=DeepFramework}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){(function(global){("undefined"==typeof window?global:window).AWS=__webpack_require__(18),__webpack_require__(246),__webpack_require__(241),__webpack_require__(242),__webpack_require__(243),__webpack_require__(244),__webpack_require__(245),__webpack_require__(247),__webpack_require__(248),__webpack_require__(249),__webpack_require__(250)}).call(exports,__webpack_require__(4))},function(module,exports){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.Conflict=function(){var CognitoSyncConflict=function(remoteRecord,localRecord){if(!remoteRecord||!localRecord)throw new Error("Remote and local records cannot be null.");if(!remoteRecord.getKey||!localRecord.getKey)throw new Error("Records are not record objects.");if(remoteRecord.getKey()!==localRecord.getKey())throw new Error("Remote and local keys do not match.");this.key=remoteRecord.getKey(),this.remoteRecord=remoteRecord,this.localRecord=localRecord};return CognitoSyncConflict.prototype.getKey=function(){return this.key},CognitoSyncConflict.prototype.getRemoteRecord=function(){return this.remoteRecord},CognitoSyncConflict.prototype.getLocalRecord=function(){return this.localRecord},CognitoSyncConflict.prototype.resolveWithRemoteRecord=function(){return this.remoteRecord.setModified(!1),this.remoteRecord},CognitoSyncConflict.prototype.resolveWithLocalRecord=function(){return this.localRecord.setSyncCount(this.remoteRecord.getSyncCount()),this.localRecord.setModified(!0),this.localRecord},CognitoSyncConflict.prototype.resolveWithValue=function(newValue){return new AWS.CognitoSyncManager.Record({Key:this.remoteRecord.getKey(),Value:newValue,SyncCount:this.remoteRecord.getSyncCount(),LastModifiedDate:new Date,LastModifiedBy:this.localRecord.getLastModifiedBy(),DeviceLastModifiedDate:new Date,Modified:!0})},CognitoSyncConflict}()},function(module,exports){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.Dataset=function(){var CognitoSyncDataset=function(datasetName,provider,local,remote,logger){this.MAX_RETRY=3,this.datasetName=datasetName,this.provider=provider,this.local=local,this.remote=remote,this.logger=logger||function(){}};return CognitoSyncDataset.prototype.validateKey=function(key){return new RegExp("^[a-zA-Z0-9_.:-]{1,128}$").test(key)},CognitoSyncDataset.prototype.put=function(key,value,callback){var valueType=typeof value;return this.validateKey(key)?"string"!==valueType?callback(new Error("The value type must be a string but was "+valueType+".")):void this.local.putValue(this.getIdentityId(),this.datasetName,key,value,callback):callback(new Error("Invalid key."))},CognitoSyncDataset.prototype.remove=function(key,callback){if(!this.validateKey(key))return callback(new Error("Invalid key."));this.local.putValue(this.getIdentityId(),this.datasetName,key,null,callback)},CognitoSyncDataset.prototype.get=function(key,callback){if(!this.validateKey(key))return callback(new Error("Invalid key."));this.local.getValue(this.getIdentityId(),this.datasetName,key,callback)},CognitoSyncDataset.prototype.getAllRecords=function(callback){this.local.getRecords(this.getIdentityId(),this.datasetName,callback)},CognitoSyncDataset.prototype.getDataStorage=function(callback){this.getDatasetMetadata(function(err,meta){return err?callback(err):meta?callback(null,meta.getDataStorage()):callback(null,0)})},CognitoSyncDataset.prototype.isChanged=function(key,callback){if(!this.validateKey(key))return callback(new Error("Invalid key."));this.local.getRecord(this.getIdentityId(),this.datasetName,key,function(err,record){callback(null,record&&record.isModified())})},CognitoSyncDataset.prototype.getDatasetMetadata=function(callback){this.local.getDatasetMetadata(this.getIdentityId(),this.datasetName,callback)},CognitoSyncDataset.prototype.resolve=function(resolvedRecords,callback){this.local.putRecords(this.getIdentityId(),this.datasetName,resolvedRecords,callback)},CognitoSyncDataset.prototype.putAll=function(values,callback){var isValid=!0;for(var key in values)values.hasOwnProperty(key)&&(this.validateKey(key)||(isValid=!1));if(!isValid)return callback(new Error("Object contains invalid keys."));this.local.putAllValues(this.getIdentityId(),this.datasetName,values,callback)},CognitoSyncDataset.prototype.getAll=function(callback){var record,map={};this.local.getRecords(this.getIdentityId(),this.datasetName,function(err,records){if(err)return callback(err);for(var r in records)records.hasOwnProperty(r)&&(record=records[r],record.isDeleted()||(map[record.getKey()]=record.getValue()));callback(null,map)})},CognitoSyncDataset.prototype.getIdentityId=function(){return this.provider.identityId},CognitoSyncDataset.prototype.getModifiedRecords=function(callback){this.local.getModifiedRecords(this.getIdentityId(),this.datasetName,callback)},CognitoSyncDataset.prototype.getLocalMergedDatasets=function(callback){var dataset,mergedDatasets=[],prefix=this.datasetName+".";this.local.getDatasets(this.getIdentityId(),function(err,datasets){for(var d in datasets)datasets.hasOwnProperty(d)&&(dataset=datasets[d],0===dataset.getDatasetName().indexOf(prefix)&&mergedDatasets.push(dataset.getDatasetName()));callback(null,mergedDatasets)})},CognitoSyncDataset.prototype.synchronize=function(callback,retry){var root=this;if(callback=callback||{},callback.onSuccess=callback.onSuccess||function(dataset,updates){},callback.onFailure=callback.onFailure||function(err){},callback.onConflict=callback.onConflict||function(dataset,conflicts,callback){return callback(!1)},callback.onDatasetDeleted=callback.onDatasetDeleted||function(dataset,deletedDataset,callback){return callback(!1)},callback.onDatasetsMerged=callback.onDatasetsMerged||function(dataset,merges,callback){return callback(!1)},void 0===retry&&(retry=this.MAX_RETRY),root.logger("Starting synchronization... (retries: "+retry+")"),retry<0)return callback.onFailure(new Error("Synchronize failed: exceeded maximum retry count."));this.getLocalMergedDatasets(function(err,mergedDatasets){if(err&&callback.onFailure(err),root.logger("Checking for locally merged datasets... found "+mergedDatasets.length+"."),mergedDatasets.length>0)return root.logger("Deferring to .onDatasetsMerged."),callback.onDatasetsMerged(root,mergedDatasets,function(isContinue){return isContinue?root.synchronize(callback,--retry):callback.onFailure(new Error("Synchronization cancelled by onDatasetsMerged() callback returning false."))});root.local.getLastSyncCount(root.getIdentityId(),root.datasetName,function(err,syncCount){if(err)return callback.onFailure(err);root.logger("Detecting last sync count... "+syncCount),-1==syncCount?root.remote.deleteDataset(root.datasetName,function(err,data){if(err)return callback.onFailure(err);root.local.purgeDataset(root.getIdentityId(),root.datasetName,function(err){return err?callback.onFailure(err):callback.onSuccess(root)})}):root.remote.listUpdates(root.datasetName,syncCount,function(err,remoteRecords){if(err)return callback.onFailure(err);root.logger("Fetching remote updates... found "+remoteRecords.records.length+".");var mergedNameList=remoteRecords.getMergedDatasetNameList();if(root.logger("Checking for remote merged datasets... found "+mergedNameList.length+"."),mergedNameList.length>0)return root.logger("Deferring to .onDatasetsMerged."),callback.onDatasetsMerged(root,mergedNameList,function(doContinue){doContinue?root._synchronizeInternal(callback,--retry):callback.onFailure(new Error("Cancelled due to .onDatasetsMerged result."))});if(0!==syncCount&&!remoteRecords||remoteRecords.isDeleted())return callback.onDatasetDeleted(root,remoteRecords.getDatasetName(),function(doContinue){return root.logger("Dataset should be deleted. Deferring to .onDatasetDeleted."),doContinue?(root.logger(".onDatasetDeleted returned true, purging dataset locally."),root.local.purgeDataset(root.getIdentityId(),root.datasetName,function(err){return err?callback.onFailure(err):root._synchronizeInternal(callback,--retry)})):(root.logger(".onDatasetDeleted returned false, cancelling sync."),callback.onFailure(new Error("Cancelled due to .onDatasetDeleted result.")))});var updatedRemoteRecords=remoteRecords.getRecords(),lastSyncCount=remoteRecords.getSyncCount(),sessionToken=remoteRecords.getSyncSessionToken();root.logger("Checking for remote updates since last sync count... found "+updatedRemoteRecords.length+"."),updatedRemoteRecords.length>0?root._synchronizeResolveLocal(updatedRemoteRecords,function(err,conflicts){if(err)return callback.onFailure(err);root.logger("Checking for conflicts... found "+conflicts.length+"."),conflicts.length>0?(root.logger("Conflicts detected. Deferring to .onConflict."),callback.onConflict(root,conflicts,function(isContinue){if(!isContinue)return root.logger(".onConflict returned false. Cancelling sync."),callback.onFailure(new Error("Sync cancelled. Conflict callback returned false."));root._synchronizePushRemote(sessionToken,syncCount,function(){return root.synchronize(callback,--retry)})})):(root.logger("No conflicts. Updating local records."),root.local.putRecords(root.getIdentityId(),root.datasetName,updatedRemoteRecords,function(err){if(err)return callback.onFailure(err);root.local.updateLastSyncCount(root.getIdentityId(),root.datasetName,lastSyncCount,function(err){return err?callback.onFailure(err):(root.logger("Finished resolving records. Restarting sync."),root.synchronize(callback,--retry))})}))}):(root.logger("Nothing updated remotely. Pushing local changes to remote."),root._synchronizePushRemote(sessionToken,lastSyncCount,function(err){return err?(root.logger("Remote push failed. Likely concurrent sync conflict. Retrying..."),root.synchronize(callback,--retry)):(root.logger("Sync successful."),callback.onSuccess(root,updatedRemoteRecords))}))})})})},CognitoSyncDataset.prototype._synchronizeResolveLocal=function(remoteRecords,callback){var root=this,conflicts=[];if(!(remoteRecords&&remoteRecords.length>0))return callback(null,conflicts);root.local.getRecords(root.getIdentityId(),root.datasetName,function(err,localRecords){var i,key,local,localMap={};for(i=0;i<localRecords.length;i++)localMap[localRecords[i].getKey()]=localRecords[i];for(i=0;i<remoteRecords.length;i++)key=remoteRecords[i].getKey(),(local=localMap[key])&&local.isModified()&&local.getValue()!==remoteRecords[i].getValue()&&conflicts.push(new AWS.CognitoSyncManager.Conflict(remoteRecords[i],local));return callback(null,conflicts)})},CognitoSyncDataset.prototype._synchronizePushRemote=function(sessionToken,syncCount,callback){var root=this;this.getModifiedRecords(function(err,localChanges){if(!(localChanges.length>0))return callback(null,!0);root.remote.putRecords(root.datasetName,localChanges,sessionToken,function(err,records){err&&callback(err),root.local.putRecords(root.getIdentityId(),root.datasetName,records,function(err){if(err)return callback(err);var newSyncCount=0;for(var r in records)records.hasOwnProperty(r)&&(newSyncCount=newSyncCount<records[r].getSyncCount()?records[r].getSyncCount():newSyncCount);root.local.updateLastSyncCount(root.getIdentityId(),root.datasetName,newSyncCount,function(err){return err?callback(err):callback(null,!0)})})})})},CognitoSyncDataset}()},function(module,exports){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.DatasetMetadata=function(){var CognitoSyncDatasetMetadata=function(metadata){if(metadata=metadata||{},this.datasetName=metadata.DatasetName||"",this.creationDate=new Date(metadata.CreationDate)||new Date,this.lastModifiedDate=new Date(metadata.LastModifiedDate)||new Date,this.lastModifiedBy=metadata.LastModifiedBy||"",this.dataStorage=metadata.DataStorage||0,this.recordCount=metadata.NumRecords||0,this.lastSyncCount=metadata.LastSyncCount||0,this.lastSyncDate=metadata.LastSyncDate?new Date(metadata.LastSyncDate):new Date,this.dataStorage<0)throw new RangeError("Storage size cannot be negative.");if(this.recordCount<0)throw new RangeError("Record count cannot be negative.")};return CognitoSyncDatasetMetadata.prototype.getDatasetName=function(){return this.datasetName},CognitoSyncDatasetMetadata.prototype.setDatasetName=function(datasetName){return this.datasetName=datasetName,this},CognitoSyncDatasetMetadata.prototype.getCreationDate=function(){return this.creationDate},CognitoSyncDatasetMetadata.prototype.setCreationDate=function(creationDate){return this.creationDate=new Date(creationDate),this},CognitoSyncDatasetMetadata.prototype.getLastModifiedDate=function(){return this.lastModifiedDate},CognitoSyncDatasetMetadata.prototype.setLastModifiedDate=function(modifiedDate){return this.lastModifiedDate=new Date(modifiedDate),this},CognitoSyncDatasetMetadata.prototype.getLastModifiedBy=function(){return this.lastModifiedBy},CognitoSyncDatasetMetadata.prototype.setLastModifiedBy=function(modifiedBy){return this.lastModifiedBy=modifiedBy,this},CognitoSyncDatasetMetadata.prototype.getDataStorage=function(){return this.dataStorage},CognitoSyncDatasetMetadata.prototype.setDataStorage=function(storageSize){return this.dataStorage=storageSize,this},CognitoSyncDatasetMetadata.prototype.getRecordCount=function(){return this.recordCount},CognitoSyncDatasetMetadata.prototype.setRecordCount=function(recordCount){return this.recordCount=recordCount,this},CognitoSyncDatasetMetadata.prototype.getLastSyncCount=function(){return this.lastSyncCount},CognitoSyncDatasetMetadata.prototype.setLastSyncCount=function(syncCount){return this.lastSyncCount=syncCount,this},CognitoSyncDatasetMetadata.prototype.getLastSyncDate=function(){return this.lastSyncDate},CognitoSyncDatasetMetadata.prototype.setLastSyncDate=function(syncDate){return this.lastSyncDate=syncDate,this},CognitoSyncDatasetMetadata.prototype.toString=function(){return JSON.stringify(this.toJSON())},CognitoSyncDatasetMetadata.prototype.toJSON=function(){return{DatasetName:this.datasetName,CreationDate:this.creationDate,LastModifiedDate:this.lastModifiedDate,LastModifiedBy:this.lastModifiedBy,DataStorage:this.dataStorage,NumRecords:this.recordCount,LastSyncCount:this.lastSyncCount,LastSyncDate:this.lastSyncDate}},CognitoSyncDatasetMetadata}()},function(module,exports){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.DatasetUpdates=function(){var CognitoSyncDatasetUpdates=function(datasetName){this.datasetName=datasetName,this.records=[],this.syncCount=0,this.syncSessionToken="",this.exists=!0,this.deleted=!1,this.mergedDatasetNameList=[]};return CognitoSyncDatasetUpdates.prototype.getDatasetName=function(){return this.datasetName},CognitoSyncDatasetUpdates.prototype.setDatasetName=function(datasetName){return this.datasetName=datasetName,this},CognitoSyncDatasetUpdates.prototype.getRecords=function(){return this.records},CognitoSyncDatasetUpdates.prototype.addRecord=function(record){return this.records.push(record),this},CognitoSyncDatasetUpdates.prototype.getSyncCount=function(){return this.syncCount},CognitoSyncDatasetUpdates.prototype.setSyncCount=function(syncCount){return this.syncCount=syncCount,this},CognitoSyncDatasetUpdates.prototype.getSyncSessionToken=function(){return this.syncSessionToken},CognitoSyncDatasetUpdates.prototype.setSyncSessionToken=function(syncToken){return this.syncSessionToken=syncToken,this},CognitoSyncDatasetUpdates.prototype.isExists=function(){return this.exists},CognitoSyncDatasetUpdates.prototype.setExists=function(exists){return this.exists=exists,this},CognitoSyncDatasetUpdates.prototype.isDeleted=function(){return this.deleted},CognitoSyncDatasetUpdates.prototype.setDeleted=function(deleted){return this.deleted=deleted,this},CognitoSyncDatasetUpdates.prototype.getMergedDatasetNameList=function(){return this.mergedDatasetNameList},CognitoSyncDatasetUpdates.prototype.setMergedDatasetNameList=function(mergedList){return this.mergedDatasetNameList=mergedList,this},CognitoSyncDatasetUpdates}()},function(module,exports){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.LocalStorage=function(){var CognitoSyncLocalStorage=function(options){options=options||{},this.store=null,this.meta=null,options.DataStore?this.store=new options.DataStore:this.store=new AWS.CognitoSyncManager.StoreInMemory};return CognitoSyncLocalStorage.prototype.getMetadataKey=function(identityId,datasetName){return identityId+"."+datasetName},CognitoSyncLocalStorage.prototype.loadMetadataCache=function(identityId,callback){var root=this;this.store.get("_internal","_metadata",identityId,function(err,data){if(err)return callback(err,null);data||(data={}),root.meta=data,callback(null,data)})},CognitoSyncLocalStorage.prototype.saveMetadataCache=function(identityId,metadata,callback){this.store.set("_internal","_metadata",identityId,metadata,function(err){return err?callback(err):callback(null,metadata)})},CognitoSyncLocalStorage.prototype.createDataset=function(identityId,datasetName,callback){var root=this;return this.getDatasetMetadata(identityId,datasetName,function(err,metadata){var stamp=(new Date).getTime();metadata?callback(null,datasetName):(metadata=new AWS.CognitoSyncManager.DatasetMetadata({DatasetName:datasetName,CreationDate:stamp,LastModifiedDate:stamp}),root.setDatasetMetadata(identityId,datasetName,metadata,function(err,data){}),callback(null,datasetName))}),this},CognitoSyncLocalStorage.prototype.getDatasetMetadata=function(identityId,datasetName,callback){var key=this.getMetadataKey(identityId,datasetName);return null!==this.meta?this.meta[key]?callback(null,new AWS.CognitoSyncManager.DatasetMetadata(this.meta[key])):callback(null,void 0):this.loadMetadataCache(identityId,function(err,cache){cache[key]?callback(null,new AWS.CognitoSyncManager.DatasetMetadata(cache[key])):callback(null,void 0)}),this},CognitoSyncLocalStorage.prototype.setDatasetMetadata=function(identityId,datasetName,metadata,callback){return this.meta[this.getMetadataKey(identityId,datasetName)]=metadata.toJSON(),this.saveMetadataCache(identityId,this.meta,callback),this},CognitoSyncLocalStorage.prototype.getValue=function(identityId,datasetName,key,callback){this.getRecord(identityId,datasetName,key,function(err,record){return record?callback(null,record.getValue()):callback(null,void 0)})},CognitoSyncLocalStorage.prototype.putValue=function(identityId,datasetName,key,value,callback){var root=this;this.getRecord(identityId,datasetName,key,function(err,record){if(record&&record.getValue()==value)return callback(null,record);record||(record=new AWS.CognitoSyncManager.Record),record.setKey(key).setValue(value).setModified(!0).setSyncCount(record?record.getSyncCount():0).setDeviceLastModifiedDate(new Date),root.store.set(identityId,datasetName,key,record.toJSON(),function(err){if(err)return callback(err);root.updateLastModifiedTimestamp(identityId,datasetName,function(err){return callback(err,record)})})})},CognitoSyncLocalStorage.prototype.getValueMap=function(identityId,datasetName,callback){var record,values={};this.getRecords(identityId,datasetName,function(err,records){for(var r in records)records.hasOwnProperty(r)&&(record=records[r],record.isDeleted()||(values[record.getKey()]=record.getValue()));callback(null,values)})},CognitoSyncLocalStorage.prototype.putAllValues=function(identityId,datasetName,values,callback){var root=this,remain=[];for(var v in values)values.hasOwnProperty(v)&&remain.push(v);var request=function(err){var item;if(err)return callback(err);remain.length>0?(item=remain.shift(),root.putValue(identityId,datasetName,item,values[item],request)):callback(null,!0)};request(null,null)},CognitoSyncLocalStorage.prototype.getDatasets=function(identityId,callback){var datasets=[];if(null!==this.meta){for(var m in this.meta)this.meta.hasOwnProperty(m)&&datasets.push(new AWS.CognitoSyncManager.DatasetMetadata(this.meta[m]));return callback(null,datasets)}this.loadMetadataCache(identityId,function(err,metadata){for(var m in metadata)metadata.hasOwnProperty(m)&&datasets.push(new AWS.CognitoSyncManager.DatasetMetadata(metadata[m]));return callback(null,datasets)})},CognitoSyncLocalStorage.prototype.updateDatasetMetadata=function(identityId,metadata,callback){var root=this;this.getDatasetMetadata(identityId,metadata.getDatasetName(),function(err,local){err&&callback(err),local||(local=new AWS.CognitoSyncManager.DatasetMetadata),local.setDatasetName(metadata.getDatasetName()).setCreationDate(metadata.getCreationDate()).setLastModifiedDate(metadata.getLastModifiedDate()).setLastModifiedBy(metadata.getLastModifiedBy()).setLastSyncCount(metadata.getLastSyncCount()).setRecordCount(metadata.getRecordCount()).setDataStorage(metadata.getDataStorage()),root.meta[root.getMetadataKey(identityId,metadata.getDatasetName())]=local.toJSON(),root.saveMetadataCache(identityId,root.meta,function(err){return err?callback(err):callback(null,local)})})},CognitoSyncLocalStorage.prototype.getRecord=function(identityId,datasetName,key,callback){this.store.get(identityId,datasetName,key,function(err,record){return record?callback(null,new AWS.CognitoSyncManager.Record(record)):callback(new Error("Key doesn't exist."),null)})},CognitoSyncLocalStorage.prototype.getRecords=function(identityId,datasetName,callback){var records=[];this.store.getAll(identityId,datasetName,function(err,local){for(var l in local)local.hasOwnProperty(l)&&records.push(new AWS.CognitoSyncManager.Record(local[l]));callback(null,records)})},CognitoSyncLocalStorage.prototype.putRecords=function(identityId,datasetName,records,callback){var root=this;records=records||[],records=records.slice();var request=function(){records.length>0&&root.updateAndClearRecord(identityId,datasetName,records.shift(),function(err){return err?callback(err):0===records.length?callback(null,!0):void request()})};request()},CognitoSyncLocalStorage.prototype.deleteDataset=function(identityId,datasetName,callback){var root=this;this.store.removeAll(identityId,datasetName,function(err){if(err)return callback(err);root.getDatasetMetadata(identityId,datasetName,function(err,metadata){if(err)return callback(err);metadata.setLastModifiedDate(new Date),metadata.setLastSyncCount(-1),root.updateDatasetMetadata(identityId,metadata,function(err){return err?callback(err):callback(null,!0)})})})},CognitoSyncLocalStorage.prototype.purgeDataset=function(identityId,datasetName,callback){var root=this;this.deleteDataset(identityId,datasetName,function(err){err&&callback(err),delete root.meta[root.getMetadataKey(identityId,datasetName)],root.saveMetadataCache(identityId,root.meta,callback)})},CognitoSyncLocalStorage.prototype.getLastSyncCount=function(identityId,datasetName,callback){this.getDatasetMetadata(identityId,datasetName,function(err,metadata){if(metadata)return callback(null,metadata.getLastSyncCount());callback(new Error("Dataset doesn't exist."),null)})},CognitoSyncLocalStorage.prototype.getModifiedRecords=function(identityId,datasetName,callback){var modified=[];this.getRecords(identityId,datasetName,function(err,records){for(var i=0;i<records.length;i++)records[i].isModified()&&modified.push(records[i]);callback(null,modified)})},CognitoSyncLocalStorage.prototype.updateLastSyncCount=function(identityId,datasetName,lastSyncCount,callback){var root=this;this.getDatasetMetadata(identityId,datasetName,function(err,meta){err&&callback(err),meta.setLastSyncCount(lastSyncCount).setLastSyncDate(new Date),root.updateDatasetMetadata(identityId,meta,function(err){err&&callback(err),callback(null,!0)})})},CognitoSyncLocalStorage.prototype.wipeData=function(callback){this.store.wipe(callback)},CognitoSyncLocalStorage.prototype.updateLastModifiedTimestamp=function(identityId,datasetName,callback){var root=this;this.getDatasetMetadata(identityId,datasetName,function(err,meta){if(err)return callback(err);meta.setLastModifiedDate(new Date),root.updateDatasetMetadata(identityId,meta,function(err){return err?callback(err):callback(null,!0)})})},CognitoSyncLocalStorage.prototype.removeRecord=function(identityId,datasetName,record){this.store.remove(identityId,datasetName,record,function(err){return err?callback(err):callback(null,!0)})},CognitoSyncLocalStorage.prototype.updateAndClearRecord=function(identityId,datasetName,record,callback){this.store.set(identityId,datasetName,record.getKey(),record.toJSON(),function(err){return err?callback(err):callback(null,!0)})},CognitoSyncLocalStorage}()},function(module,exports){if(void 0===AWS)throw new Error("AWS SDK must be loaded before loading the Sync Manager.");AWS.CognitoSyncManager=function(options){options=options||{};this.provider=AWS.config.credentials,this.identityPoolId=this.provider.params.IdentityPoolId,this.region=AWS.config.region,!this.provider.identityId&&this.provider.params.IdentityId&&(this.provider.identityId=this.provider.params.IdentityId),this.logger=options.log,"function"!=typeof this.logger&&(this.logger=function(){}),this.local=new AWS.CognitoSyncManager.LocalStorage({DataStore:options.DataStore?options.DataStore:AWS.CognitoSyncManager.StoreLocalStorage}),this.remote=new AWS.CognitoSyncManager.RemoteStorage(this.identityPoolId,this.provider),this.remote.setUserAgent("CognitoJavaScriptSDK/1")},AWS.CognitoSyncManager.prototype.openOrCreateDataset=function(datasetName,callback){var root=this,namePattern=new RegExp("^[a-zA-Z0-9_.:-]{1,128}$");namePattern.test(datasetName)?this.local.createDataset(this.getIdentityId(),datasetName,function(err,data){if(err)return callback(err,null);callback(null,new AWS.CognitoSyncManager.Dataset(data,root.provider,root.local,root.remote,root.logger))}):callback(new Error("Dataset name must match the pattern "+namePattern.toString()))},AWS.CognitoSyncManager.prototype.listDatasets=function(callback){this.local.getDatasets(this.getIdentityId(),callback)},AWS.CognitoSyncManager.prototype.refreshDatasetMetadata=function(callback){var root=this;this.remote.getDatasets(function(err,datasets){var metadata=[],request=function(ds){root.local.updateDatasetMetadata(root.getIdentityId(),ds,response)},response=function(err,md){metadata.push(md),datasets.length>0?request(datasets.shift()):callback(null,metadata)};datasets.length>0?request(datasets.shift()):callback(null,[])})},AWS.CognitoSyncManager.prototype.wipeData=function(){this.provider.clearCachedId(),this.local.wipeData()},AWS.CognitoSyncManager.prototype.getIdentityId=function(){return this.provider.identityId}},function(module,exports){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.Record=function(){var CognitoSyncRecord=function(data){data=data||{},this.key=data.Key||"",this.value=data.Value||"",this.syncCount=data.SyncCount||0,this.lastModifiedDate=data.LastModifiedDate?new Date(data.LastModifiedDate):new Date,this.lastModifiedBy=data.LastModifiedBy||"",this.deviceLastModifiedDate=data.DeviceLastModifiedDate?new Date(data.DeviceLastModifiedDate):new Date,this.modified=data.Modified||!1};return CognitoSyncRecord.prototype.getKey=function(){return this.key},CognitoSyncRecord.prototype.setKey=function(key){return this.key=key,this},CognitoSyncRecord.prototype.getValue=function(){return this.value},CognitoSyncRecord.prototype.setValue=function(value){return this.value=value,this},CognitoSyncRecord.prototype.getSyncCount=function(){return this.syncCount},CognitoSyncRecord.prototype.setSyncCount=function(syncCount){return this.syncCount=syncCount,this},CognitoSyncRecord.prototype.getLastModifiedDate=function(){return new Date(this.lastModifiedDate)},CognitoSyncRecord.prototype.setLastModifiedDate=function(modifiedDate){return this.lastModifiedDate=new Date(modifiedDate),this},CognitoSyncRecord.prototype.getLastModifiedBy=function(){return this.lastModifiedBy},CognitoSyncRecord.prototype.setLastModifiedBy=function(modifiedBy){return this.lastModifiedBy=modifiedBy,this},CognitoSyncRecord.prototype.getDeviceLastModifiedDate=function(){return new Date(this.deviceLastModifiedDate)},CognitoSyncRecord.prototype.setDeviceLastModifiedDate=function(modifiedDate){return this.deviceLastModifiedDate=new Date(modifiedDate),this},CognitoSyncRecord.prototype.isModified=function(){return this.modified},CognitoSyncRecord.prototype.setModified=function(modified){return this.modified=modified,this},CognitoSyncRecord.prototype.isDeleted=function(){return null===this.value},CognitoSyncRecord.prototype.toString=function(){return JSON.stringify(this)},CognitoSyncRecord.prototype.toJSON=function(){return{Key:this.key,Value:this.value,SyncCount:this.syncCount,LastModifiedDate:this.lastModifiedDate,LastModifiedBy:this.lastModifiedBy,DeviceLastModifiedDate:this.deviceLastModifiedDate,Modified:this.modified}},CognitoSyncRecord}()},function(module,exports){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.RemoteStorage=function(){var CognitoSyncRemoteStorage=function(identityPoolId,provider){this.identityPoolId=identityPoolId,this.provider=provider,this.client=new AWS.CognitoSync};return CognitoSyncRemoteStorage.prototype.userAgent="",CognitoSyncRemoteStorage.prototype.getIdentityId=function(){return this.provider.identityId},CognitoSyncRemoteStorage.prototype.getDatasets=function(callback){var root=this,datasets=[],nextToken=null,fetch=function(token,cb){root.client.listDatasets({IdentityId:root.getIdentityId(),IdentityPoolId:root.identityPoolId,MaxResults:64,NextToken:token},cb)},process=function(err,data){for(var results=data.Datasets||[],i=0;i<results.length;i++)datasets.push(new AWS.CognitoSyncManager.DatasetMetadata(results[i]));nextToken=data.NextToken,nextToken?fetch(nextToken,process):callback(null,datasets)};fetch(nextToken,process)},CognitoSyncRemoteStorage.prototype.listUpdates=function(datasetName,lastSyncCount,callback){var root=this,nextToken=null,updatedRecords=new AWS.CognitoSyncManager.DatasetUpdates(datasetName),request=function(token,cb){root.client.listRecords({DatasetName:datasetName,IdentityId:root.getIdentityId(),IdentityPoolId:root.identityPoolId,LastSyncCount:lastSyncCount,MaxResults:1024,NextToken:token},cb)},response=function(err,data){if(err)return callback(err);data=data||{};for(var r,results=data.Records||[],i=0;i<results.length;i++)r=new AWS.CognitoSyncManager.Record(results[i]),r.setModified(!1),updatedRecords.addRecord(r);updatedRecords.setSyncSessionToken(data.SyncSessionToken).setSyncCount(data.DatasetSyncCount).setExists(data.DatasetExists).setDeleted(data.DatasetDeletedAfterRequestedSyncCount),data.MergedDatasetNames&&updatedRecords.setMergedDatasetNameList(data.MergedDatasetNames),nextToken=data.NextToken,nextToken?request(nextToken,response):callback(null,updatedRecords)};request(null,response)},CognitoSyncRemoteStorage.prototype.putRecords=function(datasetName,records,syncSessionToken,callback){var record,root=this,patches=[];for(var r in records)records.hasOwnProperty(r)&&(record=records[r],patches.push({Key:record.getKey(),Op:record.getValue()?"replace":"remove",SyncCount:record.getSyncCount(),DeviceLastModifiedDate:record.getDeviceLastModifiedDate(),Value:record.getValue()}));this.client.updateRecords({DatasetName:datasetName,IdentityId:root.getIdentityId(),IdentityPoolId:root.identityPoolId,SyncSessionToken:syncSessionToken,RecordPatches:patches},function(err,data){var dsName="string"==typeof datasetName?datasetName:"(invalid dataset name)";if(err)return callback(new Error("Failed to update records in dataset: "+dsName+" ("+err.message+")"),null);for(var r,records=[],i=0;i<data.Records.length;i++)r=new AWS.CognitoSyncManager.Record(data.Records[i]),r.setModified(!1),records.push(r);return callback(null,records)})},CognitoSyncRemoteStorage.prototype.deleteDataset=function(datasetName,callback){this.client.deleteDataset({DatasetName:datasetName,IdentityId:this.getIdentityId(),IdentityPoolId:this.identityPoolId},function(err,data){return err?callback(new Error("Failed to delete dataset."),null):callback(null,data)})},CognitoSyncRemoteStorage.prototype.getDatasetMetadata=function(datasetName,callback){this.client.describeDataset({DatasetName:datasetName,IdentityId:this.getIdentityId(),IdentityPoolId:this.identityPoolId},function(err,data){return err?callback(new Error("Failed to get dataset metadata."),null):callback(null,new AWS.CognitoSyncManager.DatasetMetadata(data.Dataset))})},CognitoSyncRemoteStorage.prototype.setUserAgent=function(userAgent){this.userAgent=userAgent},CognitoSyncRemoteStorage}()},function(module,exports){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.StoreInMemory=function(){var CognitoSyncStoreInMemory=function(){this.store={}};return CognitoSyncStoreInMemory.prototype.makeKey=function(identityId,datasetName){return identityId+"."+datasetName},CognitoSyncStoreInMemory.prototype.get=function(identityId,datasetName,key,callback){var k=this.makeKey(identityId,datasetName);return identityId&&datasetName?this.store[k]&&this.store[k][key]?callback(null,this.store[k][key]):callback(null,void 0):callback(new Error("You must provide an identity id and dataset name."),null)},CognitoSyncStoreInMemory.prototype.getAll=function(identityId,datasetName,callback){var k=this.makeKey(identityId,datasetName);return identityId&&datasetName?callback(null,this.store[k]):callback(new Error("You must provide an identity id and dataset name."),null)},CognitoSyncStoreInMemory.prototype.set=function(identityId,datasetName,key,value,callback){var k=this.makeKey(identityId,datasetName),entry=this.store[k]||{};return entry[key]=value,this.store[k]=entry,callback(null,entry)},CognitoSyncStoreInMemory.prototype.setAll=function(identityId,datasetName,obj,callback){var k=this.makeKey(identityId,datasetName);return this.store[k]=obj,callback(null,obj)},CognitoSyncStoreInMemory.prototype.remove=function(identityId,datasetName,key,callback){var k=this.makeKey(identityId,datasetName),records=JSON.parse(this.store[k]);return records||(records={}),delete records[key],this.store[k]=JSON.stringify(records),callback(null,!0)},CognitoSyncStoreInMemory.prototype.removeAll=function(identityId,datasetName,callback){var k=this.makeKey(identityId,datasetName);return delete this.store[k],callback(null,!0)},CognitoSyncStoreInMemory.prototype.wipe=function(callback){return this.store={},callback(null,!0)},CognitoSyncStoreInMemory}()},function(module,exports){AWS=AWS||{},AWS.CognitoSyncManager=AWS.CognitoSyncManager||{},AWS.CognitoSyncManager.StoreLocalStorage=function(){var CognitoSyncStoreLocalStorage=function(){this.store=this._isAvailable()?window.localStorage:new AWS.CognitoSyncManager.StoreInMemory};return CognitoSyncStoreLocalStorage.prototype.makeKey=function(identityId,datasetName){return identityId+"."+datasetName},CognitoSyncStoreLocalStorage.prototype.get=function(identityId,datasetName,key,callback){var k=this.makeKey(identityId,datasetName);if(!identityId||!datasetName)return callback(new Error("You must provide an identity id and dataset name."),null);var records=JSON.parse(this.store.getItem(k));return records&&records[key]?callback(null,records[key]):callback(null,void 0)},CognitoSyncStoreLocalStorage.prototype.getAll=function(identityId,datasetName,callback){var k=this.makeKey(identityId,datasetName);return identityId&&datasetName?callback(null,JSON.parse(this.store.getItem(k))):callback(new Error("You must provide an identity id and dataset name."),null)},CognitoSyncStoreLocalStorage.prototype.set=function(identityId,datasetName,key,value,callback){var k=this.makeKey(identityId,datasetName),records=JSON.parse(this.store.getItem(k));return records||(records={}),records[key]=value,this.store.setItem(k,JSON.stringify(records)),callback(null,records),this},CognitoSyncStoreLocalStorage.prototype.setAll=function(identityId,datasetName,obj,callback){var k=this.makeKey(identityId,datasetName);return this.store.setItem(k,JSON.stringify(obj)),callback(null,obj)},CognitoSyncStoreLocalStorage.prototype.remove=function(identityId,datasetName,key,callback){var k=this.makeKey(identityId,datasetName),records=JSON.parse(this.store.getItem(k));return records||(records={}),delete records[key],this.store.setItem(k,JSON.stringify(records)),callback(null,!0)},CognitoSyncStoreLocalStorage.prototype.removeAll=function(identityId,datasetName,callback){var k=this.makeKey(identityId,datasetName);return this.store.removeItem(k),callback(null,!0)},CognitoSyncStoreLocalStorage.prototype.wipe=function(callback){var ownKeysRegExp=/^[\w-]+:[0-9a-f-]+\..+$/;for(var prop in this.store)this.store.hasOwnProperty(prop)&&ownKeysRegExp.test(prop)&&this.store.removeItem(prop);return this.store.removeItem(this.makeKey("_internal","_metadata")),callback?callback(null,!0):this},CognitoSyncStoreLocalStorage.prototype._isAvailable=function(){var result,uid=new Date;try{window.localStorage.setItem(uid,uid),result=window.localStorage.getItem(uid)==uid,window.localStorage.removeItem(uid)}catch(exception){result=!1}return result},CognitoSyncStoreLocalStorage}()},function(module,exports,__webpack_require__){function Entity(name,body){this.name=name,this.body=body,this.decoders={},this.encoders={}}var asn1=__webpack_require__(41),inherits=__webpack_require__(2);exports.define=function(name,body){return new Entity(name,body)},Entity.prototype._createNamed=function(base){var named;try{named=__webpack_require__(649).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){named=function(entity){this._initNamed(entity)}}return inherits(named,base),named.prototype._initNamed=function(entity){base.call(this,entity)},new named(this)},Entity.prototype._getDecoder=function(enc){return enc=enc||"der",this.decoders.hasOwnProperty(enc)||(this.decoders[enc]=this._createNamed(asn1.decoders[enc])),this.decoders[enc]},Entity.prototype.decode=function(data,enc,options){return this._getDecoder(enc).decode(data,options)},Entity.prototype._getEncoder=function(enc){return enc=enc||"der",this.encoders.hasOwnProperty(enc)||(this.encoders[enc]=this._createNamed(asn1.encoders[enc])),this.encoders[enc]},Entity.prototype.encode=function(data,enc,reporter){return this._getEncoder(enc).encode(data,reporter)}},function(module,exports,__webpack_require__){function Node(enc,parent){var state={};this._baseState=state,state.enc=enc,state.parent=parent||null,state.children=null,state.tag=null,state.args=null,state.reverseArgs=null,state.choice=null,state.optional=!1,state.any=!1,state.obj=!1,state.use=null,state.useDecoder=null,state.key=null,state.default=null,state.explicit=null,state.implicit=null,state.contains=null,state.parent||(state.children=[],this._wrap())}var Reporter=__webpack_require__(42).Reporter,EncoderBuffer=__webpack_require__(42).EncoderBuffer,DecoderBuffer=__webpack_require__(42).DecoderBuffer,assert=__webpack_require__(26),tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags),overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function(){var state=this._baseState,cstate={};stateProps.forEach(function(prop){cstate[prop]=state[prop]});var res=new this.constructor(cstate.parent);return res._baseState=cstate,res},Node.prototype._wrap=function(){var state=this._baseState;methods.forEach(function(method){this[method]=function(){var clone=new this.constructor(this);return state.children.push(clone),clone[method].apply(clone,arguments)}},this)},Node.prototype._init=function(body){var state=this._baseState;assert(null===state.parent),body.call(this),state.children=state.children.filter(function(child){return child._baseState.parent===this},this),assert.equal(state.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(args){var state=this._baseState,children=args.filter(function(arg){return arg instanceof this.constructor},this);args=args.filter(function(arg){return!(arg instanceof this.constructor)},this),0!==children.length&&(assert(null===state.children),state.children=children,children.forEach(function(child){child._baseState.parent=this},this)),0!==args.length&&(assert(null===state.args),state.args=args,state.reverseArgs=args.map(function(arg){if("object"!=typeof arg||arg.constructor!==Object)return arg;var res={};return Object.keys(arg).forEach(function(key){key==(0|key)&&(key|=0);var value=arg[key];res[value]=key}),res}))},overrided.forEach(function(method){Node.prototype[method]=function(){var state=this._baseState;throw new Error(method+" not implemented for encoding: "+state.enc)}}),tags.forEach(function(tag){Node.prototype[tag]=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return assert(null===state.tag),state.tag=tag,this._useArgs(args),this}}),Node.prototype.use=function(item){assert(item);var state=this._baseState;return assert(null===state.use),state.use=item,this},Node.prototype.optional=function(){return this._baseState.optional=!0,this},Node.prototype.def=function(val){var state=this._baseState;return assert(null===state.default),state.default=val,state.optional=!0,this},Node.prototype.explicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.explicit=num,this},Node.prototype.implicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.implicit=num,this},Node.prototype.obj=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return state.obj=!0,0!==args.length&&this._useArgs(args),this},Node.prototype.key=function(newKey){var state=this._baseState;return assert(null===state.key),state.key=newKey,this},Node.prototype.any=function(){return this._baseState.any=!0,this},Node.prototype.choice=function(obj){var state=this._baseState;return assert(null===state.choice),state.choice=obj,this._useArgs(Object.keys(obj).map(function(key){return obj[key]})),this},Node.prototype.contains=function(item){var state=this._baseState;return assert(null===state.use),state.contains=item,this},Node.prototype._decode=function(input,options){var state=this._baseState;if(null===state.parent)return input.wrapResult(state.children[0]._decode(input,options));var result=state.default,present=!0,prevKey=null;if(null!==state.key&&(prevKey=input.enterKey(state.key)),state.optional){var tag=null;if(null!==state.explicit?tag=state.explicit:null!==state.implicit?tag=state.implicit:null!==state.tag&&(tag=state.tag),null!==tag||state.any){if(present=this._peekTag(input,tag,state.any),input.isError(present))return present}else{var save=input.save();try{null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),present=!0}catch(e){present=!1}input.restore(save)}}var prevObj;if(state.obj&&present&&(prevObj=input.enterObject()),present){if(null!==state.explicit){var explicit=this._decodeTag(input,state.explicit);if(input.isError(explicit))return explicit;input=explicit}var start=input.offset;if(null===state.use&&null===state.choice){if(state.any)var save=input.save();var body=this._decodeTag(input,null!==state.implicit?state.implicit:state.tag,state.any);if(input.isError(body))return body;state.any?result=input.raw(save):input=body}if(options&&options.track&&null!==state.tag&&options.track(input.path(),start,input.length,"tagged"),options&&options.track&&null!==state.tag&&options.track(input.path(),input.offset,input.length,"content"),result=state.any?result:null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),input.isError(result))return result;if(state.any||null!==state.choice||null===state.children||state.children.forEach(function(child){child._decode(input,options)}),state.contains&&("octstr"===state.tag||"bitstr"===state.tag)){var data=new DecoderBuffer(result);result=this._getUse(state.contains,input._reporterState.obj)._decode(data,options)}}return state.obj&&present&&(result=input.leaveObject(prevObj)),null===state.key||null===result&&!0!==present?null!==prevKey&&input.exitKey(prevKey):input.leaveKey(prevKey,state.key,result),result},Node.prototype._decodeGeneric=function(tag,input,options){var state=this._baseState;return"seq"===tag||"set"===tag?null:"seqof"===tag||"setof"===tag?this._decodeList(input,tag,state.args[0],options):/str$/.test(tag)?this._decodeStr(input,tag,options):"objid"===tag&&state.args?this._decodeObjid(input,state.args[0],state.args[1],options):"objid"===tag?this._decodeObjid(input,null,null,options):"gentime"===tag||"utctime"===tag?this._decodeTime(input,tag,options):"null_"===tag?this._decodeNull(input,options):"bool"===tag?this._decodeBool(input,options):"objDesc"===tag?this._decodeStr(input,tag,options):"int"===tag||"enum"===tag?this._decodeInt(input,state.args&&state.args[0],options):null!==state.use?this._getUse(state.use,input._reporterState.obj)._decode(input,options):input.error("unknown tag: "+tag)},Node.prototype._getUse=function(entity,obj){var state=this._baseState;return state.useDecoder=this._use(entity,obj),assert(null===state.useDecoder._baseState.parent),state.useDecoder=state.useDecoder._baseState.children[0],state.implicit!==state.useDecoder._baseState.implicit&&(state.useDecoder=state.useDecoder.clone(),state.useDecoder._baseState.implicit=state.implicit),state.useDecoder},Node.prototype._decodeChoice=function(input,options){var state=this._baseState,result=null,match=!1;return Object.keys(state.choice).some(function(key){var save=input.save(),node=state.choice[key];try{var value=node._decode(input,options);if(input.isError(value))return!1;result={type:key,value:value},match=!0}catch(e){return input.restore(save),!1}return!0},this),match?result:input.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(data){return new EncoderBuffer(data,this.reporter)},Node.prototype._encode=function(data,reporter,parent){var state=this._baseState;if(null===state.default||state.default!==data){var result=this._encodeValue(data,reporter,parent);if(void 0!==result&&!this._skipDefault(result,reporter,parent))return result}},Node.prototype._encodeValue=function(data,reporter,parent){var state=this._baseState;if(null===state.parent)return state.children[0]._encode(data,reporter||new Reporter);var result=null;if(this.reporter=reporter,state.optional&&void 0===data){if(null===state.default)return;data=state.default}var content=null,primitive=!1;if(state.any)result=this._createEncoderBuffer(data);else if(state.choice)result=this._encodeChoice(data,reporter);else if(state.contains)content=this._getUse(state.contains,parent)._encode(data,reporter),primitive=!0;else if(state.children)content=state.children.map(function(child){if("null_"===child._baseState.tag)return child._encode(null,reporter,data);if(null===child._baseState.key)return reporter.error("Child should have a key");var prevKey=reporter.enterKey(child._baseState.key);if("object"!=typeof data)return reporter.error("Child expected, but input is not object");var res=child._encode(data[child._baseState.key],reporter,data);return reporter.leaveKey(prevKey),res},this).filter(function(child){return child}),content=this._createEncoderBuffer(content);else if("seqof"===state.tag||"setof"===state.tag){if(!state.args||1!==state.args.length)return reporter.error("Too many args for : "+state.tag);if(!Array.isArray(data))return reporter.error("seqof/setof, but data is not Array");var child=this.clone();child._baseState.implicit=null,content=this._createEncoderBuffer(data.map(function(item){var state=this._baseState;return this._getUse(state.args[0],data)._encode(item,reporter)},child))}else null!==state.use?result=this._getUse(state.use,parent)._encode(data,reporter):(content=this._encodePrimitive(state.tag,data),primitive=!0);var result;if(!state.any&&null===state.choice){var tag=null!==state.implicit?state.implicit:state.tag,cls=null===state.implicit?"universal":"context";null===tag?null===state.use&&reporter.error("Tag could be ommited only for .use()"):null===state.use&&(result=this._encodeComposite(tag,primitive,cls,content))}return null!==state.explicit&&(result=this._encodeComposite(state.explicit,!1,"context",result)),result},Node.prototype._encodeChoice=function(data,reporter){var state=this._baseState,node=state.choice[data.type];return node||assert(!1,data.type+" not found in "+JSON.stringify(Object.keys(state.choice))),node._encode(data.value,reporter)},Node.prototype._encodePrimitive=function(tag,data){var state=this._baseState;if(/str$/.test(tag))return this._encodeStr(data,tag);if("objid"===tag&&state.args)return this._encodeObjid(data,state.reverseArgs[0],state.args[1]);if("objid"===tag)return this._encodeObjid(data,null,null);if("gentime"===tag||"utctime"===tag)return this._encodeTime(data,tag);if("null_"===tag)return this._encodeNull();if("int"===tag||"enum"===tag)return this._encodeInt(data,state.args&&state.reverseArgs[0]);if("bool"===tag)return this._encodeBool(data);if("objDesc"===tag)return this._encodeStr(data,tag);throw new Error("Unsupported tag: "+tag)},Node.prototype._isNumstr=function(str){return/^[0-9 ]*$/.test(str)},Node.prototype._isPrintstr=function(str){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(str)}},function(module,exports,__webpack_require__){function Reporter(options){this._reporterState={obj:null,path:[],options:options||{},errors:[]}}function ReporterError(path,msg){this.path=path,this.rethrow(msg)}var inherits=__webpack_require__(2);exports.Reporter=Reporter,Reporter.prototype.isError=function(obj){return obj instanceof ReporterError},Reporter.prototype.save=function(){var state=this._reporterState;return{obj:state.obj,pathLen:state.path.length}},Reporter.prototype.restore=function(data){var state=this._reporterState;state.obj=data.obj,state.path=state.path.slice(0,data.pathLen)},Reporter.prototype.enterKey=function(key){return this._reporterState.path.push(key)},Reporter.prototype.exitKey=function(index){var state=this._reporterState;state.path=state.path.slice(0,index-1)},Reporter.prototype.leaveKey=function(index,key,value){var state=this._reporterState;this.exitKey(index),null!==state.obj&&(state.obj[key]=value)},Reporter.prototype.path=function(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function(){var state=this._reporterState,prev=state.obj;return state.obj={},prev},Reporter.prototype.leaveObject=function(prev){var state=this._reporterState,now=state.obj;return state.obj=prev,now},Reporter.prototype.error=function(msg){var err,state=this._reporterState,inherited=msg instanceof ReporterError;if(err=inherited?msg:new ReporterError(state.path.map(function(elem){return"["+JSON.stringify(elem)+"]"}).join(""),msg.message||msg,msg.stack),!state.options.partial)throw err;return inherited||state.errors.push(err),err},Reporter.prototype.wrapResult=function(result){var state=this._reporterState;return state.options.partial?{result:this.isError(result)?null:result,errors:state.errors}:result},inherits(ReporterError,Error),ReporterError.prototype.rethrow=function(msg){if(this.message=msg+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(module,exports,__webpack_require__){var constants=__webpack_require__(127);exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=constants._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=constants._reverse(exports.tag)},function(module,exports,__webpack_require__){var decoders=exports;decoders.der=__webpack_require__(128),decoders.pem=__webpack_require__(256)},function(module,exports,__webpack_require__){function PEMDecoder(entity){DERDecoder.call(this,entity),this.enc="pem"}var inherits=__webpack_require__(2),Buffer=__webpack_require__(0).Buffer,DERDecoder=__webpack_require__(128);inherits(PEMDecoder,DERDecoder),module.exports=PEMDecoder,PEMDecoder.prototype.decode=function(data,options){for(var lines=data.toString().split(/[\r\n]+/g),label=options.label.toUpperCase(),start=-1,end=-1,i=0;i<lines.length;i++){var match=lines[i].match(/^-----(BEGIN|END) ([^-]+)-----$/);if(null!==match&&match[2]===label){if(-1!==start){if("END"!==match[1])break;end=i;break}if("BEGIN"!==match[1])break;start=i}}if(-1===start||-1===end)throw new Error("PEM section not found for: "+label);var base64=lines.slice(start+1,end).join("");base64.replace(/[^a-z0-9\+\/=]+/gi,"");var input=new Buffer(base64,"base64");return DERDecoder.prototype.decode.call(this,input,options)}},function(module,exports,__webpack_require__){var encoders=exports;encoders.der=__webpack_require__(129),encoders.pem=__webpack_require__(258)},function(module,exports,__webpack_require__){function PEMEncoder(entity){DEREncoder.call(this,entity),this.enc="pem"}var inherits=__webpack_require__(2),DEREncoder=__webpack_require__(129);inherits(PEMEncoder,DEREncoder),module.exports=PEMEncoder,PEMEncoder.prototype.encode=function(data,options){for(var buf=DEREncoder.prototype.encode.call(this,data),p=buf.toString("base64"),out=["-----BEGIN "+options.label+"-----"],i=0;i<p.length;i+=64)out.push(p.slice(i,i+64));return out.push("-----END "+options.label+"-----"),out.join("\n")}},function(module,exports){module.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",serviceFullName:"Amazon Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30"},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},SupportedLoginProviders:{shape:"S4"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S8"},CognitoIdentityProviders:{shape:"Sa"},SamlProviderARNs:{shape:"Sf"}}},output:{shape:"Sg"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Sr"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sg"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"Sw"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}}},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"Sw"}}},output:{type:"structure",members:{IdentityId:{}}}},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S18"},RoleMappings:{shape:"S1a"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"Sw"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"Sw"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Sr"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S18"},RoleMappings:{shape:"S1a"}}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"Sw"},LoginsToRemove:{shape:"Ss"}}}},UpdateIdentityPool:{input:{shape:"Sg"},output:{shape:"Sg"}}},shapes:{S4:{type:"map",key:{},value:{}},S8:{type:"list",member:{}},Sa:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sf:{type:"list",member:{}},Sg:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},SupportedLoginProviders:{shape:"S4"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S8"},CognitoIdentityProviders:{shape:"Sa"},SamlProviderARNs:{shape:"Sf"}}},Sr:{type:"structure",members:{IdentityId:{},Logins:{shape:"Ss"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Ss:{type:"list",member:{}},Sw:{type:"map",key:{},value:{}},S18:{type:"map",key:{},value:{}},S1a:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}}}}},function(module,exports){module.exports={pagination:{}}},function(module,exports){module.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-sync",jsonVersion:"1.1",serviceFullName:"Amazon Cognito Sync",signatureVersion:"v4",protocol:"rest-json",uid:"cognito-sync-2014-06-30"},operations:{BulkPublish:{http:{requestUri:"/identitypools/{IdentityPoolId}/bulkpublish",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"}}},output:{type:"structure",members:{IdentityPoolId:{}}}},DeleteDataset:{http:{method:"DELETE",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"}}},output:{type:"structure",members:{Dataset:{shape:"S8"}}}},DescribeDataset:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"}}},output:{type:"structure",members:{Dataset:{shape:"S8"}}}},DescribeIdentityPoolUsage:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"}}},output:{type:"structure",members:{IdentityPoolUsage:{shape:"Sg"}}}},DescribeIdentityUsage:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"}}},output:{type:"structure",members:{IdentityUsage:{type:"structure",members:{IdentityId:{},IdentityPoolId:{},LastModifiedDate:{type:"timestamp"},DatasetCount:{type:"integer"},DataStorage:{type:"long"}}}}}},GetBulkPublishDetails:{http:{requestUri:"/identitypools/{IdentityPoolId}/getBulkPublishDetails",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"}}},output:{type:"structure",members:{IdentityPoolId:{},BulkPublishStartTime:{type:"timestamp"},BulkPublishCompleteTime:{type:"timestamp"},BulkPublishStatus:{},FailureMessage:{}}}},GetCognitoEvents:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/events",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"}}},output:{type:"structure",members:{Events:{shape:"Sq"}}}},GetIdentityPoolConfiguration:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/configuration",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"}}},output:{type:"structure",members:{IdentityPoolId:{},PushSync:{shape:"Sv"},CognitoStreams:{shape:"Sz"}}}},ListDatasets:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets",responseCode:200},input:{type:"structure",required:["IdentityId","IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},NextToken:{location:"querystring",locationName:"nextToken"},MaxResults:{location:"querystring",locationName:"maxResults",type:"integer"}}},output:{type:"structure",members:{Datasets:{type:"list",member:{shape:"S8"}},Count:{type:"integer"},NextToken:{}}}},ListIdentityPoolUsage:{http:{method:"GET",requestUri:"/identitypools",responseCode:200},input:{type:"structure",members:{NextToken:{location:"querystring",locationName:"nextToken"},MaxResults:{location:"querystring",locationName:"maxResults",type:"integer"}}},output:{type:"structure",members:{IdentityPoolUsages:{type:"list",member:{shape:"Sg"}},MaxResults:{type:"integer"},Count:{type:"integer"},NextToken:{}}}},ListRecords:{http:{method:"GET",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}/records",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"},LastSyncCount:{location:"querystring",locationName:"lastSyncCount",type:"long"},NextToken:{location:"querystring",locationName:"nextToken"},MaxResults:{location:"querystring",locationName:"maxResults",type:"integer"},SyncSessionToken:{location:"querystring",locationName:"syncSessionToken"}}},output:{type:"structure",members:{Records:{shape:"S1c"},NextToken:{},Count:{type:"integer"},DatasetSyncCount:{type:"long"},LastModifiedBy:{},MergedDatasetNames:{type:"list",member:{}},DatasetExists:{type:"boolean"},DatasetDeletedAfterRequestedSyncCount:{type:"boolean"},SyncSessionToken:{}}}},RegisterDevice:{http:{requestUri:"/identitypools/{IdentityPoolId}/identity/{IdentityId}/device",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","Platform","Token"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},Platform:{},Token:{}}},output:{type:"structure",members:{DeviceId:{}}}},SetCognitoEvents:{http:{requestUri:"/identitypools/{IdentityPoolId}/events",responseCode:200},input:{type:"structure",required:["IdentityPoolId","Events"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},Events:{shape:"Sq"}}}},SetIdentityPoolConfiguration:{http:{requestUri:"/identitypools/{IdentityPoolId}/configuration",responseCode:200},input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},PushSync:{shape:"Sv"},CognitoStreams:{shape:"Sz"}}},output:{type:"structure",members:{IdentityPoolId:{},PushSync:{shape:"Sv"},CognitoStreams:{shape:"Sz"}}}},SubscribeToDataset:{http:{requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}/subscriptions/{DeviceId}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName","DeviceId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"},DeviceId:{location:"uri",locationName:"DeviceId"}}},output:{type:"structure",members:{}}},UnsubscribeFromDataset:{http:{method:"DELETE",requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}/subscriptions/{DeviceId}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName","DeviceId"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"},DeviceId:{location:"uri",locationName:"DeviceId"}}},output:{type:"structure",members:{}}},UpdateRecords:{http:{requestUri:"/identitypools/{IdentityPoolId}/identities/{IdentityId}/datasets/{DatasetName}",responseCode:200},input:{type:"structure",required:["IdentityPoolId","IdentityId","DatasetName","SyncSessionToken"],members:{IdentityPoolId:{location:"uri",locationName:"IdentityPoolId"},IdentityId:{location:"uri",locationName:"IdentityId"},DatasetName:{location:"uri",locationName:"DatasetName"},DeviceId:{},RecordPatches:{type:"list",member:{type:"structure",required:["Op","Key","SyncCount"],members:{Op:{},Key:{},Value:{},SyncCount:{type:"long"},DeviceLastModifiedDate:{type:"timestamp"}}}},SyncSessionToken:{},ClientContext:{location:"header",locationName:"x-amz-Client-Context"}}},output:{type:"structure",members:{Records:{shape:"S1c"}}}}},shapes:{S8:{type:"structure",members:{IdentityId:{},DatasetName:{},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"},LastModifiedBy:{},DataStorage:{type:"long"},NumRecords:{type:"long"}}},Sg:{type:"structure",members:{IdentityPoolId:{},SyncSessionsCount:{type:"long"},DataStorage:{type:"long"},LastModifiedDate:{type:"timestamp"}}},Sq:{type:"map",key:{},value:{}},Sv:{type:"structure",members:{ApplicationArns:{type:"list",member:{}},RoleArn:{}}},Sz:{type:"structure",members:{StreamName:{},RoleArn:{},StreamingStatus:{}}},S1c:{type:"list",member:{type:"structure",members:{Key:{},Value:{},SyncCount:{type:"long"},LastModifiedDate:{type:"timestamp"},LastModifiedBy:{},DeviceLastModifiedDate:{type:"timestamp"}}}}},examples:{}}},function(module,exports){module.exports={metadata:{apiVersion:"2014-11-11",endpointPrefix:"lambda",serviceFullName:"AWS Lambda",signatureVersion:"v4",protocol:"rest-json"},operations:{AddEventSource:{http:{requestUri:"/2014-11-13/event-source-mappings/"},input:{type:"structure",required:["EventSource","FunctionName","Role"],members:{EventSource:{},FunctionName:{},Role:{},BatchSize:{type:"integer"},Parameters:{shape:"S6"}}},output:{shape:"S7"}},DeleteFunction:{http:{method:"DELETE",requestUri:"/2014-11-13/functions/{FunctionName}",responseCode:204},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"}}}},GetEventSource:{http:{method:"GET",requestUri:"/2014-11-13/event-source-mappings/{UUID}",responseCode:200},input:{type:"structure",required:["UUID"],members:{UUID:{location:"uri",locationName:"UUID"}}},output:{shape:"S7"}},GetFunction:{http:{method:"GET",requestUri:"/2014-11-13/functions/{FunctionName}",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"}}},output:{type:"structure",members:{Configuration:{shape:"Se"},Code:{type:"structure",members:{RepositoryType:{},Location:{}}}}}},GetFunctionConfiguration:{http:{method:"GET",requestUri:"/2014-11-13/functions/{FunctionName}/configuration",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"}}},output:{shape:"Se"}},InvokeAsync:{http:{requestUri:"/2014-11-13/functions/{FunctionName}/invoke-async/",responseCode:202},input:{type:"structure",required:["FunctionName","InvokeArgs"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},InvokeArgs:{shape:"Sq"}},payload:"InvokeArgs"},output:{type:"structure",members:{Status:{location:"statusCode",type:"integer"}}}},ListEventSources:{http:{method:"GET",requestUri:"/2014-11-13/event-source-mappings/",responseCode:200},input:{type:"structure",members:{EventSourceArn:{location:"querystring",locationName:"EventSource"},FunctionName:{location:"querystring",locationName:"FunctionName"},Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},EventSources:{type:"list",member:{shape:"S7"}}}}},ListFunctions:{http:{method:"GET",requestUri:"/2014-11-13/functions/",responseCode:200},input:{type:"structure",members:{Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},Functions:{type:"list",member:{shape:"Se"}}}}},RemoveEventSource:{http:{method:"DELETE",requestUri:"/2014-11-13/event-source-mappings/{UUID}",responseCode:204},input:{type:"structure",required:["UUID"],members:{UUID:{location:"uri",locationName:"UUID"}}}},UpdateFunctionConfiguration:{http:{method:"PUT",requestUri:"/2014-11-13/functions/{FunctionName}/configuration",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Role:{location:"querystring",locationName:"Role"},Handler:{location:"querystring",locationName:"Handler"},Description:{location:"querystring",locationName:"Description"},Timeout:{location:"querystring",locationName:"Timeout",type:"integer"},MemorySize:{location:"querystring",locationName:"MemorySize",type:"integer"}}},output:{shape:"Se"}},UploadFunction:{http:{method:"PUT",requestUri:"/2014-11-13/functions/{FunctionName}",responseCode:201},input:{type:"structure",required:["FunctionName","FunctionZip","Runtime","Role","Handler","Mode"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},FunctionZip:{shape:"Sq"},Runtime:{location:"querystring",locationName:"Runtime"},Role:{location:"querystring",locationName:"Role"},Handler:{location:"querystring",locationName:"Handler"},Mode:{location:"querystring",locationName:"Mode"},Description:{location:"querystring",locationName:"Description"},Timeout:{location:"querystring",locationName:"Timeout",type:"integer"},MemorySize:{location:"querystring",locationName:"MemorySize",type:"integer"}},payload:"FunctionZip"},output:{shape:"Se"}}},shapes:{S6:{type:"map",key:{},value:{}},S7:{type:"structure",members:{UUID:{},BatchSize:{type:"integer"},EventSource:{},FunctionName:{},Parameters:{shape:"S6"},Role:{},LastModified:{type:"timestamp"},IsActive:{type:"boolean"},Status:{}}},Se:{type:"structure",members:{FunctionName:{},FunctionARN:{},ConfigurationId:{},Runtime:{},Role:{},Handler:{},Mode:{},CodeSize:{type:"long"},Description:{},Timeout:{type:"integer"},MemorySize:{type:"integer"},LastModified:{type:"timestamp"}}},Sq:{type:"blob",streaming:!0}}}},function(module,exports){module.exports={pagination:{ListEventSources:{input_token:"Marker",output_token:"NextMarker",limit_key:"MaxItems",result_key:"EventSources"},ListFunctions:{input_token:"Marker",output_token:"NextMarker",limit_key:"MaxItems",result_key:"Functions"}}}},function(module,exports){module.exports={version:"2.0",metadata:{apiVersion:"2015-03-31",endpointPrefix:"lambda",protocol:"rest-json",serviceFullName:"AWS Lambda",signatureVersion:"v4",uid:"lambda-2015-03-31"},operations:{AddPermission:{http:{requestUri:"/2015-03-31/functions/{FunctionName}/policy",responseCode:201},input:{type:"structure",required:["FunctionName","StatementId","Action","Principal"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},StatementId:{},Action:{},Principal:{},SourceArn:{},SourceAccount:{},EventSourceToken:{},Qualifier:{location:"querystring",locationName:"Qualifier"}}},output:{type:"structure",members:{Statement:{}}}},CreateAlias:{http:{requestUri:"/2015-03-31/functions/{FunctionName}/aliases",responseCode:201},input:{type:"structure",required:["FunctionName","Name","FunctionVersion"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Name:{},FunctionVersion:{},Description:{}}},output:{shape:"Sg"}},CreateEventSourceMapping:{http:{requestUri:"/2015-03-31/event-source-mappings/",responseCode:202},input:{type:"structure",required:["EventSourceArn","FunctionName","StartingPosition"],members:{EventSourceArn:{},FunctionName:{},Enabled:{type:"boolean"},BatchSize:{type:"integer"},StartingPosition:{},StartingPositionTimestamp:{type:"timestamp"}}},output:{shape:"Sn"}},CreateFunction:{http:{requestUri:"/2015-03-31/functions",responseCode:201},input:{type:"structure",required:["FunctionName","Runtime","Role","Handler","Code"],members:{FunctionName:{},Runtime:{},Role:{},Handler:{},Code:{type:"structure",members:{ZipFile:{shape:"St"},S3Bucket:{},S3Key:{},S3ObjectVersion:{}}},Description:{},Timeout:{type:"integer"},MemorySize:{type:"integer"},Publish:{type:"boolean"},VpcConfig:{shape:"S10"},DeadLetterConfig:{shape:"S15"},Environment:{shape:"S17"},KMSKeyArn:{},TracingConfig:{shape:"S1c"},Tags:{shape:"S1e"}}},output:{shape:"S1h"}},DeleteAlias:{http:{method:"DELETE",requestUri:"/2015-03-31/functions/{FunctionName}/aliases/{Name}",responseCode:204},input:{type:"structure",required:["FunctionName","Name"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Name:{location:"uri",locationName:"Name"}}}},DeleteEventSourceMapping:{http:{method:"DELETE",requestUri:"/2015-03-31/event-source-mappings/{UUID}",responseCode:202},input:{type:"structure",required:["UUID"],members:{UUID:{location:"uri",locationName:"UUID"}}},output:{shape:"Sn"}},DeleteFunction:{http:{method:"DELETE",requestUri:"/2015-03-31/functions/{FunctionName}",responseCode:204},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Qualifier:{location:"querystring",locationName:"Qualifier"}}}},GetAccountSettings:{http:{method:"GET",requestUri:"/2016-08-19/account-settings/",responseCode:200},input:{type:"structure",members:{}},output:{type:"structure",members:{AccountLimit:{type:"structure",members:{TotalCodeSize:{type:"long"},CodeSizeUnzipped:{type:"long"},CodeSizeZipped:{type:"long"},ConcurrentExecutions:{type:"integer"}}},AccountUsage:{type:"structure",members:{TotalCodeSize:{type:"long"},FunctionCount:{type:"long"}}}}}},GetAlias:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}/aliases/{Name}",responseCode:200},input:{type:"structure",required:["FunctionName","Name"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Name:{location:"uri",locationName:"Name"}}},output:{shape:"Sg"}},GetEventSourceMapping:{http:{method:"GET",requestUri:"/2015-03-31/event-source-mappings/{UUID}",responseCode:200},input:{type:"structure",required:["UUID"],members:{UUID:{location:"uri",locationName:"UUID"}}},output:{shape:"Sn"}},GetFunction:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Qualifier:{location:"querystring",locationName:"Qualifier"}}},output:{type:"structure",members:{Configuration:{shape:"S1h"},Code:{type:"structure",members:{RepositoryType:{},Location:{}}},Tags:{shape:"S1e"}}}},GetFunctionConfiguration:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}/configuration",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Qualifier:{location:"querystring",locationName:"Qualifier"}}},output:{shape:"S1h"}},GetPolicy:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}/policy",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Qualifier:{location:"querystring",locationName:"Qualifier"}}},output:{type:"structure",members:{Policy:{}}}},Invoke:{http:{requestUri:"/2015-03-31/functions/{FunctionName}/invocations"},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},InvocationType:{location:"header",locationName:"X-Amz-Invocation-Type"},LogType:{location:"header",locationName:"X-Amz-Log-Type"},ClientContext:{location:"header",locationName:"X-Amz-Client-Context"},Payload:{shape:"St"},Qualifier:{location:"querystring",locationName:"Qualifier"}},payload:"Payload"},output:{type:"structure",members:{StatusCode:{location:"statusCode",type:"integer"},FunctionError:{location:"header",locationName:"X-Amz-Function-Error"},LogResult:{location:"header",locationName:"X-Amz-Log-Result"},Payload:{shape:"St"}},payload:"Payload"}},InvokeAsync:{http:{requestUri:"/2014-11-13/functions/{FunctionName}/invoke-async/",responseCode:202},input:{type:"structure",required:["FunctionName","InvokeArgs"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},InvokeArgs:{type:"blob",streaming:!0}},deprecated:!0,payload:"InvokeArgs"},output:{type:"structure",members:{Status:{location:"statusCode",type:"integer"}},deprecated:!0},deprecated:!0},ListAliases:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}/aliases",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},FunctionVersion:{location:"querystring",locationName:"FunctionVersion"},Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},Aliases:{type:"list",member:{shape:"Sg"}}}}},ListEventSourceMappings:{http:{method:"GET",requestUri:"/2015-03-31/event-source-mappings/",responseCode:200},input:{type:"structure",members:{EventSourceArn:{location:"querystring",locationName:"EventSourceArn"},FunctionName:{location:"querystring",locationName:"FunctionName"},Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},EventSourceMappings:{type:"list",member:{shape:"Sn"}}}}},ListFunctions:{http:{method:"GET",requestUri:"/2015-03-31/functions/",responseCode:200},input:{type:"structure",members:{Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},Functions:{shape:"S2n"}}}},ListTags:{http:{method:"GET",requestUri:"/2017-03-31/tags/{ARN}"},input:{type:"structure",required:["Resource"],members:{Resource:{location:"uri",locationName:"ARN"}}},output:{type:"structure",members:{Tags:{shape:"S1e"}}}},ListVersionsByFunction:{http:{method:"GET",requestUri:"/2015-03-31/functions/{FunctionName}/versions",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Marker:{location:"querystring",locationName:"Marker"},MaxItems:{location:"querystring",locationName:"MaxItems",type:"integer"}}},output:{type:"structure",members:{NextMarker:{},Versions:{shape:"S2n"}}}},PublishVersion:{http:{requestUri:"/2015-03-31/functions/{FunctionName}/versions",responseCode:201},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},CodeSha256:{},Description:{}}},output:{shape:"S1h"}},RemovePermission:{http:{method:"DELETE",requestUri:"/2015-03-31/functions/{FunctionName}/policy/{StatementId}",responseCode:204},input:{type:"structure",required:["FunctionName","StatementId"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},StatementId:{location:"uri",locationName:"StatementId"},Qualifier:{location:"querystring",locationName:"Qualifier"}}}},TagResource:{http:{requestUri:"/2017-03-31/tags/{ARN}",responseCode:204},input:{type:"structure",required:["Resource","Tags"],members:{Resource:{location:"uri",locationName:"ARN"},Tags:{shape:"S1e"}}}},UntagResource:{http:{method:"DELETE",requestUri:"/2017-03-31/tags/{ARN}",responseCode:204},input:{type:"structure",required:["Resource","TagKeys"],members:{Resource:{location:"uri",locationName:"ARN"},TagKeys:{location:"querystring",locationName:"tagKeys",type:"list",member:{}}}}},UpdateAlias:{http:{method:"PUT",requestUri:"/2015-03-31/functions/{FunctionName}/aliases/{Name}",responseCode:200},input:{type:"structure",required:["FunctionName","Name"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Name:{location:"uri",locationName:"Name"},FunctionVersion:{},Description:{}}},output:{shape:"Sg"}},UpdateEventSourceMapping:{http:{method:"PUT",requestUri:"/2015-03-31/event-source-mappings/{UUID}",responseCode:202},input:{type:"structure",required:["UUID"],members:{UUID:{location:"uri",locationName:"UUID"},FunctionName:{},Enabled:{type:"boolean"},BatchSize:{type:"integer"}}},output:{shape:"Sn"}},UpdateFunctionCode:{http:{method:"PUT",requestUri:"/2015-03-31/functions/{FunctionName}/code",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},ZipFile:{shape:"St"},S3Bucket:{},S3Key:{},S3ObjectVersion:{},Publish:{type:"boolean"}}},output:{shape:"S1h"}},UpdateFunctionConfiguration:{http:{method:"PUT",requestUri:"/2015-03-31/functions/{FunctionName}/configuration",responseCode:200},input:{type:"structure",required:["FunctionName"],members:{FunctionName:{location:"uri",locationName:"FunctionName"},Role:{},Handler:{},Description:{},Timeout:{type:"integer"},MemorySize:{type:"integer"},VpcConfig:{shape:"S10"},Environment:{shape:"S17"},Runtime:{},DeadLetterConfig:{shape:"S15"},KMSKeyArn:{},TracingConfig:{shape:"S1c"}}},output:{shape:"S1h"}}},shapes:{Sg:{type:"structure",members:{AliasArn:{},Name:{},FunctionVersion:{},Description:{}}},Sn:{type:"structure",members:{UUID:{},BatchSize:{type:"integer"},EventSourceArn:{},FunctionArn:{},LastModified:{type:"timestamp"},LastProcessingResult:{},State:{},StateTransitionReason:{}}},St:{type:"blob",sensitive:!0},S10:{type:"structure",members:{SubnetIds:{shape:"S11"},SecurityGroupIds:{shape:"S13"}}},S11:{type:"list",member:{}},S13:{type:"list",member:{}},S15:{type:"structure",members:{TargetArn:{}}},S17:{type:"structure",members:{Variables:{shape:"S18"}}},S18:{type:"map",key:{type:"string",sensitive:!0},value:{type:"string",sensitive:!0},sensitive:!0},S1c:{type:"structure",members:{Mode:{}}},S1e:{type:"map",key:{},value:{}},S1h:{type:"structure",members:{FunctionName:{},FunctionArn:{},Runtime:{},Role:{},Handler:{},CodeSize:{type:"long"},Description:{},Timeout:{type:"integer"},MemorySize:{type:"integer"},LastModified:{},CodeSha256:{},Version:{},VpcConfig:{type:"structure",members:{SubnetIds:{shape:"S11"},SecurityGroupIds:{shape:"S13"},VpcId:{}}},DeadLetterConfig:{shape:"S15"},Environment:{type:"structure",members:{Variables:{shape:"S18"},Error:{type:"structure",members:{ErrorCode:{},Message:{type:"string",sensitive:!0}}}}},KMSKeyArn:{},TracingConfig:{type:"structure",members:{Mode:{}}}}},S2n:{type:"list",member:{shape:"S1h"}}}}},function(module,exports){module.exports={pagination:{ListEventSourceMappings:{input_token:"Marker",limit_key:"MaxItems",output_token:"NextMarker",result_key:"EventSourceMappings"},ListFunctions:{input_token:"Marker",limit_key:"MaxItems",output_token:"NextMarker",result_key:"Functions"}}}},function(module,exports){module.exports={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory"},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild"},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS"},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM"},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay"},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"},codestar:{name:"CodeStar"},lexmodelbuildingservice:{prefix:"lex-models",name:"LexModelBuildingService"}}},function(module,exports){module.exports={version:"2.0",metadata:{apiVersion:"2012-11-05",endpointPrefix:"sqs",protocol:"query",serviceAbbreviation:"Amazon SQS",serviceFullName:"Amazon Simple Queue Service",signatureVersion:"v4",uid:"sqs-2012-11-05",xmlNamespace:"http://queue.amazonaws.com/doc/2012-11-05/"},operations:{AddPermission:{input:{type:"structure",required:["QueueUrl","Label","AWSAccountIds","Actions"],members:{QueueUrl:{},Label:{},AWSAccountIds:{type:"list",member:{locationName:"AWSAccountId"},flattened:!0},Actions:{type:"list",member:{locationName:"ActionName"},flattened:!0}}}},ChangeMessageVisibility:{input:{type:"structure",required:["QueueUrl","ReceiptHandle","VisibilityTimeout"],members:{QueueUrl:{},ReceiptHandle:{},VisibilityTimeout:{type:"integer"}}}},ChangeMessageVisibilityBatch:{input:{type:"structure",required:["QueueUrl","Entries"],members:{QueueUrl:{},Entries:{type:"list",member:{locationName:"ChangeMessageVisibilityBatchRequestEntry",type:"structure",required:["Id","ReceiptHandle"],members:{Id:{},ReceiptHandle:{},VisibilityTimeout:{type:"integer"}}},flattened:!0}}},output:{resultWrapper:"ChangeMessageVisibilityBatchResult",type:"structure",required:["Successful","Failed"],members:{Successful:{type:"list",member:{locationName:"ChangeMessageVisibilityBatchResultEntry",type:"structure",required:["Id"],members:{Id:{}}},flattened:!0},Failed:{shape:"Sd"}}}},CreateQueue:{input:{type:"structure",required:["QueueName"],members:{QueueName:{},Attributes:{shape:"Sh",locationName:"Attribute"}}},output:{resultWrapper:"CreateQueueResult",type:"structure",members:{QueueUrl:{}}}},DeleteMessage:{input:{type:"structure",required:["QueueUrl","ReceiptHandle"],members:{QueueUrl:{},ReceiptHandle:{}}}},DeleteMessageBatch:{input:{type:"structure",required:["QueueUrl","Entries"],members:{QueueUrl:{},Entries:{type:"list",member:{locationName:"DeleteMessageBatchRequestEntry",type:"structure",required:["Id","ReceiptHandle"],members:{Id:{},ReceiptHandle:{}}},flattened:!0}}},output:{resultWrapper:"DeleteMessageBatchResult",type:"structure",required:["Successful","Failed"],members:{Successful:{type:"list",member:{locationName:"DeleteMessageBatchResultEntry",type:"structure",required:["Id"],members:{Id:{}}},flattened:!0},Failed:{shape:"Sd"}}}},DeleteQueue:{input:{type:"structure",required:["QueueUrl"],members:{QueueUrl:{}}}},GetQueueAttributes:{input:{type:"structure",required:["QueueUrl"],members:{QueueUrl:{},AttributeNames:{shape:"St"}}},output:{resultWrapper:"GetQueueAttributesResult",type:"structure",members:{Attributes:{shape:"Sh",locationName:"Attribute"}}}},GetQueueUrl:{input:{type:"structure",required:["QueueName"],members:{QueueName:{},QueueOwnerAWSAccountId:{}}},output:{resultWrapper:"GetQueueUrlResult",type:"structure",members:{QueueUrl:{}}}},ListDeadLetterSourceQueues:{input:{type:"structure",required:["QueueUrl"],members:{QueueUrl:{}}},output:{resultWrapper:"ListDeadLetterSourceQueuesResult",type:"structure",required:["queueUrls"],members:{queueUrls:{shape:"Sz"}}}},ListQueues:{input:{type:"structure",members:{QueueNamePrefix:{}}},output:{resultWrapper:"ListQueuesResult",type:"structure",members:{QueueUrls:{shape:"Sz"}}}},PurgeQueue:{input:{type:"structure",required:["QueueUrl"],members:{QueueUrl:{}}}},ReceiveMessage:{input:{type:"structure",required:["QueueUrl"],members:{QueueUrl:{},AttributeNames:{shape:"St"},MessageAttributeNames:{type:"list",member:{locationName:"MessageAttributeName"},flattened:!0},MaxNumberOfMessages:{type:"integer"},VisibilityTimeout:{type:"integer"},WaitTimeSeconds:{type:"integer"},ReceiveRequestAttemptId:{}}},output:{resultWrapper:"ReceiveMessageResult",type:"structure",members:{Messages:{type:"list",member:{locationName:"Message",type:"structure",members:{MessageId:{},ReceiptHandle:{},MD5OfBody:{},Body:{},Attributes:{locationName:"Attribute",type:"map",key:{locationName:"Name"},value:{locationName:"Value"},flattened:!0},MD5OfMessageAttributes:{},MessageAttributes:{shape:"S1b",locationName:"MessageAttribute"}}},flattened:!0}}}},RemovePermission:{input:{type:"structure",required:["QueueUrl","Label"],members:{QueueUrl:{},Label:{}}}},SendMessage:{input:{type:"structure",required:["QueueUrl","MessageBody"],members:{QueueUrl:{},MessageBody:{},DelaySeconds:{type:"integer"},MessageAttributes:{shape:"S1b",locationName:"MessageAttribute"},MessageDeduplicationId:{},MessageGroupId:{}}},output:{resultWrapper:"SendMessageResult",type:"structure",members:{MD5OfMessageBody:{},MD5OfMessageAttributes:{},MessageId:{},SequenceNumber:{}}}},SendMessageBatch:{input:{type:"structure",required:["QueueUrl","Entries"],members:{QueueUrl:{},Entries:{type:"list",member:{locationName:"SendMessageBatchRequestEntry",type:"structure",required:["Id","MessageBody"],members:{Id:{},MessageBody:{},DelaySeconds:{type:"integer"},MessageAttributes:{shape:"S1b",locationName:"MessageAttribute"},MessageDeduplicationId:{},MessageGroupId:{}}},flattened:!0}}},output:{resultWrapper:"SendMessageBatchResult",type:"structure",required:["Successful","Failed"],members:{Successful:{type:"list",member:{locationName:"SendMessageBatchResultEntry",type:"structure",required:["Id","MessageId","MD5OfMessageBody"],members:{Id:{},MessageId:{},MD5OfMessageBody:{},MD5OfMessageAttributes:{},SequenceNumber:{}}},flattened:!0},Failed:{shape:"Sd"}}}},SetQueueAttributes:{input:{type:"structure",required:["QueueUrl","Attributes"],members:{QueueUrl:{},Attributes:{shape:"Sh",locationName:"Attribute"}}}}},shapes:{Sd:{type:"list",member:{locationName:"BatchResultErrorEntry",type:"structure",required:["Id","SenderFault","Code"],members:{Id:{},SenderFault:{type:"boolean"},Code:{},Message:{}}},flattened:!0},Sh:{type:"map",key:{locationName:"Name"},value:{locationName:"Value"},flattened:!0,locationName:"Attribute"},St:{type:"list",member:{locationName:"AttributeName"},flattened:!0},Sz:{type:"list",member:{locationName:"QueueUrl"},flattened:!0},S1b:{type:"map",key:{locationName:"Name"},value:{locationName:"Value",type:"structure",required:["DataType"],members:{StringValue:{},BinaryValue:{type:"blob"},StringListValues:{flattened:!0,locationName:"StringListValue",type:"list",member:{locationName:"StringListValue"}},BinaryListValues:{flattened:!0,locationName:"BinaryListValue",type:"list",member:{locationName:"BinaryListValue",type:"blob"}},DataType:{}}},flattened:!0}}}},function(module,exports){module.exports={pagination:{ListQueues:{result_key:"QueueUrls"}}}},function(module,exports){module.exports={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},Policy:{},DurationSeconds:{type:"integer"},ExternalId:{},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Sa"},AssumedRoleUser:{shape:"Sf"},PackedPolicySize:{type:"integer"}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Sa"},AssumedRoleUser:{shape:"Sf"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{},ProviderId:{},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Sa"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sf"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Sa"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Sa"}}}}},shapes:{Sa:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{},SessionToken:{},Expiration:{type:"timestamp"}}},Sf:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}}},function(module,exports,__webpack_require__){__webpack_require__(31);var AWS=__webpack_require__(1);"undefined"!=typeof window&&(window.AWS=AWS),module.exports=AWS,"undefined"!=typeof self&&(self.AWS=AWS)},function(module,exports,__webpack_require__){__webpack_require__(31);var AWS=__webpack_require__(1),Service=__webpack_require__(32),apiLoader=__webpack_require__(30);apiLoader.services.cognitosync={},AWS.CognitoSync=Service.defineService("cognitosync",["2014-06-30"]),Object.defineProperty(apiLoader.services.cognitosync,"2014-06-30",{get:function(){return __webpack_require__(261)},enumerable:!0,configurable:!0}),module.exports=AWS.CognitoSync},function(module,exports,__webpack_require__){__webpack_require__(31);var AWS=__webpack_require__(1),Service=__webpack_require__(32),apiLoader=__webpack_require__(30);apiLoader.services.lambda={},AWS.Lambda=Service.defineService("lambda",["2014-11-11","2015-03-31"]),__webpack_require__(289),Object.defineProperty(apiLoader.services.lambda,"2014-11-11",{get:function(){var model=__webpack_require__(262);return model.paginators=__webpack_require__(263).pagination,model},enumerable:!0,configurable:!0}),Object.defineProperty(apiLoader.services.lambda,"2015-03-31",{get:function(){var model=__webpack_require__(264);return model.paginators=__webpack_require__(265).pagination,model},enumerable:!0,configurable:!0}),module.exports=AWS.Lambda},function(module,exports,__webpack_require__){__webpack_require__(31);var AWS=__webpack_require__(1),Service=__webpack_require__(32),apiLoader=__webpack_require__(30);apiLoader.services.sqs={},AWS.SQS=Service.defineService("sqs",["2012-11-05"]),__webpack_require__(290),Object.defineProperty(apiLoader.services.sqs,"2012-11-05",{get:function(){var model=__webpack_require__(267);return model.paginators=__webpack_require__(268).pagination,model},enumerable:!0,configurable:!0}),module.exports=AWS.SQS},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1);__webpack_require__(131),__webpack_require__(132);var PromisesDependency;AWS.Config=AWS.util.inherit({constructor:function(options){void 0===options&&(options={}),options=this.extractCredentials(options),AWS.util.each.call(this,this.keys,function(key,value){this.set(key,options[key],value)})},getCredentials:function(callback){function finish(err){callback(err,err?null:self.credentials)}function credError(msg,err){return new AWS.util.error(err||new Error,{code:"CredentialsError",message:msg,name:"CredentialsError"})}var self=this;self.credentials?"function"==typeof self.credentials.get?function(){self.credentials.get(function(err){err&&(err=credError("Could not load credentials from "+self.credentials.constructor.name,err)),finish(err)})}():function(){var err=null;self.credentials.accessKeyId&&self.credentials.secretAccessKey||(err=credError("Missing credentials")),finish(err)}():self.credentialProvider?self.credentialProvider.resolve(function(err,creds){err&&(err=credError("Could not load credentials from any providers",err)),self.credentials=creds,finish(err)}):finish(credError("No credentials to load"))},update:function(options,allowUnknownKeys){allowUnknownKeys=allowUnknownKeys||!1,options=this.extractCredentials(options),AWS.util.each.call(this,options,function(key,value){(allowUnknownKeys||Object.prototype.hasOwnProperty.call(this.keys,key)||AWS.Service.hasService(key))&&this.set(key,value)})},loadFromPath:function(path){this.clear();var options=JSON.parse(AWS.util.readFileSync(path)),fileSystemCreds=new AWS.FileSystemCredentials(path),chain=new AWS.CredentialProviderChain;return chain.providers.unshift(fileSystemCreds),chain.resolve(function(err,creds){if(err)throw err;options.credentials=creds}),this.constructor(options),this},clear:function(){AWS.util.each.call(this,this.keys,function(key){delete this[key]}),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(property,value,defaultValue){void 0===value?(void 0===defaultValue&&(defaultValue=this.keys[property]),this[property]="function"==typeof defaultValue?defaultValue.call(this):defaultValue):"httpOptions"===property&&this[property]?this[property]=AWS.util.merge(this[property],value):this[property]=value},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1},extractCredentials:function(options){return options.accessKeyId&&options.secretAccessKey&&(options=AWS.util.copy(options),options.credentials=new AWS.Credentials(options)),options},setPromisesDependency:function(dep){PromisesDependency=dep,null===dep&&"function"==typeof Promise&&(PromisesDependency=Promise);var constructors=[AWS.Request,AWS.Credentials,AWS.CredentialProviderChain];AWS.S3&&AWS.S3.ManagedUpload&&constructors.push(AWS.S3.ManagedUpload),AWS.util.addPromises(constructors,PromisesDependency)},getPromisesDependency:function(){return PromisesDependency}}),AWS.config=new AWS.Config},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),CognitoIdentity=__webpack_require__(130),STS=__webpack_require__(59);AWS.CognitoIdentityCredentials=AWS.util.inherit(AWS.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(params,clientConfig){AWS.Credentials.call(this),this.expired=!0,this.params=params,this.data=null,this._identityId=null,this._clientConfig=AWS.util.copy(clientConfig||{}),this.loadCachedId();var self=this;Object.defineProperty(this,"identityId",{get:function(){return self.loadCachedId(),self._identityId||self.params.IdentityId},set:function(identityId){self._identityId=identityId}})},refresh:function(callback){var self=this;self.createClients(),self.data=null,self._identityId=null,self.getId(function(err){err?(self.clearIdOnNotAuthorized(err),callback(err)):self.params.RoleArn?self.getCredentialsFromSTS(callback):self.getCredentialsForIdentity(callback)})},clearCachedId:function(){this._identityId=null,delete this.params.IdentityId;var poolId=this.params.IdentityPoolId,loginId=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+poolId+loginId],delete this.storage[this.localStorageKey.providers+poolId+loginId]},clearIdOnNotAuthorized:function(err){var self=this;"NotAuthorizedException"==err.code&&self.clearCachedId()},getId:function(callback){var self=this;if("string"==typeof self.params.IdentityId)return callback(null,self.params.IdentityId);self.cognito.getId(function(err,data){!err&&data.IdentityId?(self.params.IdentityId=data.IdentityId,callback(null,data.IdentityId)):callback(err)})},loadCredentials:function(data,credentials){data&&credentials&&(credentials.expired=!1,credentials.accessKeyId=data.Credentials.AccessKeyId,credentials.secretAccessKey=data.Credentials.SecretKey,credentials.sessionToken=data.Credentials.SessionToken,credentials.expireTime=data.Credentials.Expiration)},getCredentialsForIdentity:function(callback){var self=this;self.cognito.getCredentialsForIdentity(function(err,data){err?self.clearIdOnNotAuthorized(err):(self.cacheId(data),self.data=data,self.loadCredentials(self.data,self)),callback(err)})},getCredentialsFromSTS:function(callback){var self=this;self.cognito.getOpenIdToken(function(err,data){err?(self.clearIdOnNotAuthorized(err),callback(err)):(self.cacheId(data),self.params.WebIdentityToken=data.Token,self.webIdentityCredentials.refresh(function(webErr){webErr||(self.data=self.webIdentityCredentials.data,self.sts.credentialsFrom(self.data,self)),callback(webErr)}))})},loadCachedId:function(){var self=this;if(AWS.util.isBrowser()&&!self.params.IdentityId){var id=self.getStorage("id");if(id&&self.params.Logins){var actualProviders=Object.keys(self.params.Logins);0!==(self.getStorage("providers")||"").split(",").filter(function(n){return-1!==actualProviders.indexOf(n)}).length&&(self.params.IdentityId=id)}else id&&(self.params.IdentityId=id)}},createClients:function(){var clientConfig=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new AWS.WebIdentityCredentials(this.params,clientConfig),!this.cognito){var cognitoConfig=AWS.util.merge({},clientConfig);cognitoConfig.params=this.params,this.cognito=new CognitoIdentity(cognitoConfig)}this.sts=this.sts||new STS(clientConfig)},cacheId:function(data){this._identityId=data.IdentityId,this.params.IdentityId=this._identityId,AWS.util.isBrowser()&&(this.setStorage("id",data.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(key){return this.storage[this.localStorageKey[key]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(key,val){try{this.storage[this.localStorageKey[key]+this.params.IdentityPoolId+(this.params.LoginId||"")]=val}catch(_){}},storage:function(){try{var storage=AWS.util.isBrowser()&&null!==window.localStorage&&"object"==typeof window.localStorage?window.localStorage:{};return storage["aws.test-storage"]="foobar",delete storage["aws.test-storage"],storage}catch(_){return{}}}()})},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),STS=__webpack_require__(59);AWS.SAMLCredentials=AWS.util.inherit(AWS.Credentials,{constructor:function(params){AWS.Credentials.call(this),this.expired=!0,this.params=params},refresh:function(callback){var self=this;self.createClients(),callback||(callback=function(err){if(err)throw err}),self.service.assumeRoleWithSAML(function(err,data){err||self.service.credentialsFrom(data,self),callback(err)})},createClients:function(){this.service=this.service||new STS({params:this.params})}})},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),STS=__webpack_require__(59);AWS.TemporaryCredentials=AWS.util.inherit(AWS.Credentials,{constructor:function(params,masterCredentials){AWS.Credentials.call(this),this.loadMasterCredentials(masterCredentials),this.expired=!0,this.params=params||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(callback){var self=this;self.createClients(),callback||(callback=function(err){if(err)throw err}),self.masterCredentials.get(function(){self.service.config.credentials=self.masterCredentials,(self.params.RoleArn?self.service.assumeRole:self.service.getSessionToken).call(self.service,function(err,data){err||self.service.credentialsFrom(data,self),callback(err)})})},loadMasterCredentials:function(masterCredentials){for(this.masterCredentials=masterCredentials||AWS.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;"function"!=typeof this.masterCredentials.get&&(this.masterCredentials=new AWS.Credentials(this.masterCredentials))},createClients:function(){this.service=this.service||new STS({params:this.params})}})},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),STS=__webpack_require__(59);AWS.WebIdentityCredentials=AWS.util.inherit(AWS.Credentials,{constructor:function(params,clientConfig){AWS.Credentials.call(this),this.expired=!0,this.params=params,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=AWS.util.copy(clientConfig||{})},refresh:function(callback){var self=this;self.createClients(),callback||(callback=function(err){if(err)throw err}),self.service.assumeRoleWithWebIdentity(function(err,data){self.data=null,err||(self.data=data,self.service.credentialsFrom(data,self)),callback(err)})},createClients:function(){if(!this.service){var stsConfig=AWS.util.merge({},this._clientConfig);stsConfig.params=this.params,this.service=new STS(stsConfig)}}})},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),SequentialExecutor=__webpack_require__(142);AWS.EventListeners={Core:{}},AWS.EventListeners={Core:(new SequentialExecutor).addNamedListeners(function(add,addAsync){addAsync("VALIDATE_CREDENTIALS","validate",function(req,done){if(!req.service.api.signatureVersion)return done();req.service.config.getCredentials(function(err){err&&(req.response.error=AWS.util.error(err,{code:"CredentialsError",message:"Missing credentials in config"})),done()})}),add("VALIDATE_REGION","validate",function(req){req.service.config.region||req.service.isGlobalEndpoint||(req.response.error=AWS.util.error(new Error,{code:"ConfigError",message:"Missing region in config"}))}),add("BUILD_IDEMPOTENCY_TOKENS","validate",function(req){var operation=req.service.api.operations[req.operation];if(operation){var idempotentMembers=operation.idempotentMembers;if(idempotentMembers.length){for(var params=AWS.util.copy(req.params),i=0,iLen=idempotentMembers.length;i<iLen;i++)params[idempotentMembers[i]]||(params[idempotentMembers[i]]=AWS.util.uuid.v4());req.params=params}}}),add("VALIDATE_PARAMETERS","validate",function(req){var rules=req.service.api.operations[req.operation].input,validation=req.service.config.paramValidation;new AWS.ParamValidator(validation).validate(rules,req.params)}),addAsync("COMPUTE_SHA256","afterBuild",function(req,done){req.haltHandlersOnError();var operation=req.service.api.operations[req.operation],authtype=operation?operation.authtype:"";if(!req.service.api.signatureVersion&&!authtype)return done();if(req.service.getSignerClass(req)===AWS.Signers.V4){var body=req.httpRequest.body||"";if(authtype.indexOf("unsigned-body")>=0)return req.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",done();AWS.util.computeSha256(body,function(err,sha){err?done(err):(req.httpRequest.headers["X-Amz-Content-Sha256"]=sha,done())})}else done()}),add("SET_CONTENT_LENGTH","afterBuild",function(req){if(void 0===req.httpRequest.headers["Content-Length"]){var length=AWS.util.string.byteLength(req.httpRequest.body);req.httpRequest.headers["Content-Length"]=length}}),add("SET_HTTP_HOST","afterBuild",function(req){req.httpRequest.headers.Host=req.httpRequest.endpoint.host}),add("RESTART","restart",function(){var err=this.response.error;err&&err.retryable&&(this.httpRequest=new AWS.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)}),addAsync("SIGN","sign",function(req,done){var service=req.service,operation=req.service.api.operations[req.operation],authtype=operation?operation.authtype:"";if(!service.api.signatureVersion&&!authtype)return done();service.config.getCredentials(function(err,credentials){if(err)return req.response.error=err,done();try{var date=AWS.util.date.getDate(),SignerClass=service.getSignerClass(req),signer=new SignerClass(req.httpRequest,service.api.signingName||service.api.endpointPrefix,{signatureCache:service.config.signatureCache,operation:operation});signer.setServiceClientId(service._clientId),delete req.httpRequest.headers.Authorization,delete req.httpRequest.headers.Date,delete req.httpRequest.headers["X-Amz-Date"],signer.addAuthorization(credentials,date),req.signedAt=date}catch(e){req.response.error=e}done()})}),add("VALIDATE_RESPONSE","validateResponse",function(resp){this.service.successfulResponse(resp,this)?(resp.data={},resp.error=null):(resp.data=null,resp.error=AWS.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))}),addAsync("SEND","send",function(resp,done){function callback(httpResp){resp.httpResponse.stream=httpResp,httpResp.on("headers",function(statusCode,headers,statusMessage){resp.request.emit("httpHeaders",[statusCode,headers,resp,statusMessage]),resp.httpResponse.streaming||(2===AWS.HttpClient.streamsApiVersion?httpResp.on("readable",function(){var data=httpResp.read();null!==data&&resp.request.emit("httpData",[data,resp])}):httpResp.on("data",function(data){resp.request.emit("httpData",[data,resp])}))}),httpResp.on("end",function(){resp.request.emit("httpDone"),done()})}function progress(httpResp){httpResp.on("sendProgress",function(value){resp.request.emit("httpUploadProgress",[value,resp])}),httpResp.on("receiveProgress",function(value){resp.request.emit("httpDownloadProgress",[value,resp])})}function error(err){resp.error=AWS.util.error(err,{code:"NetworkingError",region:resp.request.httpRequest.region,hostname:resp.request.httpRequest.endpoint.hostname,retryable:!0}),resp.request.emit("httpError",[resp.error,resp],function(){done()})}function executeSend(){var http=AWS.HttpClient.getInstance(),httpOptions=resp.request.service.config.httpOptions||{};try{progress(http.handleRequest(resp.request.httpRequest,httpOptions,callback,error))}catch(err){error(err)}}resp.httpResponse._abortCallback=done,resp.error=null,resp.data=null,(AWS.util.date.getDate()-this.signedAt)/1e3>=600?this.emit("sign",[this],function(err){err?done(err):executeSend()}):executeSend()}),add("HTTP_HEADERS","httpHeaders",function(statusCode,headers,resp,statusMessage){resp.httpResponse.statusCode=statusCode,resp.httpResponse.statusMessage=statusMessage,resp.httpResponse.headers=headers,resp.httpResponse.body=new AWS.util.Buffer(""),resp.httpResponse.buffers=[],resp.httpResponse.numBytes=0;var dateHeader=headers.date||headers.Date;if(dateHeader){var serverTime=Date.parse(dateHeader);resp.request.service.config.correctClockSkew&&AWS.util.isClockSkewed(serverTime)&&AWS.util.applyClockOffset(serverTime)}}),add("HTTP_DATA","httpData",function(chunk,resp){if(chunk){if(AWS.util.isNode()){resp.httpResponse.numBytes+=chunk.length;var total=resp.httpResponse.headers["content-length"],progress={loaded:resp.httpResponse.numBytes,total:total};resp.request.emit("httpDownloadProgress",[progress,resp])}resp.httpResponse.buffers.push(new AWS.util.Buffer(chunk))}}),add("HTTP_DONE","httpDone",function(resp){if(resp.httpResponse.buffers&&resp.httpResponse.buffers.length>0){var body=AWS.util.buffer.concat(resp.httpResponse.buffers);resp.httpResponse.body=body}delete resp.httpResponse.numBytes,delete resp.httpResponse.buffers}),add("FINALIZE_ERROR","retry",function(resp){resp.httpResponse.statusCode&&(resp.error.statusCode=resp.httpResponse.statusCode,void 0===resp.error.retryable&&(resp.error.retryable=this.service.retryableError(resp.error,this)))}),add("INVALIDATE_CREDENTIALS","retry",function(resp){if(resp.error)switch(resp.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":resp.error.retryable=!0,resp.request.service.config.credentials.expired=!0}}),add("EXPIRED_SIGNATURE","retry",function(resp){var err=resp.error;err&&"string"==typeof err.code&&"string"==typeof err.message&&err.code.match(/Signature/)&&err.message.match(/expired/)&&(resp.error.retryable=!0)}),add("CLOCK_SKEWED","retry",function(resp){resp.error&&this.service.clockSkewError(resp.error)&&this.service.config.correctClockSkew&&AWS.config.isClockSkewed&&(resp.error.retryable=!0)}),add("REDIRECT","retry",function(resp){resp.error&&resp.error.statusCode>=300&&resp.error.statusCode<400&&resp.httpResponse.headers.location&&(this.httpRequest.endpoint=new AWS.Endpoint(resp.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,resp.error.redirect=!0,resp.error.retryable=!0)}),add("RETRY_CHECK","retry",function(resp){resp.error&&(resp.error.redirect&&resp.redirectCount<resp.maxRedirects?resp.error.retryDelay=0:resp.retryCount<resp.maxRetries&&(resp.error.retryDelay=this.service.retryDelays(resp.retryCount)||0))}),addAsync("RESET_RETRY_STATE","afterRetry",function(resp,done){var delay,willRetry=!1;resp.error&&(delay=resp.error.retryDelay||0,resp.error.retryable&&resp.retryCount<resp.maxRetries?(resp.retryCount++,willRetry=!0):resp.error.redirect&&resp.redirectCount<resp.maxRedirects&&(resp.redirectCount++,willRetry=!0)),willRetry?(resp.error=null,setTimeout(done,delay)):done()})}),CorePost:(new SequentialExecutor).addNamedListeners(function(add){add("EXTRACT_REQUEST_ID","extractData",AWS.util.extractRequestId),add("EXTRACT_REQUEST_ID","extractError",AWS.util.extractRequestId),add("ENOTFOUND_ERROR","httpError",function(err){if("NetworkingError"===err.code&&"ENOTFOUND"===err.errno){var message="Inaccessible host: `"+err.hostname+"'. This service may not be available in the `"+err.region+"' region.";this.response.error=AWS.util.error(new Error(message),{code:"UnknownEndpoint",region:err.region,hostname:err.hostname,retryable:!0,originalError:err})}})}),Logger:(new SequentialExecutor).addNamedListeners(function(add){add("LOG_REQUEST","complete",function(resp){var req=resp.request,logger=req.service.config.logger;if(logger){var line=function(){var time=AWS.util.date.getDate().getTime(),delta=(time-req.startTime.getTime())/1e3,ansi=!!logger.isTTY,status=resp.httpResponse.statusCode,params=__webpack_require__(20).inspect(req.params,!0,null),message="";return ansi&&(message+="[33m"),message+="[AWS "+req.service.serviceIdentifier+" "+status,message+=" "+delta.toString()+"s "+resp.retryCount+" retries]",ansi&&(message+="[0;1m"),message+=" "+AWS.util.string.lowerFirst(req.operation),message+="("+params+")",ansi&&(message+="[0m"),message}();"function"==typeof logger.log?logger.log(line):"function"==typeof logger.write&&logger.write(line+"\n")}})}),Json:(new SequentialExecutor).addNamedListeners(function(add){var svc=__webpack_require__(82);add("BUILD","build",svc.buildRequest),add("EXTRACT_DATA","extractData",svc.extractData),add("EXTRACT_ERROR","extractError",svc.extractError)}),Rest:(new SequentialExecutor).addNamedListeners(function(add){var svc=__webpack_require__(60);add("BUILD","build",svc.buildRequest),add("EXTRACT_DATA","extractData",svc.extractData),add("EXTRACT_ERROR","extractError",svc.extractError)}),RestJson:(new SequentialExecutor).addNamedListeners(function(add){var svc=__webpack_require__(140);add("BUILD","build",svc.buildRequest),add("EXTRACT_DATA","extractData",svc.extractData),add("EXTRACT_ERROR","extractError",svc.extractError)}),RestXml:(new SequentialExecutor).addNamedListeners(function(add){var svc=__webpack_require__(141);add("BUILD","build",svc.buildRequest),add("EXTRACT_DATA","extractData",svc.extractData),add("EXTRACT_ERROR","extractError",svc.extractError)}),Query:(new SequentialExecutor).addNamedListeners(function(add){var svc=__webpack_require__(139);add("BUILD","build",svc.buildRequest),add("EXTRACT_DATA","extractData",svc.extractData),add("EXTRACT_ERROR","extractError",svc.extractError)})}},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),EventEmitter=__webpack_require__(50).EventEmitter;__webpack_require__(133),AWS.XHRClient=AWS.util.inherit({handleRequest:function(httpRequest,httpOptions,callback,errCallback){var self=this,endpoint=httpRequest.endpoint,emitter=new EventEmitter,href=endpoint.protocol+"//"+endpoint.hostname;80!==endpoint.port&&443!==endpoint.port&&(href+=":"+endpoint.port),href+=httpRequest.path;var xhr=new XMLHttpRequest,headersEmitted=!1;httpRequest.stream=xhr,xhr.addEventListener("readystatechange",function(){try{if(0===xhr.status)return}catch(e){return}if(this.readyState>=this.HEADERS_RECEIVED&&!headersEmitted){try{xhr.responseType="arraybuffer"}catch(e){}emitter.statusCode=xhr.status,emitter.headers=self.parseHeaders(xhr.getAllResponseHeaders()),emitter.emit("headers",emitter.statusCode,emitter.headers,xhr.statusText),headersEmitted=!0}this.readyState===this.DONE&&self.finishRequest(xhr,emitter)},!1),xhr.upload.addEventListener("progress",function(evt){emitter.emit("sendProgress",evt)}),xhr.addEventListener("progress",function(evt){emitter.emit("receiveProgress",evt)},!1),xhr.addEventListener("timeout",function(){errCallback(AWS.util.error(new Error("Timeout"),{code:"TimeoutError"}))},!1),xhr.addEventListener("error",function(){errCallback(AWS.util.error(new Error("Network Failure"),{code:"NetworkingError"}))},!1),xhr.addEventListener("abort",function(){errCallback(AWS.util.error(new Error("Request aborted"),{code:"RequestAbortedError"}))},!1),callback(emitter),xhr.open(httpRequest.method,href,!1!==httpOptions.xhrAsync),AWS.util.each(httpRequest.headers,function(key,value){"Content-Length"!==key&&"User-Agent"!==key&&"Host"!==key&&xhr.setRequestHeader(key,value)}),httpOptions.timeout&&!1!==httpOptions.xhrAsync&&(xhr.timeout=httpOptions.timeout),httpOptions.xhrWithCredentials&&(xhr.withCredentials=!0);try{xhr.send(httpRequest.body)}catch(err){if(!httpRequest.body||"object"!=typeof httpRequest.body.buffer)throw err;xhr.send(httpRequest.body.buffer)}return emitter},parseHeaders:function(rawHeaders){var headers={};return AWS.util.arrayEach(rawHeaders.split(/\r?\n/),function(line){var key=line.split(":",1)[0],value=line.substring(key.length+2);key.length>0&&(headers[key.toLowerCase()]=value)}),headers},finishRequest:function(xhr,emitter){var buffer;if("arraybuffer"===xhr.responseType&&xhr.response){var ab=xhr.response;buffer=new AWS.util.Buffer(ab.byteLength);for(var view=new Uint8Array(ab),i=0;i<buffer.length;++i)buffer[i]=view[i]}try{buffer||"string"!=typeof xhr.responseText||(buffer=new AWS.util.Buffer(xhr.responseText))}catch(e){}buffer&&emitter.emit("data",buffer),emitter.emit("end")}}),AWS.HttpClient.prototype=AWS.XHRClient.prototype,AWS.HttpClient.streamsApiVersion=1},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1);AWS.ParamValidator=AWS.util.inherit({constructor:function(validation){!0!==validation&&void 0!==validation||(validation={min:!0}),this.validation=validation},validate:function(shape,params,context){if(this.errors=[],this.validateMember(shape,params||{},context||"params"),this.errors.length>1){var msg=this.errors.join("\n* ");throw msg="There were "+this.errors.length+" validation errors:\n* "+msg,AWS.util.error(new Error(msg),{code:"MultipleValidationErrors",errors:this.errors})}if(1===this.errors.length)throw this.errors[0];return!0},fail:function(code,message){this.errors.push(AWS.util.error(new Error(message),{code:code}))},validateStructure:function(shape,params,context){this.validateType(params,context,["object"],"structure");for(var paramName,i=0;shape.required&&i<shape.required.length;i++){paramName=shape.required[i];var value=params[paramName];void 0!==value&&null!==value||this.fail("MissingRequiredParameter","Missing required key '"+paramName+"' in "+context)}for(paramName in params)if(Object.prototype.hasOwnProperty.call(params,paramName)){var paramValue=params[paramName],memberShape=shape.members[paramName];if(void 0!==memberShape){var memberContext=[context,paramName].join(".");this.validateMember(memberShape,paramValue,memberContext)}else this.fail("UnexpectedParameter","Unexpected key '"+paramName+"' found in "+context)}return!0},validateMember:function(shape,param,context){switch(shape.type){case"structure":return this.validateStructure(shape,param,context);case"list":return this.validateList(shape,param,context);case"map":return this.validateMap(shape,param,context);default:return this.validateScalar(shape,param,context)}},validateList:function(shape,params,context){if(this.validateType(params,context,[Array])){this.validateRange(shape,params.length,context,"list member count");for(var i=0;i<params.length;i++)this.validateMember(shape.member,params[i],context+"["+i+"]")}},validateMap:function(shape,params,context){if(this.validateType(params,context,["object"],"map")){var mapCount=0;for(var param in params)Object.prototype.hasOwnProperty.call(params,param)&&(this.validateMember(shape.key,param,context+"[key='"+param+"']"),this.validateMember(shape.value,params[param],context+"['"+param+"']"),mapCount++);this.validateRange(shape,mapCount,context,"map member count")}},validateScalar:function(shape,value,context){switch(shape.type){case null:case void 0:case"string":return this.validateString(shape,value,context);case"base64":case"binary":return this.validatePayload(value,context);case"integer":case"float":return this.validateNumber(shape,value,context);case"boolean":return this.validateType(value,context,["boolean"]);case"timestamp":return this.validateType(value,context,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+shape.type+" for "+context)}},validateString:function(shape,value,context){var validTypes=["string"];shape.isJsonValue&&(validTypes=validTypes.concat(["number","object","boolean"])),null!==value&&this.validateType(value,context,validTypes)&&(this.validateEnum(shape,value,context),this.validateRange(shape,value.length,context,"string length"),this.validatePattern(shape,value,context))},validatePattern:function(shape,value,context){this.validation.pattern&&void 0!==shape.pattern&&(new RegExp(shape.pattern).test(value)||this.fail("PatternMatchError",'Provided value "'+value+'" does not match regex pattern /'+shape.pattern+"/ for "+context))},validateRange:function(shape,value,context,descriptor){this.validation.min&&void 0!==shape.min&&value<shape.min&&this.fail("MinRangeError","Expected "+descriptor+" >= "+shape.min+", but found "+value+" for "+context),this.validation.max&&void 0!==shape.max&&value>shape.max&&this.fail("MaxRangeError","Expected "+descriptor+" <= "+shape.max+", but found "+value+" for "+context)},validateEnum:function(shape,value,context){this.validation.enum&&void 0!==shape.enum&&-1===shape.enum.indexOf(value)&&this.fail("EnumError","Found string value of "+value+", but expected "+shape.enum.join("|")+" for "+context)},validateType:function(value,context,acceptedTypes,type){if(null===value||void 0===value)return!1;for(var foundInvalidType=!1,i=0;i<acceptedTypes.length;i++){if("string"==typeof acceptedTypes[i]){if(typeof value===acceptedTypes[i])return!0}else if(acceptedTypes[i]instanceof RegExp){if((value||"").toString().match(acceptedTypes[i]))return!0}else{if(value instanceof acceptedTypes[i])return!0;if(AWS.util.isType(value,acceptedTypes[i]))return!0;type||foundInvalidType||(acceptedTypes=acceptedTypes.slice()),acceptedTypes[i]=AWS.util.typeName(acceptedTypes[i])}foundInvalidType=!0}var acceptedType=type;acceptedType||(acceptedType=acceptedTypes.join(", ").replace(/,([^,]+)$/,", or$1"));var vowel=acceptedType.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+context+" to be a"+vowel+" "+acceptedType),!1},validateNumber:function(shape,value,context){if(null!==value&&void 0!==value){if("string"==typeof value){var castedValue=parseFloat(value);castedValue.toString()===value&&(value=castedValue)}this.validateType(value,context,["number"])&&this.validateRange(shape,value,context,"numeric value")}},validatePayload:function(value,context){if(null!==value&&void 0!==value&&"string"!=typeof value&&(!value||"number"!=typeof value.byteLength)){if(AWS.util.isNode()){var Stream=AWS.util.stream.Stream;if(AWS.util.Buffer.isBuffer(value)||value instanceof Stream)return}var types=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(value)for(var i=0;i<types.length;i++){if(AWS.util.isType(value,types[i]))return;if(AWS.util.typeName(value.constructor)===types[i])return}this.fail("InvalidParameterType","Expected "+context+" to be a string, Buffer, Stream, Blob, or typed array object")}}})},function(module,exports,__webpack_require__){function QueryParamSerializer(){}function ucfirst(shape){return shape.isQueryName||"ec2"!==shape.api.protocol?shape.name:shape.name[0].toUpperCase()+shape.name.substr(1)}function serializeStructure(prefix,struct,rules,fn){util.each(rules.members,function(name,member){var value=struct[name];if(null!==value&&void 0!==value){var memberName=ucfirst(member);memberName=prefix?prefix+"."+memberName:memberName,serializeMember(memberName,value,member,fn)}})}function serializeMap(name,map,rules,fn){var i=1;util.each(map,function(key,value){var prefix=rules.flattened?".":".entry.",position=prefix+i+++".",keyName=position+(rules.key.name||"key"),valueName=position+(rules.value.name||"value");serializeMember(name+keyName,key,rules.key,fn),serializeMember(name+valueName,value,rules.value,fn)})}function serializeList(name,list,rules,fn){var memberRules=rules.member||{};if(0===list.length)return void fn.call(this,name,null);util.arrayEach(list,function(v,n){var suffix="."+(n+1);if("ec2"===rules.api.protocol)suffix+="";else if(rules.flattened){if(memberRules.name){var parts=name.split(".");parts.pop(),parts.push(ucfirst(memberRules)),name=parts.join(".")}}else suffix="."+(memberRules.name?memberRules.name:"member")+suffix;serializeMember(name+suffix,v,memberRules,fn)})}function serializeMember(name,value,rules,fn){null!==value&&void 0!==value&&("structure"===rules.type?serializeStructure(name,value,rules,fn):"list"===rules.type?serializeList(name,value,rules,fn):"map"===rules.type?serializeMap(name,value,rules,fn):fn(name,rules.toWireFormat(value).toString()))}var util=__webpack_require__(5);QueryParamSerializer.prototype.serialize=function(params,shape,fn){serializeStructure("",params,shape,fn)},module.exports=QueryParamSerializer},function(module,exports,__webpack_require__){function generateRegionPrefix(region){if(!region)return null;var parts=region.split("-");return parts.length<3?null:parts.slice(0,parts.length-2).join("-")+"-*"}function derivedKeys(service){var region=service.config.region,regionPrefix=generateRegionPrefix(region),endpointPrefix=service.api.endpointPrefix;return[[region,endpointPrefix],[regionPrefix,endpointPrefix],[region,"*"],[regionPrefix,"*"],["*",endpointPrefix],["*","*"]].map(function(item){return item[0]&&item[1]?item.join("/"):null})}function applyConfig(service,config){util.each(config,function(key,value){"globalEndpoint"!==key&&(void 0!==service.config[key]&&null!==service.config[key]||(service.config[key]=value))})}function configureEndpoint(service){for(var keys=derivedKeys(service),i=0;i<keys.length;i++){var key=keys[i];if(key&&Object.prototype.hasOwnProperty.call(regionConfig.rules,key)){var config=regionConfig.rules[key];return"string"==typeof config&&(config=regionConfig.patterns[config]),service.config.useDualstack&&util.isDualstackAvailable(service)&&(config=util.copy(config),config.endpoint="{service}.dualstack.{region}.amazonaws.com"),service.isGlobalEndpoint=!!config.globalEndpoint,config.signatureVersion||(config.signatureVersion="v4"),void applyConfig(service,config)}}}var util=__webpack_require__(5),regionConfig=__webpack_require__(284);module.exports=configureEndpoint},function(module,exports){module.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/iam":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":{endpoint:"https://{service}.amazonaws.com",signatureVersion:"v3https",globalEndpoint:!0},"*/waf":"globalSSL","us-gov-*/iam":"globalGovCloud","us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3dash","us-west-1/s3":"s3dash","us-west-2/s3":"s3dash","eu-west-1/s3":"s3dash","ap-southeast-1/s3":"s3dash","ap-southeast-2/s3":"s3dash","ap-northeast-1/s3":"s3dash","sa-east-1/s3":"s3dash","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"}},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com"},s3dash:{endpoint:"{service}-{region}.amazonaws.com",signatureVersion:"s3"}}}},function(module,exports,__webpack_require__){(function(process){function isTerminalState(machine){return Object.prototype.hasOwnProperty.call(hardErrorStates,machine._asm.currentState)}var AWS=__webpack_require__(1),AcceptorStateMachine=__webpack_require__(299),inherit=AWS.util.inherit,domain=AWS.util.domain,jmespath=__webpack_require__(102),hardErrorStates={success:1,error:1,complete:1},fsm=new AcceptorStateMachine;fsm.setupStates=function(){var transition=function(_,done){var self=this;self._haltHandlersOnError=!1,self.emit(self._asm.currentState,function(err){if(err)if(isTerminalState(self)){if(!(domain&&self.domain instanceof domain.Domain))throw err;err.domainEmitter=self,err.domain=self.domain,err.domainThrown=!1,self.domain.emit("error",err)}else self.response.error=err,done(err);else done(self.response.error)})};this.addState("validate","build","error",transition),this.addState("build","afterBuild","restart",transition),this.addState("afterBuild","sign","restart",transition),this.addState("sign","send","retry",transition),this.addState("retry","afterRetry","afterRetry",transition),this.addState("afterRetry","sign","error",transition),this.addState("send","validateResponse","retry",transition),this.addState("validateResponse","extractData","extractError",transition),this.addState("extractError","extractData","retry",transition),this.addState("extractData","success","retry",transition),this.addState("restart","build","error",transition),this.addState("success","complete","complete",transition),this.addState("error","complete","complete",transition),this.addState("complete",null,null,transition)},fsm.setupStates(),AWS.Request=inherit({constructor:function(service,operation,params){var endpoint=service.endpoint,region=service.config.region,customUserAgent=service.config.customUserAgent;service.isGlobalEndpoint&&(region="us-east-1"),this.domain=domain&&domain.active,this.service=service,this.operation=operation,this.params=params||{},this.httpRequest=new AWS.HttpRequest(endpoint,region),this.httpRequest.appendToUserAgent(customUserAgent),this.startTime=AWS.util.date.getDate(),this.response=new AWS.Response(this),this._asm=new AcceptorStateMachine(fsm.states,"validate"),this._haltHandlersOnError=!1,AWS.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(callback){return callback&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",function(resp){callback.call(resp,resp.error,resp.data)})),this.runTo(),this.response},build:function(callback){return this.runTo("send",callback)},runTo:function(state,done){return this._asm.runTo(state,done,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",function(resp){resp.error=AWS.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})}),this.httpRequest.stream&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(callback){function wrappedCallback(response){callback.call(response,response.error,response.data,function(result){!1!==result&&(response.hasNextPage()?response.nextPage().on("complete",wrappedCallback).send():callback.call(response,null,null,AWS.util.fn.noop))})}callback=AWS.util.fn.makeAsync(callback,3),this.on("complete",wrappedCallback).send()},eachItem:function(callback){function wrappedCallback(err,data){if(err)return callback(err,null);if(null===data)return callback(null,null);var config=self.service.paginationConfig(self.operation),resultKey=config.resultKey;Array.isArray(resultKey)&&(resultKey=resultKey[0]);var items=jmespath.search(data,resultKey),continueIteration=!0;return AWS.util.arrayEach(items,function(item){if(!1===(continueIteration=callback(null,item)))return AWS.util.abort}),continueIteration}var self=this;this.eachPage(wrappedCallback)},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var streams=AWS.util.stream,req=this,stream=null;return 2===AWS.HttpClient.streamsApiVersion?(stream=new streams.PassThrough,req.send()):(stream=new streams.Stream,stream.readable=!0,stream.sent=!1,stream.on("newListener",function(event){stream.sent||"data"!==event||(stream.sent=!0,process.nextTick(function(){req.send()}))})),this.on("httpHeaders",function(statusCode,headers,resp){if(statusCode<300){req.removeListener("httpData",AWS.EventListeners.Core.HTTP_DATA),req.removeListener("httpError",AWS.EventListeners.Core.HTTP_ERROR),req.on("httpError",function(error){resp.error=error,resp.error.retryable=!1});var expectedLen,shouldCheckContentLength=!1;if("HEAD"!==req.httpRequest.method&&(expectedLen=parseInt(headers["content-length"],10)),void 0!==expectedLen&&!isNaN(expectedLen)&&expectedLen>=0){shouldCheckContentLength=!0;var receivedLen=0}var checkContentLengthAndEmit=function(){shouldCheckContentLength&&receivedLen!==expectedLen?stream.emit("error",AWS.util.error(new Error("Stream content length mismatch. Received "+receivedLen+" of "+expectedLen+" bytes."),{code:"StreamContentLengthMismatch"})):2===AWS.HttpClient.streamsApiVersion?stream.end():stream.emit("end")},httpStream=resp.httpResponse.createUnbufferedStream();if(2===AWS.HttpClient.streamsApiVersion)if(shouldCheckContentLength){var lengthAccumulator=new streams.PassThrough;lengthAccumulator._write=function(chunk){return chunk&&chunk.length&&(receivedLen+=chunk.length),streams.PassThrough.prototype._write.apply(this,arguments)},lengthAccumulator.on("end",checkContentLengthAndEmit),httpStream.pipe(lengthAccumulator).pipe(stream,{end:!1})}else httpStream.pipe(stream);else shouldCheckContentLength&&httpStream.on("data",function(arg){arg&&arg.length&&(receivedLen+=arg.length)}),httpStream.on("data",function(arg){stream.emit("data",arg)}),httpStream.on("end",checkContentLengthAndEmit);httpStream.on("error",function(err){shouldCheckContentLength=!1,stream.emit("error",err)})}}),this.on("error",function(err){stream.emit("error",err)}),stream},emitEvent:function(eventName,args,done){"function"==typeof args&&(done=args,args=null),done||(done=function(){}),args||(args=this.eventParameters(eventName,this.response)),AWS.SequentialExecutor.prototype.emit.call(this,eventName,args,function(err){err&&(this.response.error=err),done.call(this,err)})},eventParameters:function(eventName){switch(eventName){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(expires,callback){return callback||"function"!=typeof expires||(callback=expires,expires=null),(new AWS.Signers.Presign).sign(this.toGet(),expires,callback)},isPresigned:function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},toUnauthenticated:function(){return this.removeListener("validate",AWS.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",AWS.EventListeners.Core.SIGN),this},toGet:function(){return"query"!==this.service.api.protocol&&"ec2"!==this.service.api.protocol||(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(request){request.httpRequest.method="GET",request.httpRequest.path=request.service.endpoint.path+"?"+request.httpRequest.body,request.httpRequest.body="",delete request.httpRequest.headers["Content-Length"],delete request.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}}),AWS.Request.addPromisesToClass=function(PromiseDependency){this.prototype.promise=function(){var self=this;return this.httpRequest.appendToUserAgent("promise"),new PromiseDependency(function(resolve,reject){self.on("complete",function(resp){resp.error?reject(resp.error):resolve(resp.data)}),self.runTo()})}},AWS.Request.deletePromisesFromClass=function(){delete this.prototype.promise},AWS.util.addPromises(AWS.Request),AWS.util.mixin(AWS.Request,AWS.SequentialExecutor)}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){function CHECK_ACCEPTORS(resp){var waiter=resp.request._waiter,acceptors=waiter.config.acceptors,acceptorMatched=!1,state="retry";acceptors.forEach(function(acceptor){if(!acceptorMatched){var matcher=waiter.matchers[acceptor.matcher];matcher&&matcher(resp,acceptor.expected,acceptor.argument)&&(acceptorMatched=!0,state=acceptor.state)}}),!acceptorMatched&&resp.error&&(state="failure"),"success"===state?waiter.setSuccess(resp):waiter.setError(resp,"retry"===state)}var AWS=__webpack_require__(1),inherit=AWS.util.inherit,jmespath=__webpack_require__(102);AWS.ResourceWaiter=inherit({constructor:function(service,state){this.service=service,this.state=state,this.loadWaiterConfig(this.state)},service:null,state:null,config:null,matchers:{path:function(resp,expected,argument){var result=jmespath.search(resp.data,argument);return jmespath.strictDeepEqual(result,expected)},pathAll:function(resp,expected,argument){var results=jmespath.search(resp.data,argument);Array.isArray(results)||(results=[results]);var numResults=results.length;if(!numResults)return!1;for(var ind=0;ind<numResults;ind++)if(!jmespath.strictDeepEqual(results[ind],expected))return!1;return!0},pathAny:function(resp,expected,argument){var results=jmespath.search(resp.data,argument);Array.isArray(results)||(results=[results]);for(var numResults=results.length,ind=0;ind<numResults;ind++)if(jmespath.strictDeepEqual(results[ind],expected))return!0;return!1},status:function(resp,expected){var statusCode=resp.httpResponse.statusCode;return"number"==typeof statusCode&&statusCode===expected},error:function(resp,expected){return"string"==typeof expected&&resp.error?expected===resp.error.code:expected===!!resp.error}},listeners:(new AWS.SequentialExecutor).addNamedListeners(function(add){add("RETRY_CHECK","retry",function(resp){var waiter=resp.request._waiter;resp.error&&"ResourceNotReady"===resp.error.code&&(resp.error.retryDelay=1e3*(waiter.config.delay||0))}),add("CHECK_OUTPUT","extractData",CHECK_ACCEPTORS),add("CHECK_ERROR","extractError",CHECK_ACCEPTORS)}),wait:function(params,callback){"function"==typeof params&&(callback=params,params=void 0),params&&params.$waiter&&(params=AWS.util.copy(params),"number"==typeof params.$waiter.delay&&(this.config.delay=params.$waiter.delay),"number"==typeof params.$waiter.maxAttempts&&(this.config.maxAttempts=params.$waiter.maxAttempts),delete params.$waiter);var request=this.service.makeRequest(this.config.operation,params);return request._waiter=this,request.response.maxRetries=this.config.maxAttempts,request.addListeners(this.listeners),callback&&request.send(callback),request},setSuccess:function(resp){resp.error=null,resp.data=resp.data||{},resp.request.removeAllListeners("extractData")},setError:function(resp,retryable){resp.data=null,resp.error=AWS.util.error(resp.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:retryable})},loadWaiterConfig:function(state){if(!this.service.api.waiters[state])throw new AWS.util.error(new Error,{code:"StateNotFoundError",message:"State "+state+" not found."});this.config=AWS.util.copy(this.service.api.waiters[state])}})},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),inherit=AWS.util.inherit,jmespath=__webpack_require__(102);AWS.Response=inherit({constructor:function(request){this.request=request,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new AWS.HttpResponse,request&&(this.maxRetries=request.service.numRetries(),this.maxRedirects=request.service.config.maxRedirects)},nextPage:function(callback){var config,service=this.request.service,operation=this.request.operation;try{config=service.paginationConfig(operation,!0)}catch(e){this.error=e}if(!this.hasNextPage()){if(callback)callback(this.error,null);else if(this.error)throw this.error;return null}var params=AWS.util.copy(this.request.params);if(this.nextPageTokens){var inputTokens=config.inputToken;"string"==typeof inputTokens&&(inputTokens=[inputTokens]);for(var i=0;i<inputTokens.length;i++)params[inputTokens[i]]=this.nextPageTokens[i];return service.makeRequest(this.request.operation,params,callback)}return callback?callback(null,null):null},hasNextPage:function(){return this.cacheNextPageTokens(),!!this.nextPageTokens||void 0===this.nextPageTokens&&void 0},cacheNextPageTokens:function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var config=this.request.service.paginationConfig(this.request.operation);if(!config)return this.nextPageTokens;if(this.nextPageTokens=null,config.moreResults&&!jmespath.search(this.data,config.moreResults))return this.nextPageTokens;var exprs=config.outputToken;return"string"==typeof exprs&&(exprs=[exprs]),AWS.util.arrayEach.call(this,exprs,function(expr){var output=jmespath.search(this.data,expr);output&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(output))}),this.nextPageTokens}})},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1);AWS.util.update(AWS.CognitoIdentity.prototype,{getOpenIdToken:function(params,callback){return this.makeUnauthenticatedRequest("getOpenIdToken",params,callback)},getId:function(params,callback){return this.makeUnauthenticatedRequest("getId",params,callback)},getCredentialsForIdentity:function(params,callback){return this.makeUnauthenticatedRequest("getCredentialsForIdentity",params,callback)}})},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1);AWS.util.update(AWS.Lambda.prototype,{setupRequestListeners:function(request){"invoke"===request.operation&&request.addListener("extractData",AWS.util.convertPayloadToString)}})},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1);AWS.util.update(AWS.SQS.prototype,{setupRequestListeners:function(request){request.addListener("build",this.buildEndpoint),request.service.config.computeChecksums&&("sendMessage"===request.operation?request.addListener("extractData",this.verifySendMessageChecksum):"sendMessageBatch"===request.operation?request.addListener("extractData",this.verifySendMessageBatchChecksum):"receiveMessage"===request.operation&&request.addListener("extractData",this.verifyReceiveMessageChecksum))},verifySendMessageChecksum:function(response){if(response.data){var md5=response.data.MD5OfMessageBody,body=this.params.MessageBody,calculatedMd5=this.service.calculateChecksum(body);if(calculatedMd5!==md5){var msg='Got "'+response.data.MD5OfMessageBody+'", expecting "'+calculatedMd5+'".';this.service.throwInvalidChecksumError(response,[response.data.MessageId],msg)}}},verifySendMessageBatchChecksum:function(response){if(response.data){var service=this.service,entries={},errors=[],messageIds=[];AWS.util.arrayEach(response.data.Successful,function(entry){entries[entry.Id]=entry}),AWS.util.arrayEach(this.params.Entries,function(entry){if(entries[entry.Id]){var md5=entries[entry.Id].MD5OfMessageBody,body=entry.MessageBody;service.isChecksumValid(md5,body)||(errors.push(entry.Id),messageIds.push(entries[entry.Id].MessageId))}}),errors.length>0&&service.throwInvalidChecksumError(response,messageIds,"Invalid messages: "+errors.join(", "))}},verifyReceiveMessageChecksum:function(response){if(response.data){var service=this.service,messageIds=[];AWS.util.arrayEach(response.data.Messages,function(message){var md5=message.MD5OfBody,body=message.Body;service.isChecksumValid(md5,body)||messageIds.push(message.MessageId)}),messageIds.length>0&&service.throwInvalidChecksumError(response,messageIds,"Invalid messages: "+messageIds.join(", "))}},throwInvalidChecksumError:function(response,ids,message){response.error=AWS.util.error(new Error,{retryable:!0,code:"InvalidChecksum",messageIds:ids,message:response.request.operation+" returned an invalid MD5 response. "+message})},isChecksumValid:function(checksum,data){return this.calculateChecksum(data)===checksum},calculateChecksum:function(data){return AWS.util.crypto.md5(data,"hex")},buildEndpoint:function(request){var url=request.httpRequest.params.QueueUrl;if(url){request.httpRequest.endpoint=new AWS.Endpoint(url);var matches=request.httpRequest.endpoint.host.match(/^sqs\.(.+?)\./);matches&&(request.httpRequest.region=matches[1])}}})},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1);AWS.util.update(AWS.STS.prototype,{credentialsFrom:function(data,credentials){return data?(credentials||(credentials=new AWS.TemporaryCredentials),credentials.expired=!1,credentials.accessKeyId=data.Credentials.AccessKeyId,credentials.secretAccessKey=data.Credentials.SecretAccessKey,credentials.sessionToken=data.Credentials.SessionToken,credentials.expireTime=data.Credentials.Expiration,credentials):null},assumeRoleWithWebIdentity:function(params,callback){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",params,callback)},assumeRoleWithSAML:function(params,callback){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",params,callback)}})},function(module,exports,__webpack_require__){function signedUrlBuilder(request){var expires=request.httpRequest.headers[expiresHeader],signerClass=request.service.getSignerClass(request);if(delete request.httpRequest.headers["User-Agent"],delete request.httpRequest.headers["X-Amz-User-Agent"],signerClass===AWS.Signers.V4){if(expires>604800){throw AWS.util.error(new Error,{code:"InvalidExpiryTime",message:"Presigning does not support expiry time greater than a week with SigV4 signing.",retryable:!1})}request.httpRequest.headers[expiresHeader]=expires}else{if(signerClass!==AWS.Signers.S3)throw AWS.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1});request.httpRequest.headers[expiresHeader]=parseInt(AWS.util.date.unixTimestamp()+expires,10).toString()}}function signedUrlSigner(request){var endpoint=request.httpRequest.endpoint,parsedUrl=AWS.util.urlParse(request.httpRequest.path),queryParams={};parsedUrl.search&&(queryParams=AWS.util.queryStringParse(parsedUrl.search.substr(1))),AWS.util.each(request.httpRequest.headers,function(key,value){key===expiresHeader&&(key="Expires"),0===key.indexOf("x-amz-meta-")&&(delete queryParams[key],key=key.toLowerCase()),queryParams[key]=value}),delete request.httpRequest.headers[expiresHeader];var auth=queryParams.Authorization.split(" ");if("AWS"===auth[0])auth=auth[1].split(":"),queryParams.AWSAccessKeyId=auth[0],queryParams.Signature=auth[1];else if("AWS4-HMAC-SHA256"===auth[0]){auth.shift();var rest=auth.join(" "),signature=rest.match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];queryParams["X-Amz-Signature"]=signature,delete queryParams.Expires}delete queryParams.Authorization,delete queryParams.Host,endpoint.pathname=parsedUrl.pathname,endpoint.search=AWS.util.queryParamsToString(queryParams)}var AWS=__webpack_require__(1),inherit=AWS.util.inherit,expiresHeader="presigned-expires";AWS.Signers.Presign=inherit({sign:function(request,expireTime,callback){if(request.httpRequest.headers[expiresHeader]=expireTime||3600,request.on("build",signedUrlBuilder),request.on("sign",signedUrlSigner),request.removeListener("afterBuild",AWS.EventListeners.Core.SET_CONTENT_LENGTH),request.removeListener("afterBuild",AWS.EventListeners.Core.COMPUTE_SHA256),request.emit("beforePresign",[request]),!callback){if(request.build(),request.response.error)throw request.response.error;return AWS.util.urlFormat(request.httpRequest.endpoint)}request.build(function(){this.response.error?callback(this.response.error):callback(null,AWS.util.urlFormat(request.httpRequest.endpoint))})}}),module.exports=AWS.Signers.Presign},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),inherit=AWS.util.inherit;AWS.Signers.RequestSigner=inherit({constructor:function(request){this.request=request},setServiceClientId:function(id){this.serviceClientId=id},getServiceClientId:function(){return this.serviceClientId}}),AWS.Signers.RequestSigner.getVersion=function(version){switch(version){case"v2":return AWS.Signers.V2;case"v3":return AWS.Signers.V3;case"v4":return AWS.Signers.V4;case"s3":return AWS.Signers.S3;case"v3https":return AWS.Signers.V3Https}throw new Error("Unknown signing version "+version)},__webpack_require__(295),__webpack_require__(143),__webpack_require__(296),__webpack_require__(297),__webpack_require__(294),__webpack_require__(292)},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),inherit=AWS.util.inherit;AWS.Signers.S3=inherit(AWS.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(credentials,date){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=AWS.util.date.rfc822(date)),credentials.sessionToken&&(this.request.headers["x-amz-security-token"]=credentials.sessionToken);var signature=this.sign(credentials.secretAccessKey,this.stringToSign()),auth="AWS "+credentials.accessKeyId+":"+signature;this.request.headers.Authorization=auth},stringToSign:function(){var r=this.request,parts=[];parts.push(r.method),parts.push(r.headers["Content-MD5"]||""),parts.push(r.headers["Content-Type"]||""),parts.push(r.headers["presigned-expires"]||"");var headers=this.canonicalizedAmzHeaders();return headers&&parts.push(headers),parts.push(this.canonicalizedResource()),parts.join("\n")},canonicalizedAmzHeaders:function(){var amzHeaders=[];AWS.util.each(this.request.headers,function(name){name.match(/^x-amz-/i)&&amzHeaders.push(name)}),amzHeaders.sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:1});var parts=[];return AWS.util.arrayEach.call(this,amzHeaders,function(name){parts.push(name.toLowerCase()+":"+String(this.request.headers[name]))}),parts.join("\n")},canonicalizedResource:function(){var r=this.request,parts=r.path.split("?"),path=parts[0],querystring=parts[1],resource="";if(r.virtualHostedBucket&&(resource+="/"+r.virtualHostedBucket),resource+=path,querystring){var resources=[];AWS.util.arrayEach.call(this,querystring.split("&"),function(param){var name=param.split("=")[0],value=param.split("=")[1];if(this.subResources[name]||this.responseHeaders[name]){var subresource={name:name};void 0!==value&&(this.subResources[name]?subresource.value=value:subresource.value=decodeURIComponent(value)),resources.push(subresource)}}),resources.sort(function(a,b){return a.name<b.name?-1:1}),resources.length&&(querystring=[],AWS.util.arrayEach(resources,function(res){void 0===res.value?querystring.push(res.name):querystring.push(res.name+"="+res.value)}),resource+="?"+querystring.join("&"))}return resource},sign:function(secret,string){return AWS.util.crypto.hmac(secret,string,"base64","sha1")}}),module.exports=AWS.Signers.S3},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),inherit=AWS.util.inherit;AWS.Signers.V2=inherit(AWS.Signers.RequestSigner,{addAuthorization:function(credentials,date){date||(date=AWS.util.date.getDate());var r=this.request;r.params.Timestamp=AWS.util.date.iso8601(date),r.params.SignatureVersion="2",r.params.SignatureMethod="HmacSHA256",r.params.AWSAccessKeyId=credentials.accessKeyId,credentials.sessionToken&&(r.params.SecurityToken=credentials.sessionToken),delete r.params.Signature,r.params.Signature=this.signature(credentials),r.body=AWS.util.queryParamsToString(r.params),r.headers["Content-Length"]=r.body.length},signature:function(credentials){return AWS.util.crypto.hmac(credentials.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var parts=[];return parts.push(this.request.method),parts.push(this.request.endpoint.host.toLowerCase()),parts.push(this.request.pathname()),parts.push(AWS.util.queryParamsToString(this.request.params)),parts.join("\n")}}),module.exports=AWS.Signers.V2},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),inherit=AWS.util.inherit;__webpack_require__(143),AWS.Signers.V3Https=inherit(AWS.Signers.V3,{authorization:function(credentials){return"AWS3-HTTPS AWSAccessKeyId="+credentials.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(credentials)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}}),module.exports=AWS.Signers.V3Https},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),v4Credentials=__webpack_require__(298),inherit=AWS.util.inherit;AWS.Signers.V4=inherit(AWS.Signers.RequestSigner,{constructor:function(request,serviceName,options){AWS.Signers.RequestSigner.call(this,request),this.serviceName=serviceName,options=options||{},this.signatureCache="boolean"!=typeof options.signatureCache||options.signatureCache,this.operation=options.operation},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(credentials,date){var datetime=AWS.util.date.iso8601(date).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(credentials,datetime):this.addHeaders(credentials,datetime),this.request.headers.Authorization=this.authorization(credentials,datetime)},addHeaders:function(credentials,datetime){this.request.headers["X-Amz-Date"]=datetime,credentials.sessionToken&&(this.request.headers["x-amz-security-token"]=credentials.sessionToken)},updateForPresigned:function(credentials,datetime){var credString=this.credentialString(datetime),qs={"X-Amz-Date":datetime,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":credentials.accessKeyId+"/"+credString,"X-Amz-Expires":this.request.headers["presigned-expires"],"X-Amz-SignedHeaders":this.signedHeaders()};credentials.sessionToken&&(qs["X-Amz-Security-Token"]=credentials.sessionToken),this.request.headers["Content-Type"]&&(qs["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(qs["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(qs["Cache-Control"]=this.request.headers["Cache-Control"]),AWS.util.each.call(this,this.request.headers,function(key,value){if("presigned-expires"!==key&&this.isSignableHeader(key)){var lowerKey=key.toLowerCase();0===lowerKey.indexOf("x-amz-meta-")?qs[lowerKey]=value:0===lowerKey.indexOf("x-amz-")&&(qs[key]=value)}});var sep=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=sep+AWS.util.queryParamsToString(qs)},authorization:function(credentials,datetime){var parts=[],credString=this.credentialString(datetime);return parts.push(this.algorithm+" Credential="+credentials.accessKeyId+"/"+credString),parts.push("SignedHeaders="+this.signedHeaders()),parts.push("Signature="+this.signature(credentials,datetime)),parts.join(", ")},signature:function(credentials,datetime){var signingKey=v4Credentials.getSigningKey(credentials,datetime.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return AWS.util.crypto.hmac(signingKey,this.stringToSign(datetime),"hex")},stringToSign:function(datetime){var parts=[];return parts.push("AWS4-HMAC-SHA256"),parts.push(datetime),parts.push(this.credentialString(datetime)),parts.push(this.hexEncodedHash(this.canonicalString())),parts.join("\n")},canonicalString:function(){var parts=[],pathname=this.request.pathname();return"s3"!==this.serviceName&&(pathname=AWS.util.uriEscapePath(pathname)),parts.push(this.request.method),parts.push(pathname),parts.push(this.request.search()),parts.push(this.canonicalHeaders()+"\n"),parts.push(this.signedHeaders()),parts.push(this.hexEncodedBodyHash()),parts.join("\n")},canonicalHeaders:function(){var headers=[];AWS.util.each.call(this,this.request.headers,function(key,item){headers.push([key,item])}),headers.sort(function(a,b){return a[0].toLowerCase()<b[0].toLowerCase()?-1:1});var parts=[];return AWS.util.arrayEach.call(this,headers,function(item){var key=item[0].toLowerCase();this.isSignableHeader(key)&&parts.push(key+":"+this.canonicalHeaderValues(item[1].toString()))}),parts.join("\n")},canonicalHeaderValues:function(values){return values.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var keys=[];return AWS.util.each.call(this,this.request.headers,function(key){key=key.toLowerCase(),this.isSignableHeader(key)&&keys.push(key)}),keys.sort().join(";")},credentialString:function(datetime){return v4Credentials.createScope(datetime.substr(0,8),this.request.region,this.serviceName)},hexEncodedHash:function(string){return AWS.util.crypto.sha256(string,"hex")},hexEncodedBodyHash:function(){var request=this.request;return this.isPresigned()&&"s3"===this.serviceName&&!request.body?"UNSIGNED-PAYLOAD":request.headers["X-Amz-Content-Sha256"]?request.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id"],isSignableHeader:function(key){return 0===key.toLowerCase().indexOf("x-amz-")||this.unsignableHeaders.indexOf(key)<0},isPresigned:function(){return!!this.request.headers["presigned-expires"]}}),module.exports=AWS.Signers.V4},function(module,exports,__webpack_require__){var AWS=__webpack_require__(1),cachedSecret={},cacheQueue=[];module.exports={createScope:function(date,region,serviceName){return[date.substr(0,8),region,serviceName,"aws4_request"].join("/")},getSigningKey:function(credentials,date,region,service,shouldCache){var credsIdentifier=AWS.util.crypto.hmac(credentials.secretAccessKey,credentials.accessKeyId,"base64"),cacheKey=[credsIdentifier,date,region,service].join("_");if((shouldCache=!1!==shouldCache)&&cacheKey in cachedSecret)return cachedSecret[cacheKey];var kDate=AWS.util.crypto.hmac("AWS4"+credentials.secretAccessKey,date,"buffer"),kRegion=AWS.util.crypto.hmac(kDate,region,"buffer"),kService=AWS.util.crypto.hmac(kRegion,service,"buffer"),signingKey=AWS.util.crypto.hmac(kService,"aws4_request","buffer");return shouldCache&&(cachedSecret[cacheKey]=signingKey,cacheQueue.push(cacheKey),cacheQueue.length>50&&delete cachedSecret[cacheQueue.shift()]),signingKey},emptyCache:function(){cachedSecret={},cacheQueue=[]}}},function(module,exports){function AcceptorStateMachine(states,state){this.currentState=state||null,this.states=states||{}}AcceptorStateMachine.prototype.runTo=function(finalState,done,bindObject,inputError){"function"==typeof finalState&&(inputError=bindObject,bindObject=done,done=finalState,finalState=null);var self=this,state=self.states[self.currentState];state.fn.call(bindObject||self,inputError,function(err){if(err){if(!state.fail)return done?done.call(bindObject,err):null;self.currentState=state.fail}else{if(!state.accept)return done?done.call(bindObject):null;self.currentState=state.accept}if(self.currentState===finalState)return done?done.call(bindObject,err):null;self.runTo(finalState,done,bindObject,err)})},AcceptorStateMachine.prototype.addState=function(name,acceptState,failState,fn){return"function"==typeof acceptState?(fn=acceptState,acceptState=null,failState=null):"function"==typeof failState&&(fn=failState,failState=null),this.currentState||(this.currentState=name),this.states[name]={accept:acceptState,fail:failState,fn:fn},this},module.exports=AcceptorStateMachine},function(module,exports,__webpack_require__){function DomXmlParser(){}function parseXml(xml,shape){switch(shape||(shape={}),shape.type){case"structure":return parseStructure(xml,shape);case"map":return parseMap(xml,shape);case"list":return parseList(xml,shape);case void 0:case null:return parseUnknown(xml);default:return parseScalar(xml,shape)}}function parseStructure(xml,shape){var data={};return null===xml?data:(util.each(shape.members,function(memberName,memberShape){if(memberShape.isXmlAttribute){if(Object.prototype.hasOwnProperty.call(xml.attributes,memberShape.name)){var value=xml.attributes[memberShape.name].value;data[memberName]=parseXml({textContent:value},memberShape)}}else{var xmlChild=memberShape.flattened?xml:xml.getElementsByTagName(memberShape.name)[0];xmlChild?data[memberName]=parseXml(xmlChild,memberShape):memberShape.flattened||"list"!==memberShape.type||(data[memberName]=memberShape.defaultValue)}}),data)}function parseMap(xml,shape){for(var data={},xmlKey=shape.key.name||"key",xmlValue=shape.value.name||"value",tagName=shape.flattened?shape.name:"entry",child=xml.firstElementChild;child;){if(child.nodeName===tagName){var key=child.getElementsByTagName(xmlKey)[0].textContent,value=child.getElementsByTagName(xmlValue)[0];data[key]=parseXml(value,shape.value)}child=child.nextElementSibling}return data}function parseList(xml,shape){for(var data=[],tagName=shape.flattened?shape.name:shape.member.name||"member",child=xml.firstElementChild;child;)child.nodeName===tagName&&data.push(parseXml(child,shape.member)),child=child.nextElementSibling;return data}function parseScalar(xml,shape){if(xml.getAttribute){var encoding=xml.getAttribute("encoding");"base64"===encoding&&(shape=new Shape.create({type:encoding}))}var text=xml.textContent;return""===text&&(text=null),"function"==typeof shape.toType?shape.toType(text):text}function parseUnknown(xml){if(void 0===xml||null===xml)return"";if(!xml.firstElementChild)return null===xml.parentNode.parentNode?{}:0===xml.childNodes.length?"":xml.textContent;for(var shape={type:"structure",members:{}},child=xml.firstElementChild;child;){var tag=child.nodeName;Object.prototype.hasOwnProperty.call(shape.members,tag)?shape.members[tag].type="list":shape.members[tag]={name:tag},child=child.nextElementSibling}return parseStructure(xml,shape)}var util=__webpack_require__(5),Shape=__webpack_require__(43);DomXmlParser.prototype.parse=function(xml,shape){if(""===xml.replace(/^\s+/,""))return{};var result,error;try{if(window.DOMParser){try{result=(new DOMParser).parseFromString(xml,"text/xml")}catch(syntaxError){throw util.error(new Error("Parse error in document"),{originalError:syntaxError,code:"XMLParserError",retryable:!0})}if(null===result.documentElement)throw util.error(new Error("Cannot parse empty document."),{code:"XMLParserError",retryable:!0});var isError=result.getElementsByTagName("parsererror")[0];if(isError&&(isError.parentNode===result||"body"===isError.parentNode.nodeName||isError.parentNode.parentNode===result||"body"===isError.parentNode.parentNode.nodeName)){var errorElement=isError.getElementsByTagName("div")[0]||isError;throw util.error(new Error(errorElement.textContent||"Parser error in document"),{code:"XMLParserError",retryable:!0})}}else{if(!window.ActiveXObject)throw new Error("Cannot load XML parser");if(result=new window.ActiveXObject("Microsoft.XMLDOM"),result.async=!1,!result.loadXML(xml))throw util.error(new Error("Parse error in document"),{code:"XMLParserError",retryable:!0})}}catch(e){error=e}if(result&&result.documentElement&&!error){var data=parseXml(result.documentElement,shape),metadata=result.getElementsByTagName("ResponseMetadata")[0];return metadata&&(data.ResponseMetadata=parseXml(metadata,{})),data}if(error)throw util.error(error||new Error,{code:"XMLParserError",retryable:!0});return{}},module.exports=DomXmlParser},function(module,exports,__webpack_require__){function XmlBuilder(){}function serialize(xml,value,shape){switch(shape.type){case"structure":return serializeStructure(xml,value,shape);case"map":return serializeMap(xml,value,shape);case"list":return serializeList(xml,value,shape);default:return serializeScalar(xml,value,shape)}}function serializeStructure(xml,params,shape){util.arrayEach(shape.memberNames,function(memberName){var memberShape=shape.members[memberName];if("body"===memberShape.location){var value=params[memberName],name=memberShape.name;if(void 0!==value&&null!==value)if(memberShape.isXmlAttribute)xml.att(name,value);else if(memberShape.flattened)serialize(xml,value,memberShape);else{var element=xml.ele(name);applyNamespaces(element,memberShape),serialize(element,value,memberShape)}}})}function serializeMap(xml,map,shape){var xmlKey=shape.key.name||"key",xmlValue=shape.value.name||"value";util.each(map,function(key,value){var entry=xml.ele(shape.flattened?shape.name:"entry");serialize(entry.ele(xmlKey),key,shape.key),serialize(entry.ele(xmlValue),value,shape.value)})}function serializeList(xml,list,shape){shape.flattened?util.arrayEach(list,function(value){var name=shape.member.name||shape.name;serialize(xml.ele(name),value,shape.member)}):util.arrayEach(list,function(value){var name=shape.member.name||"member";serialize(xml.ele(name),value,shape.member)})}function serializeScalar(xml,value,shape){xml.txt(shape.toWireFormat(value))}function applyNamespaces(xml,shape){var uri,prefix="xmlns";shape.xmlNamespaceUri?(uri=shape.xmlNamespaceUri,shape.xmlNamespacePrefix&&(prefix+=":"+shape.xmlNamespacePrefix)):xml.isRoot&&shape.api.xmlNamespaceUri&&(uri=shape.api.xmlNamespaceUri),uri&&xml.att(prefix,uri)}var util=__webpack_require__(5),builder=__webpack_require__(660);XmlBuilder.prototype.toXML=function(params,shape,rootElement,noEmpty){var xml=builder.create(rootElement);return applyNamespaces(xml,shape),serialize(xml,params,shape),xml.children.length>0||noEmpty?xml.root().toString():""},module.exports=XmlBuilder},function(module,exports,__webpack_require__){(function(Buffer){function hmac(key,string,encoding){return crypto.createHmac("sha256",key).update(string,"utf8").digest(encoding)}function hash(string,encoding){return crypto.createHash("sha256").update(string,"utf8").digest(encoding)}function encodeRfc3986(urlEncodedString){return urlEncodedString.replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function RequestSigner(request,credentials){"string"==typeof request&&(request=url.parse(request));var headers=request.headers=request.headers||{},hostParts=this.matchHost(request.hostname||request.host||headers.Host||headers.host);this.request=request,this.credentials=credentials||this.defaultCredentials(),this.service=request.service||hostParts[0]||"",this.region=request.region||hostParts[1]||"us-east-1","email"===this.service&&(this.service="ses"),!request.method&&request.body&&(request.method="POST"),headers.Host||headers.host||(headers.Host=request.hostname||request.host||this.createHost(),request.port&&(headers.Host+=":"+request.port)),request.hostname||request.host||(request.hostname=headers.Host||headers.host),this.isCodeCommitGit="codecommit"===this.service&&"GIT"===request.method}var aws4=exports,url=__webpack_require__(117),querystring=__webpack_require__(119),crypto=__webpack_require__(27),lru=__webpack_require__(303),credentialsCache=lru(1e3);RequestSigner.prototype.matchHost=function(host){var match=(host||"").match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/),hostParts=(match||[]).slice(1,3);return"es"===hostParts[1]&&(hostParts=hostParts.reverse()),hostParts},RequestSigner.prototype.isSingleRegion=function(){return["s3","sdb"].indexOf(this.service)>=0&&"us-east-1"===this.region||["cloudfront","ls","route53","iam","importexport","sts"].indexOf(this.service)>=0},RequestSigner.prototype.createHost=function(){var region=this.isSingleRegion()?"":("s3"===this.service&&"us-east-1"!==this.region?"-":".")+this.region;return("ses"===this.service?"email":this.service)+region+".amazonaws.com"},RequestSigner.prototype.prepareRequest=function(){this.parsePath();var query,request=this.request,headers=request.headers;request.signQuery?(this.parsedPath.query=query=this.parsedPath.query||{},this.credentials.sessionToken&&(query["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||query["X-Amz-Expires"]||(query["X-Amz-Expires"]=86400),query["X-Amz-Date"]?this.datetime=query["X-Amz-Date"]:query["X-Amz-Date"]=this.getDateTime(),query["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",query["X-Amz-Credential"]=this.credentials.accessKeyId+"/"+this.credentialString(),query["X-Amz-SignedHeaders"]=this.signedHeaders()):(request.doNotModifyHeaders||this.isCodeCommitGit||(!request.body||headers["Content-Type"]||headers["content-type"]||(headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),!request.body||headers["Content-Length"]||headers["content-length"]||(headers["Content-Length"]=Buffer.byteLength(request.body)),!this.credentials.sessionToken||headers["X-Amz-Security-Token"]||headers["x-amz-security-token"]||(headers["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||headers["X-Amz-Content-Sha256"]||headers["x-amz-content-sha256"]||(headers["X-Amz-Content-Sha256"]=hash(this.request.body||"","hex")),headers["X-Amz-Date"]||headers["x-amz-date"]?this.datetime=headers["X-Amz-Date"]||headers["x-amz-date"]:headers["X-Amz-Date"]=this.getDateTime()),delete headers.Authorization,delete headers.authorization)},RequestSigner.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query["X-Amz-Signature"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request},RequestSigner.prototype.getDateTime=function(){if(!this.datetime){var headers=this.request.headers,date=new Date(headers.Date||headers.date||new Date);this.datetime=date.toISOString().replace(/[:\-]|\.\d{3}/g,""),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime},RequestSigner.prototype.getDate=function(){return this.getDateTime().substr(0,8)},RequestSigner.prototype.authHeader=function(){return["AWS4-HMAC-SHA256 Credential="+this.credentials.accessKeyId+"/"+this.credentialString(),"SignedHeaders="+this.signedHeaders(),"Signature="+this.signature()].join(", ")},RequestSigner.prototype.signature=function(){var kDate,kRegion,kService,date=this.getDate(),cacheKey=[this.credentials.secretAccessKey,date,this.region,this.service].join(),kCredentials=credentialsCache.get(cacheKey);return kCredentials||(kDate=hmac("AWS4"+this.credentials.secretAccessKey,date),kRegion=hmac(kDate,this.region),kService=hmac(kRegion,this.service),kCredentials=hmac(kService,"aws4_request"),credentialsCache.set(cacheKey,kCredentials)),hmac(kCredentials,this.stringToSign(),"hex")},RequestSigner.prototype.stringToSign=function(){return["AWS4-HMAC-SHA256",this.getDateTime(),this.credentialString(),hash(this.canonicalString(),"hex")].join("\n")},RequestSigner.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var bodyHash,pathStr=this.parsedPath.path,query=this.parsedPath.query,headers=this.request.headers,queryStr="",normalizePath="s3"!==this.service,decodePath="s3"===this.service||this.request.doNotEncodePath,decodeSlashesInPath="s3"===this.service,firstValOnly="s3"===this.service;return bodyHash="s3"===this.service&&this.request.signQuery?"UNSIGNED-PAYLOAD":this.isCodeCommitGit?"":headers["X-Amz-Content-Sha256"]||headers["x-amz-content-sha256"]||hash(this.request.body||"","hex"),query&&(queryStr=encodeRfc3986(querystring.stringify(Object.keys(query).sort().reduce(function(obj,key){return key?(obj[key]=Array.isArray(query[key])?firstValOnly?query[key][0]:query[key].slice().sort():query[key],obj):obj},{})))),"/"!==pathStr&&(normalizePath&&(pathStr=pathStr.replace(/\/{2,}/g,"/")),pathStr=pathStr.split("/").reduce(function(path,piece){return normalizePath&&".."===piece?path.pop():normalizePath&&"."===piece||(decodePath&&(piece=unescape(piece)),path.push(encodeRfc3986(escape(piece)))),path},[]).join("/"),"/"!==pathStr[0]&&(pathStr="/"+pathStr),decodeSlashesInPath&&(pathStr=pathStr.replace(/%2F/g,"/"))),[this.request.method||"GET",pathStr,queryStr,this.canonicalHeaders()+"\n",this.signedHeaders(),bodyHash].join("\n")},RequestSigner.prototype.canonicalHeaders=function(){function trimAll(header){return header.toString().trim().replace(/\s+/g," ")}var headers=this.request.headers;return Object.keys(headers).sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:1}).map(function(key){return key.toLowerCase()+":"+trimAll(headers[key])}).join("\n")},RequestSigner.prototype.signedHeaders=function(){return Object.keys(this.request.headers).map(function(key){return key.toLowerCase()}).sort().join(";")},RequestSigner.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,"aws4_request"].join("/")},RequestSigner.prototype.defaultCredentials=function(){var env=__webpack_require__.i({AWS_SERVICES:"lambda,cognitoidentity,cognitosync,sqs",NODE_ENV:"production"});return{accessKeyId:env.AWS_ACCESS_KEY_ID||env.AWS_ACCESS_KEY,secretAccessKey:env.AWS_SECRET_ACCESS_KEY||env.AWS_SECRET_KEY,sessionToken:env.AWS_SESSION_TOKEN}},RequestSigner.prototype.parsePath=function(){var path=this.request.path||"/",queryIx=path.indexOf("?"),query=null;queryIx>=0&&(query=querystring.parse(path.slice(queryIx+1)),path=path.slice(0,queryIx)),/[^0-9A-Za-z!'()*\-._~%\/]/.test(path)&&(path=path.split("/").map(function(piece){return escape(unescape(piece))}).join("/")),this.parsedPath={path:path,query:query}},RequestSigner.prototype.formatPath=function(){var path=this.parsedPath.path,query=this.parsedPath.query;return query?(null!=query[""]&&delete query[""],path+"?"+encodeRfc3986(querystring.stringify(query))):path},aws4.RequestSigner=RequestSigner,aws4.sign=function(request,credentials){return new RequestSigner(request,credentials).sign()}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){function LruCache(size){this.capacity=0|size,this.map=Object.create(null),this.list=new DoublyLinkedList}function DoublyLinkedList(){this.firstNode=null,this.lastNode=null}function DoublyLinkedNode(key,val){this.key=key,this.val=val,this.prev=null,this.next=null}module.exports=function(size){return new LruCache(size)},LruCache.prototype.get=function(key){var node=this.map[key];if(null!=node)return this.used(node),node.val},LruCache.prototype.set=function(key,val){var node=this.map[key];if(null!=node)node.val=val;else{if(this.capacity||this.prune(),!this.capacity)return!1;node=new DoublyLinkedNode(key,val),this.map[key]=node,this.capacity--}return this.used(node),!0},LruCache.prototype.used=function(node){this.list.moveToFront(node)},LruCache.prototype.prune=function(){var node=this.list.pop();null!=node&&(delete this.map[node.key],this.capacity++)},DoublyLinkedList.prototype.moveToFront=function(node){this.firstNode!=node&&(this.remove(node),null==this.firstNode?(this.firstNode=node,this.lastNode=node,node.prev=null,node.next=null):(node.prev=null,node.next=this.firstNode,node.next.prev=node,this.firstNode=node))},DoublyLinkedList.prototype.pop=function(){var lastNode=this.lastNode;return null!=lastNode&&this.remove(lastNode),lastNode},DoublyLinkedList.prototype.remove=function(node){this.firstNode==node?this.firstNode=node.next:null!=node.prev&&(node.prev.next=node.next),this.lastNode==node?this.lastNode=node.prev:null!=node.next&&(node.next.prev=node.prev)}},function(module,exports,__webpack_require__){"use strict";function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0}function byteLength(b64){return 3*b64.length/4-placeHoldersCount(b64)}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(undefined){"use strict";var id=0,slice=Array.prototype.slice,getNested=function(obj,prop){var service=obj[prop];if(service===undefined&&globalConfig.strict)throw new Error("Bottle was unable to resolve a service.  `"+prop+"` is undefined.");return service},getNestedBottle=function(name){return this.nested[name]||(this.nested[name]=Bottle.pop())},getNestedService=function(fullname){return fullname.split(".").reduce(getNested,this)},constant=function(name,value){var parts=name.split(".");return name=parts.pop(),defineConstant.call(parts.reduce(setValueObject,this.container),name,value),this},defineConstant=function(name,value){Object.defineProperty(this,name,{configurable:!1,enumerable:!0,value:value,writable:!1})},decorator=function(fullname,func){var parts,name;return"function"==typeof fullname&&(func=fullname,fullname="__global__"),parts=fullname.split("."),name=parts.shift(),parts.length?getNestedBottle.call(this,name).decorator(parts.join("."),func):(this.decorators[name]||(this.decorators[name]=[]),this.decorators[name].push(func)),this},defer=function(func){return this.deferred.push(func),this},digest=function(services){return(services||[]).map(getNestedService,this.container)},factory=function(name,Factory){return provider.call(this,name,function(){this.$get=Factory})},instanceFactory=function(name,Factory){return factory.call(this,name,function(container){return{instance:Factory.bind(Factory,container)}})},byMethod=function(name){return!/^\$(?:decorator|register|list)$|Provider$/.test(name)},list=function(container){return Object.keys(container||this.container||{}).filter(byMethod)},applyMiddleware=function(middleware,name,instance,container){var descriptor={configurable:!0,enumerable:!0};return middleware.length?descriptor.get=function(){var index=0,next=function(err){if(err)throw err;middleware[index]&&middleware[index++](instance,next)};return next(),instance}:(descriptor.value=instance,descriptor.writable=!0),Object.defineProperty(container,name,descriptor),container[name]},middleware=function(fullname,func){var parts,name;return"function"==typeof fullname&&(func=fullname,fullname="__global__"),parts=fullname.split("."),name=parts.shift(),parts.length?getNestedBottle.call(this,name).middleware(parts.join("."),func):(this.middlewares[name]||(this.middlewares[name]=[]),this.middlewares[name].push(func)),this},bottles={},pop=function(name){var instance;return"string"==typeof name?(instance=bottles[name],instance||(bottles[name]=instance=new Bottle,instance.constant("BOTTLE_NAME",name)),instance):new Bottle},clear=function(name){"string"==typeof name?delete bottles[name]:bottles={}},reducer=function(instance,func){return func(instance)},provider=function(fullname,Provider){var parts,name;return parts=fullname.split("."),this.providerMap[fullname]&&1===parts.length&&!this.container[fullname+"Provider"]?console.error(fullname+" provider already instantiated."):(this.originalProviders[fullname]=Provider,this.providerMap[fullname]=!0,name=parts.shift(),parts.length?(createSubProvider.call(this,name,Provider,parts),this):createProvider.call(this,name,Provider))},getWithGlobal=function(collection,name){return(collection[name]||[]).concat(collection.__global__||[])},createProvider=function(name,Provider){var providerName,properties,container,decorators,middlewares;return this.id,container=this.container,decorators=this.decorators,middlewares=this.middlewares,providerName=name+"Provider",properties=Object.create(null),properties[providerName]={configurable:!0,enumerable:!0,get:function(){var instance=new Provider;return delete container[providerName],container[providerName]=instance,instance}},properties[name]={configurable:!0,enumerable:!0,get:function(){var instance,provider=container[providerName];return provider&&(instance=getWithGlobal(decorators,name).reduce(reducer,provider.$get(container)),delete container[providerName],delete container[name]),instance===undefined?instance:applyMiddleware(getWithGlobal(middlewares,name),name,instance,container)}},Object.defineProperties(container,properties),this},createSubProvider=function(name,Provider,parts){var bottle;return bottle=getNestedBottle.call(this,name),this.factory(name,function(){return bottle.container}),bottle.provider(parts.join("."),Provider)},register=function(Obj){var value=Obj.$value===undefined?Obj:Obj.$value;return this[Obj.$type||"service"].apply(this,[Obj.$name,value].concat(Obj.$inject||[]))},removeProviderMap=function(name){delete this.providerMap[name],delete this.container[name],delete this.container[name+"Provider"]},resetProviders=function(){var providers=this.originalProviders;Object.keys(this.originalProviders).forEach(function(provider){var parts=provider.split(".");parts.length>1&&(removeProviderMap.call(this,parts[0]),parts.forEach(removeProviderMap,getNestedBottle.call(this,parts[0]))),removeProviderMap.call(this,provider),this.provider(provider,providers[provider])},this)},resolve=function(data){return this.deferred.forEach(function(func){func(data)}),this},service=function(name,Service){var deps=arguments.length>2?slice.call(arguments,2):null,bottle=this;return factory.call(this,name,function(){return deps&&(deps=deps.map(getNestedService,bottle.container),deps.unshift(Service),Service=Service.bind.apply(Service,deps)),new Service})},value=function(name,val){var parts;return parts=name.split("."),name=parts.pop(),defineValue.call(parts.reduce(setValueObject,this.container),name,val),this},setValueObject=function(container,name){var nestedContainer=container[name];return nestedContainer||(nestedContainer={},defineValue.call(container,name,nestedContainer)),nestedContainer},defineValue=function(name,val){Object.defineProperty(this,name,{configurable:!0,enumerable:!0,value:val,writable:!0})},Bottle=function Bottle(name){if(!(this instanceof Bottle))return Bottle.pop(name);this.id=id++,this.decorators={},this.middlewares={},this.nested={},this.providerMap={},this.originalProviders={},this.deferred=[],this.container={$decorator:decorator.bind(this),$register:register.bind(this),$list:list.bind(this)}};Bottle.prototype={constant:constant,decorator:decorator,defer:defer,digest:digest,factory:factory,instanceFactory:instanceFactory,list:list,middleware:middleware,provider:provider,resetProviders:resetProviders,register:register,resolve:resolve,service:service,value:value},Bottle.pop=pop,Bottle.clear=clear,Bottle.list=list;var globalConfig=Bottle.config={strict:!1},objectTypes={function:!0,object:!0};!function(root){var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=(freeModule&&freeModule.exports,objectTypes[typeof global]&&global);!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal),root.Bottle=Bottle,(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Bottle}.call(exports,__webpack_require__,exports,module))!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(objectTypes[typeof window]&&window||this)}).call(this)}).call(exports,__webpack_require__(29)(module),__webpack_require__(4))},function(module,exports,__webpack_require__){(function(Buffer){function Decipher(mode,key,iv){if(!(this instanceof Decipher))return new Decipher(mode,key,iv);Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),iv.copy(this._prev),this._mode=mode,this._autopadding=!0}function Splitter(){if(!(this instanceof Splitter))return new Splitter;this.cache=new Buffer("")}function unpad(last){for(var padded=last[15],i=-1;++i<padded;)if(last[i+(16-padded)]!==padded)throw new Error("unable to decrypt data");if(16!==padded)return last.slice(0,16-padded)}function createDecipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=new Buffer(iv)),"string"==typeof password&&(password=new Buffer(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(modelist[config.mode],password,iv,!0):"auth"===config.type?new AuthCipher(modelist[config.mode],password,iv,!0):new Decipher(modelist[config.mode],password,iv)}function createDecipher(suite,password){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,!1,config.key,config.iv);return createDecipheriv(suite,keys.key,keys.iv)}var aes=__webpack_require__(61),Transform=__webpack_require__(33),inherits=__webpack_require__(2),modes=__webpack_require__(62),StreamCipher=__webpack_require__(152),AuthCipher=__webpack_require__(145),ebtk=__webpack_require__(70);inherits(Decipher,Transform),Decipher.prototype._update=function(data){this._cache.add(data);for(var chunk,thing,out=[];chunk=this._cache.get(this._autopadding);)thing=this._mode.decrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Decipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,chunk));if(chunk)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(autoPadding){var out;if(autoPadding){if(this.cache.length>16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out}else if(this.cache.length>=16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};var modelist={ECB:__webpack_require__(150),CBC:__webpack_require__(146),CFB:__webpack_require__(147),CFB8:__webpack_require__(149),CFB1:__webpack_require__(148),OFB:__webpack_require__(151),CTR:__webpack_require__(63),GCM:__webpack_require__(63)};exports.createDecipher=createDecipher,exports.createDecipheriv=createDecipheriv}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function Cipher(mode,key,iv){if(!(this instanceof Cipher))return new Cipher(mode,key,iv);Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),iv.copy(this._prev),this._mode=mode,this._autopadding=!0}function Splitter(){if(!(this instanceof Splitter))return new Splitter;this.cache=new Buffer("")}function createCipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=new Buffer(iv)),"string"==typeof password&&(password=new Buffer(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(modelist[config.mode],password,iv):"auth"===config.type?new AuthCipher(modelist[config.mode],password,iv):new Cipher(modelist[config.mode],password,iv)}function createCipher(suite,password){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,!1,config.key,config.iv);return createCipheriv(suite,keys.key,keys.iv)}var aes=__webpack_require__(61),Transform=__webpack_require__(33),inherits=__webpack_require__(2),modes=__webpack_require__(62),ebtk=__webpack_require__(70),StreamCipher=__webpack_require__(152),AuthCipher=__webpack_require__(145);inherits(Cipher,Transform),Cipher.prototype._update=function(data){this._cache.add(data);for(var chunk,thing,out=[];chunk=this._cache.get();)thing=this._mode.encrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Cipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return chunk=this._mode.encrypt(this,chunk),this._cipher.scrub(),chunk;if("10101010101010101010101010101010"!==chunk.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(){if(this.cache.length>15){var out=this.cache.slice(0,16);return this.cache=this.cache.slice(16),out}return null},Splitter.prototype.flush=function(){for(var len=16-this.cache.length,padBuff=new Buffer(len),i=-1;++i<len;)padBuff.writeUInt8(len,i);return Buffer.concat([this.cache,padBuff])};var modelist={ECB:__webpack_require__(150),CBC:__webpack_require__(146),CFB:__webpack_require__(147),CFB8:__webpack_require__(149),CFB1:__webpack_require__(148),OFB:__webpack_require__(151),CTR:__webpack_require__(63),GCM:__webpack_require__(63)};exports.createCipheriv=createCipheriv,exports.createCipher=createCipher}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function GHASH(key){this.h=key,this.state=new Buffer(16),this.state.fill(0),this.cache=new Buffer("")}function toArray(buf){return[buf.readUInt32BE(0),buf.readUInt32BE(4),buf.readUInt32BE(8),buf.readUInt32BE(12)]}function fromArray(out){out=out.map(fixup_uint32);var buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf}function fixup_uint32(x){var x_pos;return x>uint_max||x<0?(x_pos=Math.abs(x)%uint_max,x<0?uint_max-x_pos:x_pos):x}function xor(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}var zeros=new Buffer(16);zeros.fill(0),module.exports=GHASH,GHASH.prototype.ghash=function(block){for(var i=-1;++i<block.length;)this.state[i]^=block[i];this._multiply()},GHASH.prototype._multiply=function(){for(var j,xi,lsb_Vi,Vi=toArray(this.h),Zi=[0,0,0,0],i=-1;++i<128;){for(xi=0!=(this.state[~~(i/8)]&1<<7-i%8),xi&&(Zi=xor(Zi,Vi)),lsb_Vi=0!=(1&Vi[3]),j=3;j>0;j--)Vi[j]=Vi[j]>>>1|(1&Vi[j-1])<<31;Vi[0]=Vi[0]>>>1,lsb_Vi&&(Vi[0]=Vi[0]^225<<24)}this.state=fromArray(Zi)},GHASH.prototype.update=function(buf){this.cache=Buffer.concat([this.cache,buf]);for(var chunk;this.cache.length>=16;)chunk=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(chunk)},GHASH.prototype.final=function(abl,bl){return this.cache.length&&this.ghash(Buffer.concat([this.cache,zeros],16)),this.ghash(fromArray([0,abl,0,bl])),this.state};var uint_max=Math.pow(2,32)}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function createCipher(suite,password){var keyLen,ivLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,ivLen=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,ivLen=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,ivLen);return createCipheriv(suite,keys.key,keys.iv)}function createDecipher(suite,password){var keyLen,ivLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,ivLen=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,ivLen=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,ivLen);return createDecipheriv(suite,keys.key,keys.iv)}function createCipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createCipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite});throw new TypeError("invalid suite type")}function createDecipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createDecipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}var ebtk=__webpack_require__(70),aes=__webpack_require__(83),DES=__webpack_require__(310),desModes=__webpack_require__(311),aesModes=__webpack_require__(62);exports.createCipher=exports.Cipher=createCipher,exports.createCipheriv=exports.Cipheriv=createCipheriv,exports.createDecipher=exports.Decipher=createDecipher,exports.createDecipheriv=exports.Decipheriv=createDecipheriv,exports.listCiphers=exports.getCiphers=getCiphers},function(module,exports,__webpack_require__){(function(Buffer){function DES(opts){CipherBase.call(this);var type,modeName=opts.mode.toLowerCase(),mode=modes[modeName];type=opts.decrypt?"decrypt":"encrypt";var key=opts.key;"des-ede"!==modeName&&"des-ede-cbc"!==modeName||(key=Buffer.concat([key,key.slice(0,8)]));var iv=opts.iv;this._des=mode.create({key:key,iv:iv,type:type})}var CipherBase=__webpack_require__(33),des=__webpack_require__(101),inherits=__webpack_require__(2),modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes.des=modes["des-cbc"],modes.des3=modes["des-ede3-cbc"],module.exports=DES,inherits(DES,CipherBase),DES.prototype._update=function(data){return new Buffer(this._des.update(data))},DES.prototype._final=function(){return new Buffer(this._des.final())}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(153)},function(module,exports,__webpack_require__){(function(Buffer){function Sign(algorithm){stream.Writable.call(this);var data=algorithms[algorithm];if(!data)throw new Error("Unknown message digest");this._hashType=data.hash,this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function Verify(algorithm){stream.Writable.call(this);var data=algorithms[algorithm];if(!data)throw new Error("Unknown message digest");this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function createSign(algorithm){return new Sign(algorithm)}function createVerify(algorithm){return new Verify(algorithm)}var createHash=__webpack_require__(34),stream=__webpack_require__(122),inherits=__webpack_require__(2),sign=__webpack_require__(314),verify=__webpack_require__(315),algorithms=__webpack_require__(153);Object.keys(algorithms).forEach(function(key){algorithms[key].id=new Buffer(algorithms[key].id,"hex"),algorithms[key.toLowerCase()]=algorithms[key]}),inherits(Sign,stream.Writable),Sign.prototype._write=function(data,_,done){this._hash.update(data),done()},Sign.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Sign.prototype.sign=function(key,enc){this.end();var hash=this._hash.digest(),sig=sign(hash,key,this._hashType,this._signType,this._tag);return enc?sig.toString(enc):sig},inherits(Verify,stream.Writable),Verify.prototype._write=function(data,_,done){this._hash.update(data),done()},Verify.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Verify.prototype.verify=function(key,sig,enc){"string"==typeof sig&&(sig=new Buffer(sig,enc)),this.end();var hash=this._hash.digest();return verify(sig,hash,key,this._signType,this._tag)},module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function sign(hash,key,hashType,signType,tag){var priv=parseKeys(key);if(priv.curve){if("ecdsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong private key type");return ecSign(hash,priv)}if("dsa"===priv.type){if("dsa"!==signType)throw new Error("wrong private key type");return dsaSign(hash,priv,hashType)}if("rsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong private key type");hash=Buffer.concat([tag,hash]);for(var len=priv.modulus.byteLength(),pad=[0,1];hash.length+pad.length+1<len;)pad.push(255);pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);return crt(pad,priv)}function ecSign(hash,priv){var curveId=curves[priv.curve.join(".")];if(!curveId)throw new Error("unknown curve "+priv.curve.join("."));var curve=new EC(curveId),key=curve.keyFromPrivate(priv.privateKey),out=key.sign(hash);return new Buffer(out.toDER())}function dsaSign(hash,priv,algo){for(var k,x=priv.params.priv_key,p=priv.params.p,q=priv.params.q,g=priv.params.g,r=new BN(0),H=bits2int(hash,q).mod(q),s=!1,kv=getKey(x,q,hash,algo);!1===s;)k=makeKey(q,kv,algo),r=makeR(g,k,p,q),s=k.invm(q).imul(H.add(x.mul(r))).mod(q),0===s.cmpn(0)&&(s=!1,r=new BN(0));return toDER(r,s)}function toDER(r,s){r=r.toArray(),s=s.toArray(),128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s));var total=r.length+s.length+4,res=[48,total,2,r.length];return res=res.concat(r,[2,s.length],s),new Buffer(res)}function getKey(x,q,hash,algo){if(x=new Buffer(x.toArray()),x.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-x.length);zeros.fill(0),x=Buffer.concat([zeros,x])}var hlen=hash.length,hbits=bits2octets(hash,q),v=new Buffer(hlen);v.fill(1);var k=new Buffer(hlen);return k.fill(0),k=createHmac(algo,k).update(v).update(new Buffer([0])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),k=createHmac(algo,k).update(v).update(new Buffer([1])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),{k:k,v:v}}function bits2int(obits,q){var bits=new BN(obits),shift=(obits.length<<3)-q.bitLength();return shift>0&&bits.ishrn(shift),bits}function bits2octets(bits,q){bits=bits2int(bits,q),bits=bits.mod(q);var out=new Buffer(bits.toArray());if(out.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-out.length);zeros.fill(0),out=Buffer.concat([zeros,out])}return out}function makeKey(q,kv,algo){var t,k;do{for(t=new Buffer(0);8*t.length<q.bitLength();)kv.v=createHmac(algo,kv.k).update(kv.v).digest(),t=Buffer.concat([t,kv.v]);k=bits2int(t,q),kv.k=createHmac(algo,kv.k).update(kv.v).update(new Buffer([0])).digest(),kv.v=createHmac(algo,kv.k).update(kv.v).digest()}while(-1!==k.cmp(q));return k}function makeR(g,k,p,q){return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)}var createHmac=__webpack_require__(86),crt=__webpack_require__(84),EC=__webpack_require__(10).ec,BN=__webpack_require__(6),parseKeys=__webpack_require__(79),curves=__webpack_require__(154);module.exports=sign,module.exports.getKey=getKey,module.exports.makeKey=makeKey}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function verify(sig,hash,key,signType,tag){var pub=parseKeys(key);if("ec"===pub.type){if("ecdsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong public key type");return ecVerify(sig,hash,pub)}if("dsa"===pub.type){if("dsa"!==signType)throw new Error("wrong public key type");return dsaVerify(sig,hash,pub)}if("rsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong public key type");hash=Buffer.concat([tag,hash]);for(var len=pub.modulus.byteLength(),pad=[1],padNum=0;hash.length+pad.length+2<len;)pad.push(255),padNum++;pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);pad=new Buffer(pad);var red=BN.mont(pub.modulus);sig=new BN(sig).toRed(red),sig=sig.redPow(new BN(pub.publicExponent)),sig=new Buffer(sig.fromRed().toArray());var out=padNum<8?1:0;for(len=Math.min(sig.length,pad.length),sig.length!==pad.length&&(out=1),i=-1;++i<len;)out|=sig[i]^pad[i];return 0===out}function ecVerify(sig,hash,pub){var curveId=curves[pub.data.algorithm.curve.join(".")];if(!curveId)throw new Error("unknown curve "+pub.data.algorithm.curve.join("."));var curve=new EC(curveId),pubkey=pub.data.subjectPrivateKey.data;return curve.verify(hash,sig,pubkey)}function dsaVerify(sig,hash,pub){var p=pub.data.p,q=pub.data.q,g=pub.data.g,y=pub.data.pub_key,unpacked=parseKeys.signature.decode(sig,"der"),s=unpacked.s,r=unpacked.r;checkValue(s,q),checkValue(r,q);var montp=BN.mont(p),w=s.invm(q);return 0===g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q).cmp(r)}function checkValue(b,q){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(q)>=q)throw new Error("invalid sig")}var BN=__webpack_require__(6),EC=__webpack_require__(10).ec,parseKeys=__webpack_require__(79),curves=__webpack_require__(154);module.exports=verify}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function murmurhash3_32_gc(e,b){var a,r,c,d,f;for(a=3&e.length,r=e.length-a,c=b,f=0;f<r;)d=255&e.charCodeAt(f)|(255&e.charCodeAt(++f))<<8|(255&e.charCodeAt(++f))<<16|(255&e.charCodeAt(++f))<<24,++f,d=3432918353*(65535&d)+((3432918353*(d>>>16)&65535)<<16)&4294967295,d=d<<15|d>>>17,d=461845907*(65535&d)+((461845907*(d>>>16)&65535)<<16)&4294967295,c^=d,c=c<<13|c>>>19,c=5*(65535&c)+((5*(c>>>16)&65535)<<16)&4294967295,c=27492+(65535&c)+((58964+(c>>>16)&65535)<<16);switch(d=0,a){case 3:d^=(255&e.charCodeAt(f+2))<<16;case 2:d^=(255&e.charCodeAt(f+1))<<8;case 1:d^=255&e.charCodeAt(f),d=3432918353*(65535&d)+((3432918353*(d>>>16)&65535)<<16)&4294967295,d=d<<15|d>>>17,c^=461845907*(65535&d)+((461845907*(d>>>16)&65535)<<16)&4294967295}return c^=e.length,c^=c>>>16,c=2246822507*(65535&c)+((2246822507*(c>>>16)&65535)<<16)&4294967295,c^=c>>>13,((c=3266489909*(65535&c)+((3266489909*(c>>>16)&65535)<<16)&4294967295)^c>>>16)>>>0}!function(e){var b=function(){return this._version="v1.0.0-rc.1",this._parser=(new(window.UAParser||exports.UAParser)).getResult(),this._fontDetective=new Detector,this.options=this.getDefaultOptions(),this};b.prototype.getDefaultOptions=function(){return{getUserAgent:!0,getCPU:!0,getCurrentResolution:!0,getAvailableResolution:!0,getColorDepth:!0,getDeviceXDPI:!0,getDeviceYDPI:!0,getPlugins:!0,getFonts:!0,hasCookies:!0,hasLocalStorage:!0,hasSessionStorage:!0,getTimeZone:!0,getLanguage:!0,getSystemLanguage:!0,getCanvasPrint:!0,getIPAddresses:!1,getGraphicsDriverInfo:!0,getMediaDevices:!1}},b.prototype.extendOptions=function(a,b){for(var c in b)a[c]=b[c];return a},b.prototype.getVersion=function(){return this._version},b.prototype.getParser=function(){return this._parser},b.prototype.getFingerprint=function(){return murmurhash3_32_gc(this._parser.ua+"|"+this.getScreenPrint()+"|"+this.getPlugins()+"|"+this.getFonts()+"|"+this.hasLocalStorage()+"|"+this.hasSessionStorage()+"|"+this.getTimeZone()+"|"+this.getLanguage()+"|"+this.getSystemLanguage()+"|"+this.hasCookies()+"|"+this.getCanvasPrint(),256)},b.prototype.getFingerprintAsync=function(a,b){var c="",d=this,f={},k=this.options,k=this.extendOptions(k,a);this.getAsyncOptions(f,function(a){c+=a;for(var q in k)!0===k[q]&&"getIPAddresses"!==q&&"getMediaDevices"!==q&&(a=d[q](),c+=a+"|",f[q]=a);b(ctph.digest(c),f)})},b.prototype.getCustomFingerprint=function(a){for(var b="",c=Array.prototype.slice.call(arguments),d=0;d<c.length;d++)b+=c[d]+"|";return murmurhash3_32_gc(b,256)},b.prototype.getAsyncOptions=function(a,b){var c="",d=this;this.getIPAddressesOption(function(f){void 0!==f&&(c+=f.localAddr+"|"+f.publicAddr+"|",a.getIPAddresses=f),d.getMediaDevicesOption(function(f){void 0!==f&&(c+=f,a.getMediaDevices=f),b(c)})})},b.prototype.getIPAddressesOption=function(a){1==this.options.getIPAddresses?this.getIPAddresses(function(b){a(b)}):a()},b.prototype.getMediaDevicesOption=function(a){!0===this.options.getMediaDevices?this.getMediaDevices(function(b){a(b)}):a()},b.prototype.getUserAgent=function(){return this._parser.ua},b.prototype.getUserAgentLowerCase=function(){return this._parser.ua.toLowerCase()},b.prototype.getBrowser=function(){return this._parser.browser.name},b.prototype.getBrowserVersion=function(){return this._parser.browser.version},b.prototype.getBrowserMajorVersion=function(){return this._parser.browser.major},b.prototype.getIPAddresses=function(a){function b(a){a=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(JSON.stringify(a))[1],void 0===f[a]&&(f[a]=!0,a.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)?d.localAddr=a:a.match(/^[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}$/)?d.ipv6=a:d.publicAddr=a)}function c(){w=null,h.localDescription.sdp.split("\n").forEach(function(a){0===a.indexOf("a=candidate:")?(l++,b(a)):0===a.indexOf("a=fingerprint:")&&(d.fingerprint=a.substring(14,a.length))}),a&&a(d)}var d={},f={},k=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(k){try{if(!k){this._makeWebRTCFrame("webRTC_iframe");var p=f.contentWindow,k=p.RTCPeerConnection||p.mozRTCPeerConnection||p.webkitRTCPeerConnection}}catch(e){a&&a("")}var p={optional:[{RtpDataChannels:!0}]},q={iceServers:[{urls:"stun:stun.services.mozilla.com"}]};try{var h=new k(q,p)}catch(e){a&&a("")}var w,g=0,l=0;h.onicecandidate=function(a){if(a.candidate){g++,b(a.candidate.candidate);try{clearTimeout(w)}catch(f){}w=setTimeout(c,150)}},h.createDataChannel(null),h.createOffer(function(a){h.setLocalDescription(a,function(){},function(){})},function(){})}else a&&a("")},b.prototype._makeWebRTCFrame=function(a){var b=document.createElement("iframe");b.setAttribute("id",a),b.setAttribute("sandbox","allow-same-origin"),b.setAttribute("style","display: none"),document.getElementsByTagName("body")[0].appendChild(b)},b.prototype.isIE=function(){return/IE/i.test(this._parser.browser.name)},b.prototype.isChrome=function(){return/Chrome/i.test(this._parser.browser.name)},b.prototype.isFirefox=function(){return/Firefox/i.test(this._parser.browser.name)},b.prototype.isSafari=function(){return/Safari/i.test(this._parser.browser.name)},b.prototype.isMobileSafari=function(){return/Mobile\sSafari/i.test(this._parser.browser.name)},b.prototype.isOpera=function(){return/Opera/i.test(this._parser.browser.name)},b.prototype.getEngine=function(){return this._parser.engine.name},b.prototype.getEngineVersion=function(){return this._parser.engine.version},b.prototype.getOS=function(){return this._parser.os.name},b.prototype.getOSVersion=function(){return this._parser.os.version},b.prototype.isWindows=function(){return/Windows/i.test(this._parser.os.name)},b.prototype.isMac=function(){return/Mac/i.test(this._parser.os.name)},b.prototype.isLinux=function(){return/Linux/i.test(this._parser.os.name)},b.prototype.isUbuntu=function(){return/Ubuntu/i.test(this._parser.os.name)},b.prototype.isSolaris=function(){return/Solaris/i.test(this._parser.os.name)},b.prototype.getDevice=function(){return this._parser.device.model},b.prototype.getDeviceType=function(){return this._parser.device.type},b.prototype.getDeviceVendor=function(){return this._parser.device.vendor},b.prototype.getCPU=function(){return this._parser.cpu.architecture},b.prototype.isMobile=function(){var a=this._parser.ua||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))},b.prototype.isMobileMajor=function(){return this.isMobileAndroid()||this.isMobileBlackBerry()||this.isMobileIOS()||this.isMobileOpera()||this.isMobileWindows()},b.prototype.isMobileAndroid=function(){return!!this._parser.ua.match(/Android/i)},b.prototype.isMobileOpera=function(){return!!this._parser.ua.match(/Opera Mini/i)},b.prototype.isMobileWindows=function(){return!!this._parser.ua.match(/IEMobile/i)},b.prototype.isMobileBlackBerry=function(){return!!this._parser.ua.match(/BlackBerry/i)},b.prototype.isMobileIOS=function(){return!!this._parser.ua.match(/iPhone|iPad|iPod/i)},b.prototype.isIphone=function(){return!!this._parser.ua.match(/iPhone/i)},b.prototype.isIpad=function(){return!!this._parser.ua.match(/iPad/i)},b.prototype.isIpod=function(){return!!this._parser.ua.match(/iPod/i)},b.prototype.getScreenPrint=function(){return"Current Resolution: "+this.getCurrentResolution()+", Available Resolution: "+this.getAvailableResolution()+", Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()},b.prototype.getColorDepth=function(){return screen.colorDepth},b.prototype.getCurrentResolution=function(){return screen.width+"x"+screen.height},b.prototype.getAvailableResolution=function(){return screen.availWidth+"x"+screen.availHeight},b.prototype.getDeviceXDPI=function(){return screen.deviceXDPI},b.prototype.getDeviceYDPI=function(){return screen.deviceYDPI},b.prototype.getPlugins=function(){for(var a="",b=0;b<navigator.plugins.length;b++)a=b==navigator.plugins.length-1?a+navigator.plugins[b].name:a+(navigator.plugins[b].name+", ");return a},b.prototype.hasJava=function(){return navigator.javaEnabled()},b.prototype.getJavaVersion=function(){return deployJava.getJREs().toString()},b.prototype.hasFlash=function(){return!!navigator.plugins["Shockwave Flash"]},b.prototype.getFlashVersion=function(){return this.isFlash()?(objPlayerVersion=swfobject.getFlashPlayerVersion(),objPlayerVersion.major+"."+objPlayerVersion.minor+"."+objPlayerVersion.release):""},b.prototype.hasSilverlight=function(){return!!navigator.plugins["Silverlight Plug-In"]},b.prototype.getSilverlightVersion=function(){return this.isSilverlight()?navigator.plugins["Silverlight Plug-In"].description:""},b.prototype.hasMimeTypes=function(){return!!navigator.mimeTypes.length},b.prototype.getMimeTypes=function(){for(var a="",b=0;b<navigator.mimeTypes.length;b++)a=b==navigator.mimeTypes.length-1?a+navigator.mimeTypes[b].description:a+(navigator.mimeTypes[b].description+", ");return a},b.prototype.hasFonts=function(a){return this._fontDetective.detect(a)},b.prototype.getFonts=function(){for(var a="Abadi MT Condensed Light;Adobe Fangsong Std;Adobe Hebrew;Adobe Ming Std;Agency FB;Aharoni;Andalus;Angsana New;AngsanaUPC;Aparajita;Arab;Arabic Transparent;Arabic Typesetting;Arial Baltic;Arial Black;Arial CE;Arial CYR;Arial Greek;Arial TUR;Arial;Batang;BatangChe;Bauhaus 93;Bell MT;Bitstream Vera Serif;Bodoni MT;Bookman Old Style;Braggadocio;Broadway;Browallia New;BrowalliaUPC;Calibri Light;Calibri;Californian FB;Cambria Math;Cambria;Candara;Castellar;Casual;Centaur;Century Gothic;Chalkduster;Colonna MT;Comic Sans MS;Consolas;Constantia;Copperplate Gothic Light;Corbel;Cordia New;CordiaUPC;Courier New Baltic;Courier New CE;Courier New CYR;Courier New Greek;Courier New TUR;Courier New;DFKai-SB;DaunPenh;David;DejaVu LGC Sans Mono;Desdemona;DilleniaUPC;DokChampa;Dotum;DotumChe;Ebrima;Engravers MT;Eras Bold ITC;Estrangelo Edessa;EucrosiaUPC;Euphemia;Eurostile;FangSong;Forte;FrankRuehl;Franklin Gothic Heavy;Franklin Gothic Medium;FreesiaUPC;French Script MT;Gabriola;Gautami;Georgia;Gigi;Gisha;Goudy Old Style;Gulim;GulimChe;GungSeo;Gungsuh;GungsuhChe;Haettenschweiler;Harrington;Hei S;HeiT;Heisei Kaku Gothic;Hiragino Sans GB;Impact;Informal Roman;IrisUPC;Iskoola Pota;JasmineUPC;KacstOne;KaiTi;Kalinga;Kartika;Khmer UI;Kino MT;KodchiangUPC;Kokila;Kozuka Gothic Pr6N;Lao UI;Latha;Leelawadee;Levenim MT;LilyUPC;Lohit Gujarati;Loma;Lucida Bright;Lucida Console;Lucida Fax;Lucida Sans Unicode;MS Gothic;MS Mincho;MS PGothic;MS PMincho;MS Reference Sans Serif;MS UI Gothic;MV Boli;Magneto;Malgun Gothic;Mangal;Marlett;Matura MT Script Capitals;Meiryo UI;Meiryo;Menlo;Microsoft Himalaya;Microsoft JhengHei;Microsoft New Tai Lue;Microsoft PhagsPa;Microsoft Sans Serif;Microsoft Tai Le;Microsoft Uighur;Microsoft YaHei;Microsoft Yi Baiti;MingLiU;MingLiU-ExtB;MingLiU_HKSCS;MingLiU_HKSCS-ExtB;Miriam Fixed;Miriam;Mongolian Baiti;MoolBoran;NSimSun;Narkisim;News Gothic MT;Niagara Solid;Nyala;PMingLiU;PMingLiU-ExtB;Palace Script MT;Palatino Linotype;Papyrus;Perpetua;Plantagenet Cherokee;Playbill;Prelude Bold;Prelude Condensed Bold;Prelude Condensed Medium;Prelude Medium;PreludeCompressedWGL Black;PreludeCompressedWGL Bold;PreludeCompressedWGL Light;PreludeCompressedWGL Medium;PreludeCondensedWGL Black;PreludeCondensedWGL Bold;PreludeCondensedWGL Light;PreludeCondensedWGL Medium;PreludeWGL Black;PreludeWGL Bold;PreludeWGL Light;PreludeWGL Medium;Raavi;Rachana;Rockwell;Rod;Sakkal Majalla;Sawasdee;Script MT Bold;Segoe Print;Segoe Script;Segoe UI Light;Segoe UI Semibold;Segoe UI Symbol;Segoe UI;Shonar Bangla;Showcard Gothic;Shruti;SimHei;SimSun;SimSun-ExtB;Simplified Arabic Fixed;Simplified Arabic;Snap ITC;Sylfaen;Symbol;Tahoma;Times New Roman Baltic;Times New Roman CE;Times New Roman CYR;Times New Roman Greek;Times New Roman TUR;Times New Roman;TlwgMono;Traditional Arabic;Trebuchet MS;Tunga;Tw Cen MT Condensed Extra Bold;Ubuntu;Umpush;Univers;Utopia;Utsaah;Vani;Verdana;Vijaya;Vladimir Script;Vrinda;Webdings;Wide Latin;Wingdings".split(";"),b="",c=0;c<a.length;c++)this._fontDetective.detect(a[c])&&(b=c==a.length-1?b+a[c]:b+(a[c]+", "));return b},b.prototype.hasLocalStorage=function(){try{return!!e.localStorage}catch(a){return!0}},b.prototype.hasSessionStorage=function(){try{return!!e.sessionStorage}catch(a){return!0}},b.prototype.hasCookies=function(){return navigator.cookieEnabled},b.prototype.getTimeZone=function(){return String(String(new Date).split("(")[1]).split(")")[0]},b.prototype.getLanguage=function(){return navigator.language},b.prototype.getSystemLanguage=function(){return navigator.systemLanguage},b.prototype.hasCanvas=function(){var a=document.createElement("canvas");try{return!(!a.getContext||!a.getContext("2d"))}catch(b){return!1}},b.prototype.getCanvasPrint=function(a){var c,b=document.createElement("canvas");try{c=b.getContext("2d")}catch(d){return""}return a=a||"ClientJS,org <canvas> 1.0",c.textBaseline="top",c.font="14px 'Arial'",c.textBaseline="alphabetic",c.fillStyle="#f60",c.fillRect(125,1,62,20),c.fillStyle="#069",c.fillText(a,2,15),c.fillStyle="rgba(102, 204, 0, 0.7)",c.fillText(a,4,17),b.toDataURL()},b.prototype.getWebGLFingerprint=function(){var a,b=function(f){return a.clearColor(0,0,0,1),a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),"["+f[0]+", "+f[1]+"]"};if(!(a=this.createWebGLCanvas()))return"";var c=[],d=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,d);var f=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);a.bufferData(a.ARRAY_BUFFER,f,a.STATIC_DRAW),d.itemSize=3,d.numItems=3;var f=a.createProgram(),k=a.createShader(a.VERTEX_SHADER);a.shaderSource(k,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),a.compileShader(k);var p=a.createShader(a.FRAGMENT_SHADER);return a.shaderSource(p,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),a.compileShader(p),a.attachShader(f,k),a.attachShader(f,p),a.linkProgram(f),a.useProgram(f),f.vertexPosAttrib=a.getAttribLocation(f,"attrVertex"),f.offsetUniform=a.getUniformLocation(f,"uniformOffset"),a.enableVertexAttribArray(f.vertexPosArray),a.vertexAttribPointer(f.vertexPosAttrib,d.itemSize,a.FLOAT,!1,0,0),a.uniform2f(f.offsetUniform,1,1),a.drawArrays(a.TRIANGLE_STRIP,0,d.numItems),null!=a.canvas&&c.push(a.canvas.toDataURL()),c.push("extensions:"+a.getSupportedExtensions().join(";")),c.push("webgl aliased line width range:"+b(a.getParameter(a.ALIASED_LINE_WIDTH_RANGE))),c.push("webgl aliased point size range:"+b(a.getParameter(a.ALIASED_POINT_SIZE_RANGE))),c.push("webgl alpha bits:"+a.getParameter(a.ALPHA_BITS)),c.push("webgl antialiasing:"+(a.getContextAttributes().antialias?"yes":"no")),c.push("webgl blue bits:"+a.getParameter(a.BLUE_BITS)),c.push("webgl depth bits:"+a.getParameter(a.DEPTH_BITS)),c.push("webgl green bits:"+a.getParameter(a.GREEN_BITS)),c.push("webgl max anisotropy:"+function(a){var f,k=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic");return k?(f=a.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===f&&(f=2),f):null}(a)),c.push("webgl max combined texture image units:"+a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),c.push("webgl max cube map texture size:"+a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE)),c.push("webgl max fragment uniform vectors:"+a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS)),c.push("webgl max render buffer size:"+a.getParameter(a.MAX_RENDERBUFFER_SIZE)),c.push("webgl max texture image units:"+a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),c.push("webgl max texture size:"+a.getParameter(a.MAX_TEXTURE_SIZE)),c.push("webgl max varying vectors:"+a.getParameter(a.MAX_VARYING_VECTORS)),c.push("webgl max vertex attribs:"+a.getParameter(a.MAX_VERTEX_ATTRIBS)),c.push("webgl max vertex texture image units:"+a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),c.push("webgl max vertex uniform vectors:"+a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS)),c.push("webgl max viewport dims:"+b(a.getParameter(a.MAX_VIEWPORT_DIMS))),c.push("webgl red bits:"+a.getParameter(a.RED_BITS)),c.push("webgl renderer:"+a.getParameter(a.RENDERER)),c.push("webgl shading language version:"+a.getParameter(a.SHADING_LANGUAGE_VERSION)),c.push("webgl stencil bits:"+a.getParameter(a.STENCIL_BITS)),c.push("webgl vendor:"+a.getParameter(a.VENDOR)),c.push("webgl version:"+a.getParameter(a.VERSION)),a.getShaderPrecisionFormat?(c.push("webgl vertex shader high float precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision),c.push("webgl vertex shader high float precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).rangeMin),c.push("webgl vertex shader high float precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).rangeMax),c.push("webgl vertex shader medium float precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision),c.push("webgl vertex shader medium float precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).rangeMin),c.push("webgl vertex shader medium float precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).rangeMax),c.push("webgl vertex shader low float precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_FLOAT).precision),c.push("webgl vertex shader low float precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_FLOAT).rangeMin),c.push("webgl vertex shader low float precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_FLOAT).rangeMax),c.push("webgl fragment shader high float precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision),c.push("webgl fragment shader high float precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).rangeMin),c.push("webgl fragment shader high float precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).rangeMax),c.push("webgl fragment shader medium float precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision),c.push("webgl fragment shader medium float precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).rangeMin),c.push("webgl fragment shader medium float precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).rangeMax),c.push("webgl fragment shader low float precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_FLOAT).precision),c.push("webgl fragment shader low float precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_FLOAT).rangeMin),c.push("webgl fragment shader low float precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_FLOAT).rangeMax),c.push("webgl vertex shader high int precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_INT).precision),c.push("webgl vertex shader high int precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_INT).rangeMin),c.push("webgl vertex shader high int precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_INT).rangeMax),c.push("webgl vertex shader medium int precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_INT).precision),c.push("webgl vertex shader medium int precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_INT).rangeMin),c.push("webgl vertex shader medium int precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_INT).rangeMax),c.push("webgl vertex shader low int precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_INT).precision),c.push("webgl vertex shader low int precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_INT).rangeMin),c.push("webgl vertex shader low int precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_INT).rangeMax),c.push("webgl fragment shader high int precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_INT).precision),c.push("webgl fragment shader high int precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_INT).rangeMin),c.push("webgl fragment shader high int precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_INT).rangeMax),c.push("webgl fragment shader medium int precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_INT).precision),c.push("webgl fragment shader medium int precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_INT).rangeMin),c.push("webgl fragment shader medium int precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_INT).rangeMax),c.push("webgl fragment shader low int precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_INT).precision),c.push("webgl fragment shader low int precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_INT).rangeMin),c.push("webgl fragment shader low int precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_INT).rangeMax)):"undefined"==typeof NODEBUG&&console.log("This browser does not support getShaderPrecisionFormat. Ignoring it."),c.join("|")},b.prototype.getGraphicsDriverInfo=function(){return this.getGraphicsDriverVendor()+" "+this.getGraphicsDriverRenderer()},b.prototype.getGraphicsDriverVendor=function(){var a=this.createWebglCanvas();if(!a)return"";var b=a.getExtension("WEBGL_debug_renderer_info");return b?a.getParameter(b.UNMASKED_VENDOR_WEBGL):""},b.prototype.getGraphicsDriverRenderer=function(){var a=this.createWebglCanvas();if(!a)return"";var b=a.getExtension("WEBGL_debug_renderer_info");return b?a.getParameter(b.UNMASKED_RENDERER_WEBGL):""},b.prototype.createWebGLCanvas=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(c){}return b||(b=null),b},b.prototype.getMediaDevices=function(a){var b="";navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(c){c.forEach(function(a){b+=a.kind+":"+a.label+a.groudId+"#"+a.deviceId+";"}),a(b)}).catch(function(a){console.log(a.name+": "+error.message)}):a(b)},b.prototype._ipAddressesFilter=function(a){0==this.filters.ipAddresses?a(""):this.getIPAddresses(function(b){a(b?b.publicAddr+"|"+b.localAddr+"|"+b.ipv6+"|":null)})},e.ClientJS=b}(window),function(){function e(a,b){if(a===b)return 0;if(0===a.length)return b.length;if(0===b.length)return a.length;var d,h,g,l,e,c=Array(b.length+1);for(g=0;g<c.length;++g)c[g]=g;for(g=0;g<a.length;++g){for(h=g+1,l=0;l<b.length;++l)d=h,h=c[l]+(a.charAt(g)===b.charAt(l)?0:1),e=d+1,h>e&&(h=e),e=c[l+1]+1,h>e&&(h=e),c[l]=d;c[l]=h}return h}function b(){this.c=this.z=this.y=this.x=0,this.window=Array(7)}function a(a,c){for(var p=["",""],d=671226215,h=671226215,g=new b,l=0,e=a.length;l<e;l++)d=(16777619*d^a[l])>>>0,h=(16777619*h^a[l])>>>0,g.update(a[l]),l!==e-1&&g.sum()%c!=c-1||(p[0]+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&d),d=671226215),l!==e-1&&g.sum()%(2*c)!=2*c-1||(p[1]+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&h),h=671226215);return p}function r(a,b){return 100*(1-e(a,b)/Math.max(a.length,b.length))}var c={},d=!1;void 0!==module&&module.exports?exports=module.exports=c:(this.ctph=c,d=!0),b.prototype.update=function(a){this.y-=this.x,this.y+=7*a,this.x+=a,this.x-=this.window[this.c%7]||0,this.window[this.c%7]=a,this.c++,this.z=this.z<<5>>>0,this.z=(this.z^a)>>>0},b.prototype.sum=function(){return this.x+this.y+this.z>>>0},c.digest=function(f){if("string"==typeof f)if(d){f=unescape(encodeURIComponent(f));for(var b=[],c=0;c<f.length;c++)b.push(f.charCodeAt(c));f=b}else f=new Buffer(f).toJSON();for(b=Math.ceil(Math.log(f.length/192)/Math.log(2)),b=Math.max(3,b),c=a(f,3<<b);0<b&&32>c[0].length;)c=a(f,3<<--b);return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b)+":"+c[0]+":"+c[1]},c.similarity=function(a,b){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(0)),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b.charAt(0));return c>d?arguments.callee(b,a):1<Math.abs(c-d)?0:c===d?r(a.split(":")[1],b.split(":")[1]):r(a.split(":")[2],b.split(":")[1])}}();var deployJava=function(){function e(a){d.debug&&(console.log?console.log(a):alert(a))}function b(a){return null==a||0==a.length?"http://java.com/dt-redirect":("&"==a.charAt(0)&&(a=a.substring(1,a.length)),"http://java.com/dt-redirect?"+a)}var a=["id","class","title","style"];"classid codebase codetype data type archive declare standby height width usemap name tabindex align border hspace vspace".split(" ").concat(a,["lang","dir"],"onclick ondblclick onmousedown onmouseup onmouseover onmousemove onmouseout onkeypress onkeydown onkeyup".split(" "));var c,r="codebase code name archive object width height alt align hspace vspace".split(" ").concat(a);try{c=-1!=document.location.protocol.indexOf("http")?"//java.com/js/webstart.png":"http://java.com/js/webstart.png"}catch(f){c="http://java.com/js/webstart.png"}var d={debug:null,version:"20120801",firefoxJavaVersion:null,myInterval:null,preInstallJREList:null,returnPage:null,brand:null,locale:null,installType:null,EAInstallEnabled:!1,EarlyAccessURL:null,oldMimeType:"application/npruntime-scriptable-plugin;DeploymentToolkit",mimeType:"application/java-deployment-toolkit",launchButtonPNG:c,browserName:null,browserName2:null,getJREs:function(){var a=[];if(this.isPluginInstalled())for(var b=this.getPlugin().jvms,c=0;c<b.getLength();c++)a[c]=b.get(c).version;else b=this.getBrowser(),"MSIE"==b?this.testUsingActiveX("1.7.0")?a[0]="1.7.0":this.testUsingActiveX("1.6.0")?a[0]="1.6.0":this.testUsingActiveX("1.5.0")?a[0]="1.5.0":this.testUsingActiveX("1.4.2")?a[0]="1.4.2":this.testForMSVM()&&(a[0]="1.1"):"Netscape Family"==b&&(this.getJPIVersionUsingMimeType(),null!=this.firefoxJavaVersion?a[0]=this.firefoxJavaVersion:this.testUsingMimeTypes("1.7")?a[0]="1.7.0":this.testUsingMimeTypes("1.6")?a[0]="1.6.0":this.testUsingMimeTypes("1.5")?a[0]="1.5.0":this.testUsingMimeTypes("1.4.2")?a[0]="1.4.2":"Safari"==this.browserName2&&(this.testUsingPluginsArray("1.7.0")?a[0]="1.7.0":this.testUsingPluginsArray("1.6")?a[0]="1.6.0":this.testUsingPluginsArray("1.5")?a[0]="1.5.0":this.testUsingPluginsArray("1.4.2")&&(a[0]="1.4.2")));if(this.debug)for(c=0;c<a.length;++c)e("[getJREs()] We claim to have detected Java SE "+a[c]);return a},installJRE:function(a,b){if(this.isPluginInstalled()&&this.isAutoInstallEnabled(a)){var c=!1;return(c=this.isCallbackSupported()?this.getPlugin().installJRE(a,b):this.getPlugin().installJRE(a))&&(this.refresh(),null!=this.returnPage&&(document.location=this.returnPage)),c}return this.installLatestJRE()},isAutoInstallEnabled:function(a){if(!this.isPluginInstalled())return!1;if(void 0===a&&(a=null),"MSIE"!=deployJava.browserName||deployJava.compareVersionToPattern(deployJava.getPlugin().version,["10","0","0"],!1,!0))a=!0;else if(null==a)a=!1;else{var b="1.6.0_33+";if(null==b||0==b.length)a=!0;else{var c=b.charAt(b.length-1);if("+"!=c&&"*"!=c&&-1!=b.indexOf("_")&&"_"!=c&&(b+="*",c="*"),b=b.substring(0,b.length-1),0<b.length){var d=b.charAt(b.length-1);"."!=d&&"_"!=d||(b=b.substring(0,b.length-1))}a="*"==c?0==a.indexOf(b):"+"==c&&b<=a}a=!a}return a},isCallbackSupported:function(){return this.isPluginInstalled()&&this.compareVersionToPattern(this.getPlugin().version,["10","2","0"],!1,!0)},installLatestJRE:function(a){if(this.isPluginInstalled()&&this.isAutoInstallEnabled()){var c=!1;return(c=this.isCallbackSupported()?this.getPlugin().installLatestJRE(a):this.getPlugin().installLatestJRE())&&(this.refresh(),null!=this.returnPage&&(document.location=this.returnPage)),c}if(a=this.getBrowser(),c=navigator.platform.toLowerCase(),"true"==this.EAInstallEnabled&&-1!=c.indexOf("win")&&null!=this.EarlyAccessURL)this.preInstallJREList=this.getJREs(),null!=this.returnPage&&(this.myInterval=setInterval("deployJava.poll()",3e3)),location.href=this.EarlyAccessURL;else{if("MSIE"==a)return this.IEInstall();if("Netscape Family"==a&&-1!=c.indexOf("win32"))return this.FFInstall();location.href=b((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:""))}return!1},runApplet:function(a,b,c){"undefined"!=c&&null!=c||(c="1.1");var d=c.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$");null==this.returnPage&&(this.returnPage=document.location),null!=d?"?"!=this.getBrowser()?this.versionCheck(c+"+")?this.writeAppletTag(a,b):this.installJRE(c+"+")&&(this.refresh(),location.href=document.location,this.writeAppletTag(a,b)):this.writeAppletTag(a,b):e("[runApplet()] Invalid minimumVersion argument to runApplet():"+c)},writeAppletTag:function(a,b){var c="<applet ",d="",h=!0;null!=b&&"object"==typeof b||(b={});for(var g in a){var l;a:{l=g.toLowerCase();for(var e=r.length,y=0;y<e;y++)if(r[y]===l){l=!0;break a}l=!1}l?(c+=" "+g+'="'+a[g]+'"',"code"==g&&(h=!1)):b[g]=a[g]}g=!1;for(var t in b)"codebase_lookup"==t&&(g=!0),"object"!=t&&"java_object"!=t&&"java_code"!=t||(h=!1),d+='<param name="'+t+'" value="'+b[t]+'"/>';g||(d+='<param name="codebase_lookup" value="false"/>'),h&&(c+=' code="dummy"'),document.write(c+">\n"+d+"\n</applet>")},versionCheck:function(a){var b=0,c=a.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?(\\*|\\+)?$");if(null!=c){for(var d=a=!1,h=[],g=1;g<c.length;++g)"string"==typeof c[g]&&""!=c[g]&&(h[b]=c[g],b++);for("+"==h[h.length-1]?(d=!0,a=!1,h.length--):"*"==h[h.length-1]?(d=!1,a=!0,h.length--):4>h.length&&(d=!1,a=!0),b=this.getJREs(),g=0;g<b.length;++g)if(this.compareVersionToPattern(b[g],h,a,d))return!0}else b="Invalid versionPattern passed to versionCheck: "+a,e("[versionCheck()] "+b),alert(b);return!1},isWebStartInstalled:function(a){if("?"==this.getBrowser())return!0;"undefined"!=a&&null!=a||(a="1.4.2");var b=!1;return null!=a.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$")?b=this.versionCheck(a+"+"):(e("[isWebStartInstaller()] Invalid minimumVersion argument to isWebStartInstalled(): "+a),b=this.versionCheck("1.4.2+")),b},getJPIVersionUsingMimeType:function(){for(var a=0;a<navigator.mimeTypes.length;++a){var b=navigator.mimeTypes[a].type.match(/^application\/x-java-applet;jpi-version=(.*)$/);if(null!=b&&(this.firefoxJavaVersion=b[1],"Opera"!=this.browserName2))break}},launchWebStartApplication:function(a){if(navigator.userAgent.toLowerCase(),this.getJPIVersionUsingMimeType(),0==this.isWebStartInstalled("1.7.0")&&(0==this.installJRE("1.7.0+")||0==this.isWebStartInstalled("1.7.0")))return!1;var b=null;document.documentURI&&(b=document.documentURI),null==b&&(b=document.URL);var d,c=this.getBrowser();"MSIE"==c?d='<object classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93" width="0" height="0"><PARAM name="launchjnlp" value="'+a+'"><PARAM name="docbase" value="'+b+'"></object>':"Netscape Family"==c&&(d='<embed type="application/x-java-applet;jpi-version='+this.firefoxJavaVersion+'" width="0" height="0" launchjnlp="'+a+'"docbase="'+b+'" />'),"undefined"==document.body||null==document.body?(document.write(d),document.location=b):(a=document.createElement("div"),a.id="div1",a.style.position="relative",a.style.left="-10000px",a.style.margin="0px auto",a.className="dynamicDiv",a.innerHTML=d,document.body.appendChild(a))},createWebStartLaunchButtonEx:function(a,b){null==this.returnPage&&(this.returnPage=a),document.write("<a href=\"javascript:deployJava.launchWebStartApplication('"+a+'\');" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},createWebStartLaunchButton:function(a,b){null==this.returnPage&&(this.returnPage=a),document.write('<a href="javascript:if (!deployJava.isWebStartInstalled(&quot;'+b+"&quot;)) {if (deployJava.installLatestJRE()) {if (deployJava.launch(&quot;"+a+"&quot;)) {}}} else {if (deployJava.launch(&quot;"+a+'&quot;)) {}}" onMouseOver="window.status=\'\'; return true;"><img src="'+this.launchButtonPNG+'" border="0" /></a>')},launch:function(a){return document.location=a,!0},isPluginInstalled:function(){var a=this.getPlugin();return!(!a||!a.jvms)},isAutoUpdateEnabled:function(){return!!this.isPluginInstalled()&&this.getPlugin().isAutoUpdateEnabled()},setAutoUpdateEnabled:function(){return!!this.isPluginInstalled()&&this.getPlugin().setAutoUpdateEnabled()},setInstallerType:function(a){return this.installType=a,!!this.isPluginInstalled()&&this.getPlugin().setInstallerType(a)},setAdditionalPackages:function(a){return!!this.isPluginInstalled()&&this.getPlugin().setAdditionalPackages(a)},setEarlyAccess:function(a){this.EAInstallEnabled=a},isPlugin2:function(){if(this.isPluginInstalled()&&this.versionCheck("1.6.0_10+"))try{return this.getPlugin().isPlugin2()}catch(a){}return!1},allowPlugin:function(){return this.getBrowser(),"Safari"!=this.browserName2&&"Opera"!=this.browserName2},getPlugin:function(){this.refresh();var a=null;return this.allowPlugin()&&(a=document.getElementById("deployJavaPlugin")),a},compareVersionToPattern:function(a,b,c,d){if(void 0==a||void 0==b)return!1;var h=a.match("^(\\d+)(?:\\.(\\d+)(?:\\.(\\d+)(?:_(\\d+))?)?)?$");if(null!=h){var g=0;a=[];for(var l=1;l<h.length;++l)"string"==typeof h[l]&&""!=h[l]&&(a[g]=h[l],g++);if(h=Math.min(a.length,b.length),d){for(l=0;l<h;++l){if(a[l]<b[l])return!1;if(a[l]>b[l])break}return!0}for(l=0;l<h;++l)if(a[l]!=b[l])return!1;return!!c||a.length==b.length}return!1},getBrowser:function(){if(null==this.browserName){var a=navigator.userAgent.toLowerCase();e("[getBrowser()] navigator.userAgent.toLowerCase() -> "+a),-1!=a.indexOf("msie")&&-1==a.indexOf("opera")?this.browserName2=this.browserName="MSIE":-1!=a.indexOf("iphone")?(this.browserName="Netscape Family",this.browserName2="iPhone"):-1!=a.indexOf("firefox")&&-1==a.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Firefox"):-1!=a.indexOf("chrome")?(this.browserName="Netscape Family",this.browserName2="Chrome"):-1!=a.indexOf("safari")?(this.browserName="Netscape Family",this.browserName2="Safari"):-1!=a.indexOf("mozilla")&&-1==a.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Other"):-1!=a.indexOf("opera")?(this.browserName="Netscape Family",this.browserName2="Opera"):(this.browserName="?",this.browserName2="unknown"),e("[getBrowser()] Detected browser name:"+this.browserName+", "+this.browserName2)}return this.browserName},testUsingActiveX:function(a){if(a="JavaWebStart.isInstalled."+a+".0","undefined"==typeof ActiveXObject||!ActiveXObject)return e("[testUsingActiveX()] Browser claims to be IE, but no ActiveXObject object?"),!1;try{return null!=new ActiveXObject(a)}catch(b){return!1}},testForMSVM:function(){if("undefined"!=typeof oClientCaps){var a=oClientCaps.getComponentVersion("{08B0E5C0-4FCB-11CF-AAA5-00401C608500}","ComponentID");return""!=a&&"5,0,5000,0"!=a}return!1},testUsingMimeTypes:function(a){if(!navigator.mimeTypes)return e("[testUsingMimeTypes()] Browser claims to be Netscape family, but no mimeTypes[] array?"),!1;for(var b=0;b<navigator.mimeTypes.length;++b){s=navigator.mimeTypes[b].type;var c=s.match(/^application\/x-java-applet\x3Bversion=(1\.8|1\.7|1\.6|1\.5|1\.4\.2)$/);if(null!=c&&this.compareVersions(c[1],a))return!0}return!1},testUsingPluginsArray:function(a){if(!navigator.plugins||!navigator.plugins.length)return!1;for(var b=navigator.platform.toLowerCase(),c=0;c<navigator.plugins.length;++c)if(s=navigator.plugins[c].description,-1!=s.search(/^Java Switchable Plug-in (Cocoa)/)){if(this.compareVersions("1.5.0",a))return!0}else if(-1!=s.search(/^Java/)&&-1!=b.indexOf("win")&&(this.compareVersions("1.5.0",a)||this.compareVersions("1.6.0",a)))return!0;return!!this.compareVersions("1.5.0",a)},IEInstall:function(){return location.href=b((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:"")),!1},done:function(a,b){},FFInstall:function(){return location.href=b((null!=this.returnPage?"&returnPage="+this.returnPage:"")+(null!=this.locale?"&locale="+this.locale:"")+(null!=this.brand?"&brand="+this.brand:"")+(null!=this.installType?"&type="+this.installType:"")),!1},compareVersions:function(a,b){for(var c=a.split("."),d=b.split("."),h=0;h<c.length;++h)c[h]=Number(c[h]);for(h=0;h<d.length;++h)d[h]=Number(d[h]);return 2==c.length&&(c[2]=0),c[0]>d[0]||!(c[0]<d[0])&&(c[1]>d[1]||!(c[1]<d[1])&&(c[2]>d[2]||!(c[2]<d[2])))},enableAlerts:function(){this.browserName=null,this.debug=!0},poll:function(){this.refresh();var a=this.getJREs();0==this.preInstallJREList.length&&0!=a.length&&(clearInterval(this.myInterval),null!=this.returnPage&&(location.href=this.returnPage)),0!=this.preInstallJREList.length&&0!=a.length&&this.preInstallJREList[0]!=a[0]&&(clearInterval(this.myInterval),null!=this.returnPage&&(location.href=this.returnPage))},writePluginTag:function(){var a=this.getBrowser();"MSIE"==a?document.write('<object classid="clsid:CAFEEFAC-DEC7-0000-0001-ABCDEFFEDCBA" id="deployJavaPlugin" width="0" height="0"></object>'):"Netscape Family"==a&&this.allowPlugin()&&this.writeEmbedTag()},refresh:function(){navigator.plugins.refresh(!1),"Netscape Family"==this.getBrowser()&&this.allowPlugin()&&null==document.getElementById("deployJavaPlugin")&&this.writeEmbedTag()},writeEmbedTag:function(){var a=!1;if(null!=navigator.mimeTypes){for(var b=0;b<navigator.mimeTypes.length;b++)navigator.mimeTypes[b].type==this.mimeType&&navigator.mimeTypes[b].enabledPlugin&&(document.write('<embed id="deployJavaPlugin" type="'+this.mimeType+'" hidden="true" />'),a=!0);if(!a)for(b=0;b<navigator.mimeTypes.length;b++)navigator.mimeTypes[b].type==this.oldMimeType&&navigator.mimeTypes[b].enabledPlugin&&document.write('<embed id="deployJavaPlugin" type="'+this.oldMimeType+'" hidden="true" />')}}};if(d.writePluginTag(),null==d.locale){if(null==(a=null))try{a=navigator.userLanguage}catch(f){}if(null==a)try{a=navigator.systemLanguage}catch(f){}if(null==a)try{a=navigator.language}catch(f){}null!=a&&(a.replace("-","_"),d.locale=a)}return d}(),Detector=function(){var e=["monospace","sans-serif","serif"],b=document.getElementsByTagName("body")[0],a=document.createElement("span");a.style.fontSize="72px",a.innerHTML="mmmmmmmmmmlli";var d,r={},c={};for(d in e)a.style.fontFamily=e[d],b.appendChild(a),r[e[d]]=a.offsetWidth,c[e[d]]=a.offsetHeight,b.removeChild(a);this.detect=function(d){var p,k=!1;for(p in e){a.style.fontFamily=d+","+e[p],b.appendChild(a);var q=a.offsetWidth!=r[e[p]]||a.offsetHeight!=c[e[p]];b.removeChild(a),k=k||q}return k}},swfobject=function(){function e(){if(!A){try{var a=n.getElementsByTagName("body")[0].appendChild(n.createElement("span"));a.parentNode.removeChild(a)}catch(b){return}A=!0;for(var a=F.length,c=0;c<a;c++)F[c]()}}function b(a){A?a():F[F.length]=a}function a(a){if(void 0!==u.addEventListener)u.addEventListener("load",a,!1);else if(void 0!==n.addEventListener)n.addEventListener("load",a,!1);else if(void 0!==u.attachEvent)w(u,"onload",a);else if("function"==typeof u.onload){var b=u.onload;u.onload=function(){b(),a()}}else u.onload=a}function r(){var a=n.getElementsByTagName("body")[0],b=n.createElement("object");b.setAttribute("type","application/x-shockwave-flash");var d=a.appendChild(b);if(d){var h=0;!function(){if(void 0!==d.GetVariable){var l=d.GetVariable("$version");l&&(l=l.split(" ")[1].split(","),m.pv=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)])}else if(10>h)return h++,void setTimeout(arguments.callee,10);a.removeChild(b),d=null,c()}()}else c()}function c(){var a=z.length;if(0<a)for(var b=0;b<a;b++){var c=z[b].id,h=z[b].callbackFn,g={success:!1,id:c};if(0<m.pv[0]){var e=l(c);if(e)if(!y(z[b].swfVersion)||m.wk&&312>m.wk)if(z[b].expressInstall&&f()){g={},g.data=z[b].expressInstall,g.width=e.getAttribute("width")||"0",g.height=e.getAttribute("height")||"0",e.getAttribute("class")&&(g.styleclass=e.getAttribute("class")),e.getAttribute("align")&&(g.align=e.getAttribute("align"));for(var n={},e=e.getElementsByTagName("param"),t=e.length,D=0;D<t;D++)"movie"!=e[D].getAttribute("name").toLowerCase()&&(n[e[D].getAttribute("name")]=e[D].getAttribute("value"));k(g,n,c,h)}else p(e),h&&h(g);else B(c,!0),h&&(g.success=!0,g.ref=d(c),h(g))}else B(c,!0),h&&((c=d(c))&&void 0!==c.SetVariable&&(g.success=!0,g.ref=c),h(g))}}function d(a){var b=null;return(a=l(a))&&"OBJECT"==a.nodeName&&(void 0!==a.SetVariable?b=a:(a=a.getElementsByTagName("object")[0])&&(b=a)),b}function f(){return!G&&y("6.0.65")&&(m.win||m.mac)&&!(m.wk&&312>m.wk)}function k(a,b,c,d){G=!0,J=d||null,L={success:!1,id:c};var g=l(c);g&&("OBJECT"==g.nodeName?(E=q(g),H=null):(E=g,H=c),a.id="SWFObjectExprInst",(void 0===a.width||!/%$/.test(a.width)&&310>parseInt(a.width,10))&&(a.width="310"),(void 0===a.height||!/%$/.test(a.height)&&137>parseInt(a.height,10))&&(a.height="137"),n.title=n.title.slice(0,47)+" - Flash Player Installation",d=m.ie&&m.win?"ActiveX":"PlugIn",d="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+d+"&MMdoctitle="+n.title,b.flashvars=void 0!==b.flashvars?b.flashvars+"&"+d:d,m.ie&&m.win&&4!=g.readyState&&(d=n.createElement("div"),c+="SWFObjectNew",d.setAttribute("id",c),g.parentNode.insertBefore(d,g),g.style.display="none",function(){4==g.readyState?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}()),h(a,b,c))}function p(a){if(m.ie&&m.win&&4!=a.readyState){var b=n.createElement("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(q(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(q(a),a)}function q(a){var b=n.createElement("div");if(m.win&&m.ie)b.innerHTML=a.innerHTML;else if((a=a.getElementsByTagName("object")[0])&&(a=a.childNodes))for(var c=a.length,d=0;d<c;d++)1==a[d].nodeType&&"PARAM"==a[d].nodeName||8==a[d].nodeType||b.appendChild(a[d].cloneNode(!0));return b}function h(a,b,c){var d,h=l(c);if(m.wk&&312>m.wk)return d;if(h)if(void 0===a.id&&(a.id=c),m.ie&&m.win){var e,g="";for(e in a)a[e]!=Object.prototype[e]&&("data"==e.toLowerCase()?b.movie=a[e]:"styleclass"==e.toLowerCase()?g+=' class="'+a[e]+'"':"classid"!=e.toLowerCase()&&(g+=" "+e+'="'+a[e]+'"'));e="";for(var f in b)b[f]!=Object.prototype[f]&&(e+='<param name="'+f+'" value="'+b[f]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+">"+e+"</object>",I[I.length]=a.id,d=l(a.id)}else{f=n.createElement("object"),f.setAttribute("type","application/x-shockwave-flash");for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?f.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&f.setAttribute(k,a[k]));for(g in b)b[g]!=Object.prototype[g]&&"movie"!=g.toLowerCase()&&(a=f,e=g,k=b[g],c=n.createElement("param"),c.setAttribute("name",e),c.setAttribute("value",k),a.appendChild(c));h.parentNode.replaceChild(f,h),d=f}return d}function g(a){var b=l(a);b&&"OBJECT"==b.nodeName&&(m.ie&&m.win?(b.style.display="none",function(){if(4==b.readyState){var c=l(a);if(c){for(var d in c)"function"==typeof c[d]&&(c[d]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function l(a){var b=null;try{b=n.getElementById(a)}catch(c){}return b}function w(a,b,c){a.attachEvent(b,c),C[C.length]=[a,b,c]}function y(a){var b=m.pv;return a=a.split("."),a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10)||0,a[2]=parseInt(a[2],10)||0,b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]}function t(a,b,c,d){if(!m.ie||!m.mac){var h=n.getElementsByTagName("head")[0];h&&(c=c&&"string"==typeof c?c:"screen",d&&(K=x=null),x&&K==c||(d=n.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("media",c),x=h.appendChild(d),m.ie&&m.win&&void 0!==n.styleSheets&&0<n.styleSheets.length&&(x=n.styleSheets[n.styleSheets.length-1]),K=c),m.ie&&m.win?x&&"object"==typeof x.addRule&&x.addRule(a,b):x&&void 0!==n.createTextNode&&x.appendChild(n.createTextNode(a+" {"+b+"}")))}}function B(a,b){if(M){var c=b?"visible":"hidden";A&&l(a)?l(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function N(a){return null!=/[\\\"<>\.;]/.exec(a)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(a):a}var E,H,J,L,x,K,u=window,n=document,v=navigator,O=!1,F=[function(){O?r():c()}],z=[],I=[],C=[],A=!1,G=!1,M=!0,m=function(){var a=void 0!==n.getElementById&&void 0!==n.getElementsByTagName&&void 0!==n.createElement,b=v.userAgent.toLowerCase(),c=v.platform.toLowerCase(),d=/win/.test(c?c:b),c=/mac/.test(c?c:b),b=!!/webkit/.test(b)&&parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),h=!1,g=[0,0,0],e=null;if(void 0!==v.plugins&&"object"==typeof v.plugins["Shockwave Flash"])!(e=v.plugins["Shockwave Flash"].description)||void 0!==v.mimeTypes&&v.mimeTypes["application/x-shockwave-flash"]&&!v.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(O=!0,h=!1,e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),g[0]=parseInt(e.replace(/^(.*)\..*$/,"$1"),10),g[1]=parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),g[2]=/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(void 0!==u.ActiveXObject)try{var f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");f&&(e=f.GetVariable("$version"))&&(h=!0,e=e.split(" ")[1].split(","),g=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}catch(l){}return{w3:a,pv:g,wk:b,ie:h,win:d,mac:c}}();return function(){m.w3&&((void 0!==n.readyState&&"complete"==n.readyState||void 0===n.readyState&&(n.getElementsByTagName("body")[0]||n.body))&&e(),A||(void 0!==n.addEventListener&&n.addEventListener("DOMContentLoaded",e,!1),m.ie&&m.win&&(n.attachEvent("onreadystatechange",function(){"complete"==n.readyState&&(n.detachEvent("onreadystatechange",arguments.callee),e())}),u==top&&function(){if(!A){try{n.documentElement.doScroll("left")}catch(a){return void setTimeout(arguments.callee,0)}e()}}()),m.wk&&function(){A||(/loaded|complete/.test(n.readyState)?e():setTimeout(arguments.callee,0))}(),a(e)))}(),function(){m.ie&&m.win&&window.attachEvent("onunload",function(){for(var a=C.length,b=0;b<a;b++)C[b][0].detachEvent(C[b][1],C[b][2]);for(a=I.length,b=0;b<a;b++)g(I[b]);for(var c in m)m[c]=null;m=null;for(var d in swfobject)swfobject[d]=null;swfobject=null})}(),{registerObject:function(a,b,c,d){if(m.w3&&a&&b){var h={};h.id=a,h.swfVersion=b,h.expressInstall=c,h.callbackFn=d,z[z.length]=h,B(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(m.w3)return d(a)},embedSWF:function(a,c,d,g,e,l,n,t,p,q){var r={success:!1,id:c};m.w3&&!(m.wk&&312>m.wk)&&a&&c&&d&&g&&e?(B(c,!1),b(function(){d+="",g+="";var b={};if(p&&"object"==typeof p)for(var m in p)b[m]=p[m];if(b.data=a,b.width=d,b.height=g,m={},t&&"object"==typeof t)for(var w in t)m[w]=t[w];if(n&&"object"==typeof n)for(var u in n)m.flashvars=void 0!==m.flashvars?m.flashvars+"&"+u+"="+n[u]:u+"="+n[u];if(y(e))w=h(b,m,c),b.id==c&&B(c,!0),r.success=!0,r.ref=w;else{if(l&&f())return b.data=l,void k(b,m,c,q);B(c,!0)}q&&q(r)})):q&&q(r)},switchOffAutoHideShow:function(){M=!1},ua:m,getFlashPlayerVersion:function(){return{major:m.pv[0],minor:m.pv[1],release:m.pv[2]}},hasFlashPlayerVersion:y,createSWF:function(a,b,c){if(m.w3)return h(a,b,c)},showExpressInstall:function(a,b,c,d){m.w3&&f()&&k(a,b,c,d)},removeSWF:function(a){m.w3&&g(a)},createCSS:function(a,b,c,d){m.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:a,getQueryParamValue:function(a){var b=n.location.search||n.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return N(b);for(var b=b.split("&"),c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return N(b[c].substring(b[c].indexOf("=")+1))}return""},expressInstallCallback:function(){if(G){var a=l("SWFObjectExprInst");a&&E&&(a.parentNode.replaceChild(E,a),H&&(B(H,!0),m.ie&&m.win&&(E.style.display="block")),J&&J(L)),G=!1}}}}();!function(e,b){var a={extend:function(a,b){for(var c in b)-1!=="browser cpu device engine os".indexOf(c)&&0==b[c].length%2&&(a[c]=b[c].concat(a[c]));return a},has:function(a,b){return"string"==typeof a&&-1!==b.toLowerCase().indexOf(a.toLowerCase())},lowerize:function(a){return a.toLowerCase()},major:function(a){return"string"==typeof a?a.split(".")[0]:b}},r=function(){for(var a,d,e,f,k,p,q,c=0,r=arguments;c<r.length&&!p;){var n=r[c],v=r[c+1];if(void 0===a)for(f in a={},v)v.hasOwnProperty(f)&&(k=v[f],"object"==typeof k?a[k[0]]=b:a[k]=b);for(d=e=0;d<n.length&&!p;)if(p=n[d++].exec(this.getUA()))for(f=0;f<v.length;f++)q=p[++e],k=v[f],"object"==typeof k&&0<k.length?2==k.length?a[k[0]]="function"==typeof k[1]?k[1].call(this,q):k[1]:3==k.length?a[k[0]]="function"!=typeof k[1]||k[1].exec&&k[1].test?q?q.replace(k[1],k[2]):b:q?k[1].call(this,q,k[2]):b:4==k.length&&(a[k[0]]=q?k[3].call(this,q.replace(k[1],k[2])):b):a[k]=q||b;c+=2}return a},c=function(c,d){for(var e in d)if("object"==typeof d[e]&&0<d[e].length){for(var f=0;f<d[e].length;f++)if(a.has(d[e][f],c))return"?"===e?b:e}else if(a.has(d[e],c))return"?"===e?b:e;return c},d={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},f={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/(OPiOS)[\/\s]+([\w\.]+)/i],[["name","Opera Mini"],"version"],[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name","version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],["version",["name","Android Browser"]],[/FBAV\/([\w\.]+);/i],["version",["name","Facebook"]],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",c,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",a.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",a.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",a.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",c,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[["vendor","Sony"],["model","Xperia Phone"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",c,{HTC:"APA",Sprint:"Sprint"}],["model",c,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(samsung);smarttv/i],["vendor","model",["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],["model",["vendor","Acer"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[["type",a.lowerize],"vendor","model"]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",c,d]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",c,d]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},k=function(b,c){if(!(this instanceof k))return new k(b,c).getResult();var d=b||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),p=c?a.extend(f,c):f;return this.getBrowser=function(){var b=r.apply(this,p.browser);return b.major=a.major(b.version),b},this.getCPU=function(){return r.apply(this,p.cpu)},this.getDevice=function(){return r.apply(this,p.device)},this.getEngine=function(){return r.apply(this,p.engine)},this.getOS=function(){return r.apply(this,p.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=a,this},this.setUA(d),this};k.VERSION="0.7.10",k.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"},k.CPU={ARCHITECTURE:"architecture"},k.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"},k.ENGINE={NAME:"name",VERSION:"version"},k.OS={NAME:"name",VERSION:"version"},void 0!==module&&module.exports&&(exports=module.exports=k),exports.UAParser=k;var p=e.jQuery||e.Zepto;if(void 0!==p){var q=new k;p.ua=q.getResult(),p.ua.get=function(){return q.getUA()},p.ua.set=function(a){q.setUA(a),a=q.getResult();for(var b in a)p.ua[b]=a[b]}}}("object"==typeof window?window:this)}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var cb,i=0;i<callbacks.length;i++)if((cb=callbacks[i])===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},function(module,exports,__webpack_require__){(function(Buffer){function ECDH(curve){this.curveType=aliases[curve],this.curveType||(this.curveType={name:curve}),this.curve=new elliptic.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(bn,enc,len){Array.isArray(bn)||(bn=bn.toArray());var buf=new Buffer(bn);if(len&&buf.length<len){var zeros=new Buffer(len-buf.length);zeros.fill(0),buf=Buffer.concat([zeros,buf])}return enc?buf.toString(enc):buf}var elliptic=__webpack_require__(10),BN=__webpack_require__(6);module.exports=function(curve){return new ECDH(curve)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};aliases.p224=aliases.secp224r1,aliases.p256=aliases.secp256r1=aliases.prime256v1,aliases.p192=aliases.secp192r1=aliases.prime192v1,aliases.p384=aliases.secp384r1,aliases.p521=aliases.secp521r1,ECDH.prototype.generateKeys=function(enc,format){return this.keys=this.curve.genKeyPair(),this.getPublicKey(enc,format)},ECDH.prototype.computeSecret=function(other,inenc,enc){return inenc=inenc||"utf8",Buffer.isBuffer(other)||(other=new Buffer(other,inenc)),formatReturnValue(this.curve.keyFromPublic(other).getPublic().mul(this.keys.getPrivate()).getX(),enc,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(enc,format){var key=this.keys.getPublic("compressed"===format,!0);return"hybrid"===format&&(key[key.length-1]%2?key[0]=7:key[0]=6),formatReturnValue(key,enc)},ECDH.prototype.getPrivateKey=function(enc){return formatReturnValue(this.keys.getPrivate(),enc)},ECDH.prototype.setPublicKey=function(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this.keys._importPublic(pub),this},ECDH.prototype.setPrivateKey=function(priv,enc){enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc));var _priv=new BN(priv);return _priv=_priv.toString(16),this.keys._importPrivate(_priv),this}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function toArray(buf,bigEndian){if(buf.length%intSize!=0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}for(var arr=[],fn=bigEndian?buf.readInt32BE:buf.readInt32LE,i=0;i<buf.length;i+=intSize)arr.push(fn.call(buf,i));return arr}function toBuffer(arr,size,bigEndian){for(var buf=new Buffer(size),fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE,i=0;i<arr.length;i++)fn.call(buf,arr[i],4*i,!0);return buf}function hash(buf,fn,hashSize,bigEndian){return Buffer.isBuffer(buf)||(buf=new Buffer(buf)),toBuffer(fn(toArray(buf,bigEndian),buf.length*chrsz),hashSize,bigEndian)}var intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;exports.hash=hash}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){function hmac(fn,key,data){Buffer.isBuffer(key)||(key=new Buffer(key)),Buffer.isBuffer(data)||(data=new Buffer(data)),key.length>blocksize?key=fn(key):key.length<blocksize&&(key=Buffer.concat([key,zeroBuffer],blocksize));for(var ipad=new Buffer(blocksize),opad=new Buffer(blocksize),i=0;i<blocksize;i++)ipad[i]=54^key[i],opad[i]=92^key[i];var hash=fn(Buffer.concat([ipad,data]));return fn(Buffer.concat([opad,hash]))}function hash(alg,key){alg=alg||"sha1";var fn=algorithms[alg],bufs=[],length=0;return fn||error("algorithm:",alg,"is not yet supported"),{update:function(data){return Buffer.isBuffer(data)||(data=new Buffer(data)),bufs.push(data),length+=data.length,this},digest:function(enc){var buf=Buffer.concat(bufs),r=key?hmac(fn,key,buf):fn(buf);return bufs=null,enc?r.toString(enc):r}}}function error(){var m=[].slice.call(arguments).join(" ");throw new Error([m,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}var Buffer=__webpack_require__(0).Buffer,sha=__webpack_require__(323),sha256=__webpack_require__(324),rng=__webpack_require__(322),md5=__webpack_require__(321),algorithms={sha1:sha,sha256:sha256,md5:md5},blocksize=64,zeroBuffer=new Buffer(blocksize);zeroBuffer.fill(0),exports.createHash=function(alg){return hash(alg)},exports.createHmac=function(alg,key){return hash(alg,key)},exports.randomBytes=function(size,callback){if(!callback||!callback.call)return new Buffer(rng(size));try{callback.call(this,void 0,new Buffer(rng(size)))}catch(err){callback(err)}},function(a,f){for(var i in a)f(a[i],i)}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(name){exports[name]=function(){error("sorry,",name,"is not implemented yet")}})},function(module,exports,__webpack_require__){function core_md5(x,len){x[len>>5]|=128<<len%32,x[14+(len+64>>>9<<4)]=len;for(var a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16){var olda=a,oldb=b,oldc=c,oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936),d=md5_ff(d,a,b,c,x[i+1],12,-389564586),c=md5_ff(c,d,a,b,x[i+2],17,606105819),b=md5_ff(b,c,d,a,x[i+3],22,-1044525330),a=md5_ff(a,b,c,d,x[i+4],7,-176418897),d=md5_ff(d,a,b,c,x[i+5],12,1200080426),c=md5_ff(c,d,a,b,x[i+6],17,-1473231341),b=md5_ff(b,c,d,a,x[i+7],22,-45705983),a=md5_ff(a,b,c,d,x[i+8],7,1770035416),d=md5_ff(d,a,b,c,x[i+9],12,-1958414417),c=md5_ff(c,d,a,b,x[i+10],17,-42063),b=md5_ff(b,c,d,a,x[i+11],22,-1990404162),a=md5_ff(a,b,c,d,x[i+12],7,1804603682),d=md5_ff(d,a,b,c,x[i+13],12,-40341101),c=md5_ff(c,d,a,b,x[i+14],17,-1502002290),b=md5_ff(b,c,d,a,x[i+15],22,1236535329),a=md5_gg(a,b,c,d,x[i+1],5,-165796510),d=md5_gg(d,a,b,c,x[i+6],9,-1069501632),c=md5_gg(c,d,a,b,x[i+11],14,643717713),b=md5_gg(b,c,d,a,x[i+0],20,-373897302),a=md5_gg(a,b,c,d,x[i+5],5,-701558691),d=md5_gg(d,a,b,c,x[i+10],9,38016083),c=md5_gg(c,d,a,b,x[i+15],14,-660478335),b=md5_gg(b,c,d,a,x[i+4],20,-405537848),a=md5_gg(a,b,c,d,x[i+9],5,568446438),d=md5_gg(d,a,b,c,x[i+14],9,-1019803690),c=md5_gg(c,d,a,b,x[i+3],14,-187363961),b=md5_gg(b,c,d,a,x[i+8],20,1163531501),a=md5_gg(a,b,c,d,x[i+13],5,-1444681467),d=md5_gg(d,a,b,c,x[i+2],9,-51403784),c=md5_gg(c,d,a,b,x[i+7],14,1735328473),b=md5_gg(b,c,d,a,x[i+12],20,-1926607734),a=md5_hh(a,b,c,d,x[i+5],4,-378558),d=md5_hh(d,a,b,c,x[i+8],11,-2022574463),c=md5_hh(c,d,a,b,x[i+11],16,1839030562),b=md5_hh(b,c,d,a,x[i+14],23,-35309556),a=md5_hh(a,b,c,d,x[i+1],4,-1530992060),d=md5_hh(d,a,b,c,x[i+4],11,1272893353),c=md5_hh(c,d,a,b,x[i+7],16,-155497632),b=md5_hh(b,c,d,a,x[i+10],23,-1094730640),a=md5_hh(a,b,c,d,x[i+13],4,681279174),d=md5_hh(d,a,b,c,x[i+0],11,-358537222),c=md5_hh(c,d,a,b,x[i+3],16,-722521979),b=md5_hh(b,c,d,a,x[i+6],23,76029189),a=md5_hh(a,b,c,d,x[i+9],4,-640364487),d=md5_hh(d,a,b,c,x[i+12],11,-421815835),c=md5_hh(c,d,a,b,x[i+15],16,530742520),b=md5_hh(b,c,d,a,x[i+2],23,-995338651),a=md5_ii(a,b,c,d,x[i+0],6,-198630844),d=md5_ii(d,a,b,c,x[i+7],10,1126891415),c=md5_ii(c,d,a,b,x[i+14],15,-1416354905),b=md5_ii(b,c,d,a,x[i+5],21,-57434055),a=md5_ii(a,b,c,d,x[i+12],6,1700485571),d=md5_ii(d,a,b,c,x[i+3],10,-1894986606),c=md5_ii(c,d,a,b,x[i+10],15,-1051523),b=md5_ii(b,c,d,a,x[i+1],21,-2054922799),a=md5_ii(a,b,c,d,x[i+8],6,1873313359),d=md5_ii(d,a,b,c,x[i+15],10,-30611744),c=md5_ii(c,d,a,b,x[i+6],15,-1560198380),b=md5_ii(b,c,d,a,x[i+13],21,1309151649),a=md5_ii(a,b,c,d,x[i+4],6,-145523070),d=md5_ii(d,a,b,c,x[i+11],10,-1120210379),c=md5_ii(c,d,a,b,x[i+2],15,718787259),b=md5_ii(b,c,d,a,x[i+9],21,-343485551),a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}var helpers=__webpack_require__(87);module.exports=function(buf){return helpers.hash(buf,core_md5,16)}},function(module,exports){!function(){var mathRNG,whatwgRNG,_global=this;mathRNG=function(size){for(var r,r,bytes=new Array(size),i=0;i<size;i++)0==(3&i)&&(r=4294967296*Math.random()),bytes[i]=r>>>((3&i)<<3)&255;return bytes},_global.crypto&&crypto.getRandomValues&&(whatwgRNG=function(size){var bytes=new Uint8Array(size);return crypto.getRandomValues(bytes),bytes}),module.exports=whatwgRNG||mathRNG}()},function(module,exports,__webpack_require__){function core_sha1(x,len){x[len>>5]|=128<<24-len%32,x[15+(len+64>>9<<4)]=len;for(var w=Array(80),a=1732584193,b=-271733879,c=-1732584194,d=271733878,e=-1009589776,i=0;i<x.length;i+=16){for(var olda=a,oldb=b,oldc=c,oldd=d,olde=e,j=0;j<80;j++){w[j]=j<16?x[i+j]:rol(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);var t=safe_add(safe_add(rol(a,5),sha1_ft(j,b,c,d)),safe_add(safe_add(e,w[j]),sha1_kt(j)));e=d,d=c,c=rol(b,30),b=a,a=t}a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd),e=safe_add(e,olde)}return Array(a,b,c,d,e)}function sha1_ft(t,b,c,d){return t<20?b&c|~b&d:t<40?b^c^d:t<60?b&c|b&d|c&d:b^c^d}function sha1_kt(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function safe_add(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}function rol(num,cnt){return num<<cnt|num>>>32-cnt}var helpers=__webpack_require__(87);module.exports=function(buf){return helpers.hash(buf,core_sha1,20,!0)}},function(module,exports,__webpack_require__){var helpers=__webpack_require__(87),safe_add=function(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw},S=function(X,n){return X>>>n|X<<32-n},R=function(X,n){return X>>>n},Ch=function(x,y,z){return x&y^~x&z},Maj=function(x,y,z){return x&y^x&z^y&z},Sigma0256=function(x){return S(x,2)^S(x,13)^S(x,22)},Sigma1256=function(x){return S(x,6)^S(x,11)^S(x,25)},Gamma0256=function(x){return S(x,7)^S(x,18)^R(x,3)},Gamma1256=function(x){return S(x,17)^S(x,19)^R(x,10)},core_sha256=function(m,l){var a,b,c,d,e,f,g,h,i,j,T1,T2,K=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),HASH=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),W=new Array(64);m[l>>5]|=128<<24-l%32,m[15+(l+64>>9<<4)]=l;for(var i=0;i<m.length;i+=16){a=HASH[0],b=HASH[1],c=HASH[2],d=HASH[3],e=HASH[4],f=HASH[5],g=HASH[6],h=HASH[7];for(var j=0;j<64;j++)W[j]=j<16?m[j+i]:safe_add(safe_add(safe_add(Gamma1256(W[j-2]),W[j-7]),Gamma0256(W[j-15])),W[j-16]),T1=safe_add(safe_add(safe_add(safe_add(h,Sigma1256(e)),Ch(e,f,g)),K[j]),W[j]),T2=safe_add(Sigma0256(a),Maj(a,b,c)),h=g,g=f,f=e,e=safe_add(d,T1),d=c,c=b,b=a,a=safe_add(T1,T2);HASH[0]=safe_add(a,HASH[0]),HASH[1]=safe_add(b,HASH[1]),HASH[2]=safe_add(c,HASH[2]),HASH[3]=safe_add(d,HASH[3]),HASH[4]=safe_add(e,HASH[4]),HASH[5]=safe_add(f,HASH[5]),HASH[6]=safe_add(g,HASH[6]),HASH[7]=safe_add(h,HASH[7])}return HASH};module.exports=function(buf){return helpers.hash(buf,core_sha256,32,!0)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Asset=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepKernel=__webpack_require__(21),_deepKernel2=_interopRequireDefault(_deepKernel),_path=__webpack_require__(57),_path2=_interopRequireDefault(_path);exports.Asset=function(_Kernel$ContainerAwar){function Asset(){_classCallCheck(this,Asset);var _this=_possibleConstructorReturn(this,(Asset.__proto__||Object.getPrototypeOf(Asset)).call(this));return _this._injectBuildId=Asset.INJECT_BUILD_ID_STATE,_this._buildId=null,_this}return _inherits(Asset,_Kernel$ContainerAwar),_createClass(Asset,[{key:"boot",value:function(kernel,callback){if(this._buildId=kernel.buildId,kernel.isFrontend){let loadVector=[],microservices=kernel.microservices;for(let microserviceKey in microservices)if(microservices.hasOwnProperty(microserviceKey)){let microservice=microservices[microserviceKey];microservice.isRoot||loadVector.push(this.locate(`@${microservice.identifier}:bootstrap.js`))}kernel.container.addParameter(_deepKernel2.default.FRONTEND_BOOTSTRAP_VECTOR,loadVector)}callback()}},{key:"locate",value:function(assetIdentifier){let suffix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",skipVersioning=arguments.length>2&&void 0!==arguments[2]&&arguments[2],path=this._resolveIdentifier(assetIdentifier);return`${this.microservice.isRoot?_path2.default.join(path):_path2.default.join(this.microservice.toString(),path)}${suffix}${this._injectBuildId&&this._buildId&&!skipVersioning?`?_v=${this._buildId}`:""}`}},{key:"locateAbsolute",value:function(){return Asset._baseUrl+_path2.default.join("/",this.locate.apply(this,arguments))}},{key:"injectBuildId",get:function(){return this._injectBuildId},set:function(state){this._injectBuildId=state}}],[{key:"_baseUrl",get:function(){if(!window||!window.location)return"";let loc=window.location;return loc.origin||`${loc.protocol}://${loc.hostname}${loc.port?":"+loc.port:""}`}},{key:"INJECT_BUILD_ID_STATE",get:function(){return!0}}]),Asset}(_deepKernel2.default.ContainerAware)},function(module,exports,__webpack_require__){"use strict";var _Asset=__webpack_require__(325);module.exports=_Asset.Asset},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cache=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepKernel=__webpack_require__(21),_deepKernel2=_interopRequireDefault(_deepKernel),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_Exception=__webpack_require__(158),_SharedCache=__webpack_require__(337);exports.Cache=function(_Kernel$ContainerAwar){function Cache(){let driver=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,systemDriver=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,Cache);var _this=_possibleConstructorReturn(this,(Cache.__proto__||Object.getPrototypeOf(Cache)).call(this));return _this._driver=driver,_this._systemDriver=systemDriver,_this}return _inherits(Cache,_Kernel$ContainerAwar),_createClass(Cache,[{key:"boot",value:function(kernel,callback){this._driver=this._createCacheDriver(kernel),this._systemDriver=this._createCacheDriver(kernel);let sharedCacheDriver=kernel.isFrontend?Cache.createDriver("cloud-front",this):Cache.createDriver("s3fs",this);this._shared=new _SharedCache.SharedCache(sharedCacheDriver),[this._driver,this._systemDriver,sharedCacheDriver].forEach(driver=>{driver.buildId=kernel.buildId}),this._systemDriver.namespace=Cache.SYSTEM_NAMESPACE,callback()}},{key:"_createCacheDriver",value:function(kernel){return kernel.isFrontend?Cache.createDriver("local-storage"):kernel.config.cacheDsn?Cache.createDriver("redis",kernel.config.cacheDsn):Cache.createDriver("memory")}},{key:"apply",value:function(target){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return target.apply(void 0,args)}},{key:"shared",get:function(){return this._shared}},{key:"system",get:function(){return this._systemDriver||this._driver}},{key:"service",get:function(){return new _deepCore2.default.Generic.MethodsProxy(this).proxyOverride(this._driver,"has","get","set","invalidate","flush","type")}},{key:"driver",set:function(driver){this._driver=driver},get:function(){return this._driver}},{key:"systemDriver",set:function(driver){this._systemDriver=driver},get:function(){return this._systemDriver}}],[{key:"createDriver",value:function(name){let DriverPrototype=null;switch(name){case"memory":DriverPrototype=__webpack_require__(157).InMemoryDriver;break;case"redis":DriverPrototype=__webpack_require__(335).RedisDriver;break;case"local-storage":DriverPrototype=__webpack_require__(334).LocalStorageDriver,DriverPrototype.isAvailable()||(DriverPrototype=__webpack_require__(157).InMemoryDriver);break;case"s3fs":DriverPrototype=__webpack_require__(336).S3FSDriver;break;case"cloud-front":DriverPrototype=__webpack_require__(328).CloudFrontDriver;break;default:throw new _Exception.Exception(`Missing driver ${name}`)}for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];return new(Function.prototype.bind.apply(DriverPrototype,[null].concat(args)))}},{key:"SYSTEM_NAMESPACE",get:function(){return"system"}}]),Cache}(_deepKernel2.default.ContainerAware)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CloudFrontDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get2=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_AbstractFsDriver2=__webpack_require__(156),_MethodNotAvailableException=__webpack_require__(330),_SharedKey=__webpack_require__(159);exports.CloudFrontDriver=function(_AbstractFsDriver){function CloudFrontDriver(containerAware){let directory=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_AbstractFsDriver2.AbstractFsDriver.DEFAULT_DIRECTORY;_classCallCheck(this,CloudFrontDriver);var _this=_possibleConstructorReturn(this,(CloudFrontDriver.__proto__||Object.getPrototypeOf(CloudFrontDriver)).call(this,directory));return _this._containerAware=containerAware,_this._cache={},_this}return _inherits(CloudFrontDriver,_AbstractFsDriver),_createClass(CloudFrontDriver,[{key:"_type",value:function(){return"CloudFront"}},{key:"_has",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this._get(key,(err,data)=>{callback(err,null!==data)})}},{key:"_get",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};if(this._cache.hasOwnProperty(key)){let parsedData=this._cache[key];if(!(parsedData.expires&&parsedData.expires<_AbstractFsDriver2.AbstractFsDriver._now||parsedData.buildId!==this._buildId))return void callback(null,this._cache[key].value);delete this._cache[key]}this._request(key,(err,data)=>{if(err)return callback(err,null);try{let parsedData=JSON.parse(data);if(parsedData.expires&&parsedData.expires<_AbstractFsDriver2.AbstractFsDriver._now||parsedData.buildId!==this._buildId)return void callback(null,null);this._cache[key]=parsedData,callback(null,parsedData.value)}catch(e){callback(null,null)}})}},{key:"_set",value:function(){throw new _MethodNotAvailableException.MethodNotAvailableException("set")}},{key:"_invalidate",value:function(){throw new _MethodNotAvailableException.MethodNotAvailableException("invalidate")}},{key:"_buildKey",value:function(key){return key instanceof _SharedKey.SharedKey?this._asset.locate(`@${key.microservice}:${_get2(CloudFrontDriver.prototype.__proto__||Object.getPrototypeOf(CloudFrontDriver.prototype),"_buildKey",this).call(this,key.toString())}`):this._asset.locate(`@${this._microservice}:${_get2(CloudFrontDriver.prototype.__proto__||Object.getPrototypeOf(CloudFrontDriver.prototype),"_buildKey",this).call(this,key)}`)}},{key:"_request",value:function(url,callback){var client=new XMLHttpRequest;client.onreadystatechange=function(){if(4===client.readyState){if(200!==client.status)return callback(client.statusText,null);callback(null,client.responseText)}},client.open("GET",url),client.send()}},{key:"_microservice",get:function(){return this._containerAware.container.get("resource").microservice}},{key:"_asset",get:function(){return this._containerAware.container.get("asset")}}]),CloudFrontDriver}(_AbstractFsDriver2.AbstractFsDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DriverException=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Exception2=__webpack_require__(46);exports.DriverException=function(_Exception){function DriverException(originalException){_classCallCheck(this,DriverException);var _this=_possibleConstructorReturn(this,(DriverException.__proto__||Object.getPrototypeOf(DriverException)).call(this,originalException));return _this._originalException=originalException instanceof Error?originalException:new Error(originalException),_this}return _inherits(DriverException,_Exception),_createClass(DriverException,[{key:"originalException",get:function(){return this._originalException}}]),DriverException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MethodNotAvailableException=void 0;var _Exception2=__webpack_require__(46);exports.MethodNotAvailableException=function(_Exception){function MethodNotAvailableException(name){return _classCallCheck(this,MethodNotAvailableException),_possibleConstructorReturn(this,(MethodNotAvailableException.__proto__||Object.getPrototypeOf(MethodNotAvailableException)).call(this,`Method '${name}' is not available`))}return _inherits(MethodNotAvailableException,_Exception),MethodNotAvailableException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingCacheException=void 0;var _Exception2=__webpack_require__(46);exports.MissingCacheException=function(_Exception){function MissingCacheException(cacheKey){return _classCallCheck(this,MissingCacheException),_possibleConstructorReturn(this,(MissingCacheException.__proto__||Object.getPrototypeOf(MissingCacheException)).call(this,`Missing key ${cacheKey} from cache`))}return _inherits(MissingCacheException,_Exception),MissingCacheException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoFlushException=void 0;var _Exception2=__webpack_require__(46);exports.NoFlushException=function(_Exception){function NoFlushException(){return _classCallCheck(this,NoFlushException),_possibleConstructorReturn(this,(NoFlushException.__proto__||Object.getPrototypeOf(NoFlushException)).call(this,"Flush is not implemented for this driver"))}return _inherits(NoFlushException,_Exception),NoFlushException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedisClusterException=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Exception2=__webpack_require__(46);exports.RedisClusterException=function(_Exception){function RedisClusterException(error){_classCallCheck(this,RedisClusterException);let originalException=error instanceof Error?error:null,errorPlain=null!==originalException?originalException.message:error.toString();var _this=_possibleConstructorReturn(this,(RedisClusterException.__proto__||Object.getPrototypeOf(RedisClusterException)).call(this,`Redis cluster operation failed: ${errorPlain}`));return _this._originalException=originalException,_this}return _inherits(RedisClusterException,_Exception),_createClass(RedisClusterException,[{key:"originalException",get:function(){return this._originalException}}]),RedisClusterException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalStorageDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(64),_store=__webpack_require__(626),_store2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_store);exports.LocalStorageDriver=function(_AbstractDriver){function LocalStorageDriver(){return _classCallCheck(this,LocalStorageDriver),_possibleConstructorReturn(this,(LocalStorageDriver.__proto__||Object.getPrototypeOf(LocalStorageDriver)).call(this))}return _inherits(LocalStorageDriver,_AbstractDriver),_createClass(LocalStorageDriver,[{key:"_type",value:function(){return"LocalStorage"}},{key:"_has",value:function(key){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{})(null,LocalStorageDriver._isAlive(_store2.default.get(key),key))}},{key:"_get",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},record=_store2.default.get(key);callback(null,LocalStorageDriver._isAlive(record,key)?record.value:null)}},{key:"_set",value:function(key,value){let ttl=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,callback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},exd=ttl>0?LocalStorageDriver._now+ttl:null;try{_store2.default.set(key,{value:value,exd:exd}),callback(null,!0)}catch(error){this._isQuotaExceededError(error)&&this._flushStale()&&this._set(key,value,ttl,callback),callback(error,!1)}}},{key:"_invalidate",value:function(key){let timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,callback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if(timeout<=0)return _store2.default.remove(key),void callback(null,!0);try{let record=_store2.default.get(key);record.exd=LocalStorageDriver._now+timeout,_store2.default.set(key,record)}catch(e){}callback(null,!0)}},{key:"_flush",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};_store2.default.clear(),callback(null,!0)}},{key:"_flushStale",value:function(){let keysToRemove=[];return _store2.default.forEach((key,val)=>{(this.isDeepKey(key)&&!LocalStorageDriver._isAlive(val,key,!1)||this._getKeyBuildId(key)!==this._buildId)&&keysToRemove.push(key)}),keysToRemove.forEach(key=>{_store2.default.remove(key)}),keysToRemove.length>0}},{key:"_isQuotaExceededError",value:function(error){return-1!==["QuotaExceededError","QUOTA_EXCEEDED_ERR","NS_ERROR_DOM_QUOTA_REACHED"].indexOf(error.name)}}],[{key:"_isAlive",value:function(response,key){let removeStale=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!!response&&(!(response.exd&&response.exd<=LocalStorageDriver._now)||(removeStale&&_store2.default.remove(key),!1))}},{key:"isAvailable",value:function(){return _store2.default.enabled}},{key:"_now",get:function(){return parseInt((new Date).getTime()/1e3)}}]),LocalStorageDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";(function(process){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedisDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(64),_RedisClusterException=__webpack_require__(333),_ioredis=__webpack_require__(662),_ioredis2=_interopRequireDefault(_ioredis),_ecad=__webpack_require__(458),_ecad2=_interopRequireDefault(_ecad);exports.RedisDriver=function(_AbstractDriver){function RedisDriver(dsn){_classCallCheck(this,RedisDriver);var _this=_possibleConstructorReturn(this,(RedisDriver.__proto__||Object.getPrototypeOf(RedisDriver)).call(this));return _this._autoDiscoveryError=null,_this._client=null,_this._autoDiscover(dsn),_this}return _inherits(RedisDriver,_AbstractDriver),_createClass(RedisDriver,[{key:"_autoDiscover",value:function(dsn){let payload={endpoints:[dsn],timeout:RedisDriver.DEFAULT_AUTO_DISCOVERY_TIMEOUT};new _ecad2.default(payload).fetch((error,hosts)=>{if(error)this._autoDiscoveryError=error;else{let options={sentinels:[],name:dsn};hosts.forEach(host=>{options.sentinels.push(`redis://${host}/`)}),this._client=new this.NATIVE_DRIVER(options)}})}},{key:"clientWait",value:function(cb){this._client?cb(null,this._client):this._autoDiscoveryError?cb(this._autoDiscoveryError,null):setTimeout(()=>{process.nextTick(()=>{this.clientWait(cb)})},RedisDriver.CLIENT_WAIT_MS_INTERVAL)}},{key:"_type",value:function(){return"Redis"}},{key:"_has",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this.clientWait((error,client)=>{if(error)return void callback(new _RedisClusterException.RedisClusterException(error),null);client.exists(key,(error,results)=>{if(error)return void callback(new _RedisClusterException.RedisClusterException(error),null);callback(null,results)})})}},{key:"_get",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this.clientWait((error,client)=>{if(error)return void callback(new _RedisClusterException.RedisClusterException(error),null);client.get(key,(error,results)=>{if(error)return void callback(new _RedisClusterException.RedisClusterException(error),null);callback(null,results)})})}},{key:"_set",value:function(key,value){let ttl=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,callback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};this.clientWait((error,client)=>{if(error)return void callback(new _RedisClusterException.RedisClusterException(error),null);client.set(key,value,ttl,error=>{if(error)return void callback(new _RedisClusterException.RedisClusterException(error),null);callback(null,!0)})})}},{key:"_invalidate",value:function(key){let timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,callback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};this.clientWait((error,client)=>{if(error)return void callback(new _RedisClusterException.RedisClusterException(error),null);client.del(key,timeout,error=>{if(error)return void callback(new _RedisClusterException.RedisClusterException(error),null);callback(null,!0)})})}},{key:"_flush",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};this.clientWait((error,client)=>{if(error)return void callback(new _RedisClusterException.RedisClusterException(error),null);client.flushall(error=>{if(error)return void callback(new _RedisClusterException.RedisClusterException(error),null);callback(null,!0)})})}},{key:"autoDiscoveryError",get:function(){return this._autoDiscoveryError}},{key:"client",get:function(){return this._client}},{key:"NATIVE_DRIVER",get:function(){return _ioredis2.default}}],[{key:"CLIENT_WAIT_MS_INTERVAL",get:function(){return 5}},{key:"DEFAULT_AUTO_DISCOVERY_TIMEOUT",get:function(){return 700}}]),RedisDriver}(_AbstractDriver2.AbstractDriver)}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.S3FSDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractFsDriver2=__webpack_require__(156);exports.S3FSDriver=function(_AbstractFsDriver){function S3FSDriver(containerAware){let directory=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_AbstractFsDriver2.AbstractFsDriver.DEFAULT_DIRECTORY;_classCallCheck(this,S3FSDriver);var _this=_possibleConstructorReturn(this,(S3FSDriver.__proto__||Object.getPrototypeOf(S3FSDriver)).call(this,directory));return _this._containerAware=containerAware,_this}return _inherits(S3FSDriver,_AbstractFsDriver),_createClass(S3FSDriver,[{key:"_type",value:function(){return"S3FS"}},{key:"_has",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this._get(key,(err,data)=>{callback(err,null!==data)})}},{key:"_get",value:function(key){let callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this._fs.readFile(key,(err,data)=>{if(err)return void callback(err,null);try{var parsedData=JSON.parse(data);if(parsedData.expires&&parsedData.expires<_AbstractFsDriver2.AbstractFsDriver._now||parsedData.buildId!==this._buildId)return this._invalidate(key),void callback(null,null);callback(null,parsedData.value)}catch(e){this._invalidate(key),callback(null,null)}})}},{key:"_set",value:function(key,value){let ttl=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,callback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},strObject=JSON.stringify({expires:ttl>0?_AbstractFsDriver2.AbstractFsDriver._now+ttl:null,value:value,buildId:this._buildId});this._fs.mkdirp(this._directory,()=>{this._fs.writeFile(key,strObject,err=>{callback(err,!err)})})}},{key:"_invalidate",value:function(key){let timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,callback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if(timeout<=0)return void this._fs.unlink(key,err=>{callback(err,!err)});this._get(key,(err,data)=>{if(err)return void callback(err,null);this._set(key,data.value,timeout,callback)})}},{key:"_fs",get:function(){return this._containerAware.container.get("fs").public}}]),S3FSDriver}(_AbstractFsDriver2.AbstractFsDriver)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SharedCache=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_util=__webpack_require__(20),_util2=_interopRequireDefault(_util),_crypto=__webpack_require__(27),_crypto2=_interopRequireDefault(_crypto),_SharedKey=__webpack_require__(159);exports.SharedCache=function(){function SharedCache(driver){_classCallCheck(this,SharedCache),this._driver=driver,new _deepCore2.default.Generic.MethodsProxy(this).proxyOverride(this._driver,"has","get","set","invalidate","flush","type")}return _createClass(SharedCache,[{key:"buildKeyFromRequest",value:function(request){let action=request.action,microservice=action.resource.microservice,requestIdentifier=action.source[request.isLambda?"original":"api"],keyString=`${requestIdentifier}#${SharedCache._stringifyPayload(request.payload)}`;return new _SharedKey.SharedKey(keyString,microservice)}},{key:"buildKeyFromLambdaRuntime",value:function(runtime){return runtime.context&&runtime.context.has("invokedFunctionArn")?`${runtime.context.getOption("invokedFunctionArn")}#${SharedCache._stringifyPayload(runtime.request.data)}`:null}},{key:"assure",value:function(key,value){let ttl=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,callback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};this._driver.has(key,(err,has)=>{if(!has)return void this._driver.set(key,value,ttl,callback);callback(null,!0)})}}],[{key:"_stringifyPayload",value:function(payload){return JSON.stringify(SharedCache._normalizeObject(payload))}},{key:"_hash",value:function(text){let alg=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sha1";return _crypto2.default.createHash(alg).update(text).digest("hex")}},{key:"_normalizeObject",value:function(data){let normalizedData={};return Object.keys(data).sort().forEach(key=>{let value=data[key];_util2.default.isArray(value)?value=value.sort():null!==value&&"object"==typeof value&&(value=SharedCache._normalizeObject(value));normalizedData[key]=value}),normalizedData}}]),SharedCache}()},function(module,exports,__webpack_require__){"use strict";var _Cache=__webpack_require__(327);module.exports=_Cache.Cache},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidArnException=void 0;var _Exception2=__webpack_require__(14);exports.InvalidArnException=function(_Exception){function InvalidArnException(arn){return _classCallCheck(this,InvalidArnException),_possibleConstructorReturn(this,(InvalidArnException.__proto__||Object.getPrototypeOf(InvalidArnException)).call(this,`Invalid arn string "${arn}".`))}return _inherits(InvalidArnException,_Exception),InvalidArnException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Factory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Resource=__webpack_require__(161),_Collection=__webpack_require__(88),_Action=__webpack_require__(160),_Policy=__webpack_require__(65),_Statement=__webpack_require__(162);exports.Factory=function(){function Factory(){_classCallCheck(this,Factory)}return _createClass(Factory,null,[{key:"create",value:function(Prototype){Prototype=Factory._assurePrototype(Prototype);for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return new(Function.prototype.bind.apply(Prototype,[null].concat(args)))}},{key:"createCollection",value:function(Prototype){return Prototype=Factory._assurePrototype(Prototype),new _Collection.Collection(Prototype)}},{key:"_assurePrototype",value:function(Prototype){return"string"==typeof Prototype&&(Prototype=Factory[Prototype.toUpperCase()]),Prototype}},{key:"POLICY",get:function(){return _Policy.Policy}},{key:"RESOURCE",get:function(){return _Resource.Resource}},{key:"ACTION",get:function(){return _Action.Action}},{key:"STATEMENT",get:function(){return _Statement.Statement}}]),Factory}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.Context=function(){function Context(lambdaContext){_classCallCheck(this,Context),this._lambdaContext=lambdaContext,this._registerDataAsOptions()}return _createClass(Context,[{key:"_registerDataAsOptions",value:function(){for(let key in this._lambdaContext)this._lambdaContext.hasOwnProperty(key)&&Object.defineProperty(this,key,{value:this._lambdaContext[key],writable:!1,configurable:!1,enumerable:!0});Object.defineProperty(this,"_options",{configurable:!1,enumerable:!1})}},{key:"has",value:function(option){return this._lambdaContext.hasOwnProperty(option)}},{key:"getOption",value:function(option){let defaultValue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this._lambdaContext.hasOwnProperty(option)?this._lambdaContext[option]:defaultValue}},{key:"waitForEmptyEventLoop",value:function(){this._lambdaContext.callbackWaitsForEmptyEventLoop=!0}},{key:"options",get:function(){return this._lambdaContext}}]),Context}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ErrorResponse=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Response2=__webpack_require__(163),_Exception=__webpack_require__(14),_Helper=__webpack_require__(166);exports.ErrorResponse=function(_Response){function ErrorResponse(runtime,error){return _classCallCheck(this,ErrorResponse),_possibleConstructorReturn(this,(ErrorResponse.__proto__||Object.getPrototypeOf(ErrorResponse)).call(this,runtime,ErrorResponse.createErrorObject(error)))}return _inherits(ErrorResponse,_Response),_createClass(ErrorResponse,[{key:"data",get:function(){return JSON.stringify(this._data)}}],[{key:"createErrorObject",value:function(error){let errorObj={},errorCode=_Exception.Exception.DEFAULT_CODE;if("ValidationError"===error.name)errorCode=400,errorObj={errorType:error.name,errorMessage:error.annotate(),errorStack:error.stack||new Error(error.message).stack,validationErrors:error.details};else if(error instanceof Error)errorObj={errorType:error.name,errorMessage:error.message,errorStack:error.stack||new Error(error.message).stack};else{let plainError=(error||"Unexpected error occurred.").toString();errorObj={errorType:"Error",errorMessage:plainError,errorStack:new Error(plainError).stack}}return errorObj[_Exception.Exception.CODE_KEY]=_Helper.Helper.assureDefinedCode(error.code||errorCode),errorObj}},{key:"contextMethod",get:function(){return"fail"}}]),ErrorResponse}(_Response2.Response)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidCognitoIdentityException=void 0;var _Exception2=__webpack_require__(14);exports.InvalidCognitoIdentityException=function(_Exception){function InvalidCognitoIdentityException(identityPoolId){return _classCallCheck(this,InvalidCognitoIdentityException),_possibleConstructorReturn(this,(InvalidCognitoIdentityException.__proto__||Object.getPrototypeOf(InvalidCognitoIdentityException)).call(this,`Invalid cognito identity pool "${identityPoolId}".`,403))}return _inherits(InvalidCognitoIdentityException,_Exception),InvalidCognitoIdentityException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingRuntimeContextException=void 0;var _Exception2=__webpack_require__(14);exports.MissingRuntimeContextException=function(_Exception){function MissingRuntimeContextException(){return _classCallCheck(this,MissingRuntimeContextException),_possibleConstructorReturn(this,(MissingRuntimeContextException.__proto__||Object.getPrototypeOf(MissingRuntimeContextException)).call(this,"Missing Lambda runtime context",400))}return _inherits(MissingRuntimeContextException,_Exception),MissingRuntimeContextException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingUserContextException=void 0;var _Exception2=__webpack_require__(14);exports.MissingUserContextException=function(_Exception){function MissingUserContextException(){return _classCallCheck(this,MissingUserContextException),_possibleConstructorReturn(this,(MissingUserContextException.__proto__||Object.getPrototypeOf(MissingUserContextException)).call(this,"Missing user context in the Lambda runtime",403))}return _inherits(MissingUserContextException,_Exception),MissingUserContextException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Request=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_qs=__webpack_require__(215),_qs2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_qs);exports.Request=function(){function Request(){let data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Request),this._data=Array.isArray(data)?data:_qs2.default.parse(data),this._registerDataAsParams()}return _createClass(Request,[{key:"_registerDataAsParams",value:function(){for(let key in this._data)this._data.hasOwnProperty(key)&&Object.defineProperty(this,key,{value:this._data[key],writable:!1,configurable:!1,enumerable:!0});Object.defineProperty(this,"_data",{configurable:!1})}},{key:"getParam",value:function(name){let defaultValue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this._data.hasOwnProperty(name)?this._data[name]:defaultValue}},{key:"data",get:function(){return this._data}}]),Request}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.Resolver=function(){function Resolver(lambdaCallback){_classCallCheck(this,Resolver),this._lambdaCallback=lambdaCallback,this._onSucceed=[]}return _createClass(Resolver,[{key:"succeed",value:function(object){this._onSucceed.forEach(cb=>cb(object)),this._lambdaCallback(null,object)}},{key:"fail",value:function(object){this._lambdaCallback(object,null)}},{key:"registerSucceedCallback",value:function(cb){this._onSucceed.push(cb)}}]),Resolver}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Runtime=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Interface2=__webpack_require__(90),_Response=__webpack_require__(163),_ErrorResponse=__webpack_require__(342),_Request=__webpack_require__(346),_InvalidCognitoIdentityException=__webpack_require__(343),_MissingUserContextException=__webpack_require__(345),_Context=__webpack_require__(341),_Sandbox=__webpack_require__(167),_Resolver=__webpack_require__(347),_awsSdk=__webpack_require__(18),_awsSdk2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_awsSdk);exports.Runtime=function(_Interface){function Runtime(kernel){_classCallCheck(this,Runtime);var _this2=_possibleConstructorReturn(this,(Runtime.__proto__||Object.getPrototypeOf(Runtime)).call(this,["handle"]));return _this2._kernel=kernel,_this2._request=null,_this2._context=null,_this2._resolver=null,_this2._loggedUserId=null,_this2._forceUserIdentity=!1,_this2._contextSent=!1,_this2._calleeConfig=null,_this2._fillDenyMissingUserContextOption(),_this2}return _inherits(Runtime,_Interface),_createClass(Runtime,[{key:"validateInput",value:function(schemaName,cb){return this._kernel.get("validation").validateRuntimeInput(this,schemaName,cb),this}},{key:"run",value:function(event,context){let lambdaCallback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._context=new _Context.Context(context),this._request=new _Request.Request(event),lambdaCallback&&(this._resolver=new _Resolver.Resolver(lambdaCallback),this._resolver.registerSucceedCallback(this.kernel.kernelCleanup.bind(this.kernel))),this._context.waitForEmptyEventLoop(),this.logService.rumLog({service:"deep-core",resourceType:"Lambda",resourceId:this._context.invokedFunctionArn,eventName:"Run"}),new _Sandbox.Sandbox(()=>{this._fillUserContext().then(()=>{if(!this._loggedUserId&&this._forceUserIdentity)throw new _MissingUserContextException.MissingUserContextException;this._initDBPartitionKey();let validationSchema=this.validationSchema;validationSchema?this._runValidate(validationSchema):this.handle(this._request)}).catch(e=>this.createError(e).send())}).fail(error=>{this.createError(error).send()}).run(),this}},{key:"_runValidate",value:function(validationSchema){let validationSchemaName=validationSchema;"string"!=typeof validationSchema&&(validationSchemaName=this._injectValidationSchema(validationSchema)),this.validateInput(validationSchemaName,validatedData=>{this.handle(validatedData)})}},{key:"_injectValidationSchema",value:function(schema){let name=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,validation=this._kernel.get("validation");return name=name||`DeepHandlerValidation_${(new Date).getTime()}`,validation.setGuessSchema(name,schema),name}},{key:"createError",value:function(error){return new _ErrorResponse.ErrorResponse(this,error)}},{key:"createResponse",value:function(data){return new _Response.Response(this,data)}},{key:"createCachedResponse",value:function(data){let ttl=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,callback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:response=>response.send(),publicCache=this._kernel.get("cache").shared,publicCacheKey=publicCache.buildKeyFromLambdaRuntime(this),response=new _Response.Response(this,data);publicCache.assure(publicCacheKey,{body:data},ttl,()=>{callback(response)})}},{key:"_fillDenyMissingUserContextOption",value:function(){this._kernel.config.hasOwnProperty("forceUserIdentity")&&(this._forceUserIdentity=this._kernel.config.forceUserIdentity)}},{key:"_initDBPartitionKey",value:function(){if(!this.kernel.accountMicroservice||!this.forceUserIdentity)return this;let db=this.dbService,user=this.securityService.token&&this.securityService.token.user,partitionKey=Runtime.DB_ANONYMOUS_PARTITION;return user&&user.ActiveAccount&&(partitionKey=user.ActiveAccount.Id),db.setDynamoDBPartitionKey(partitionKey),this}},{key:"_fillUserContext",value:function(){if(this._context&&this._context.identity&&this._context.identity.cognitoIdentityPoolId&&this._context.identity.cognitoIdentityId){let identityPoolId=this._context.identity.cognitoIdentityPoolId;return this.securityService.identityPoolId===identityPoolId||this._kernel.container.localBackend?this.securityService.warmupBackendLogin(this._context).then(credentials=>{let dbService=this.dbService;_awsSdk2.default.config.credentials=credentials;credentials&&dbService.overwriteCredentials(credentials);this._loggedUserId=this._context.identity.cognitoIdentityId}):Promise.reject(new _InvalidCognitoIdentityException.InvalidCognitoIdentityException(identityPoolId))}return Promise.resolve(null)}},{key:"context",get:function(){return this._context}},{key:"resolver",get:function(){return this._resolver}},{key:"contextSent",get:function(){return this._contextSent}},{key:"loggedUserId",get:function(){return this._loggedUserId}},{key:"forceUserIdentity",get:function(){return this._forceUserIdentity}},{key:"kernel",get:function(){return this._kernel}},{key:"lambda",get:function(){let _this=this;return function(event,context){_this.run(event,context)}}},{key:"calleeName",get:function(){if(this._context&&this._context.has("invokedFunctionArn")){let calleeArn=this._context.getOption("invokedFunctionArn");return calleeArn.replace(/^.+:function:/i,"")}return null}},{key:"calleeConfig",get:function(){if(!this._calleeConfig&&this._context&&this._kernel&&this._context.has("invokedFunctionArn")){let resource=this._kernel.get("resource"),calleeArn=this._context.getOption("invokedFunctionArn");this._calleeConfig=resource.getActionConfig(calleeArn)}return this._calleeConfig}},{key:"validationSchema",get:function(){return this.calleeConfig?this.calleeConfig.validationSchema||null:null}},{key:"request",get:function(){return this._request}},{key:"securityService",get:function(){return this.kernel.get("security")}},{key:"dbService",get:function(){return this.kernel.get("db")}},{key:"logService",get:function(){return this.kernel.get("log")}}],[{key:"DB_ANONYMOUS_PARTITION",get:function(){return"anonymous"}},{key:"VALIDATION_SCHEMAS_DIR",get:function(){return"__deep_validation_schemas__"}}]),Runtime}(_Interface2.Interface)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatabaseOperationException=void 0;var _Exception2=__webpack_require__(14);exports.DatabaseOperationException=function(_Exception){function DatabaseOperationException(error){return _classCallCheck(this,DatabaseOperationException),_possibleConstructorReturn(this,(DatabaseOperationException.__proto__||Object.getPrototypeOf(DatabaseOperationException)).call(this,`Database operation failed. ${error}`,500))}return _inherits(DatabaseOperationException,_Exception),DatabaseOperationException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResourceNotFoundException=void 0;var _Exception2=__webpack_require__(14);exports.ResourceNotFoundException=function(_Exception){function ResourceNotFoundException(){let resourceName=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,ResourceNotFoundException);let message=resourceName?`Resource "${resourceName}" was not found.`:"Resource not found.";return _possibleConstructorReturn(this,(ResourceNotFoundException.__proto__||Object.getPrototypeOf(ResourceNotFoundException)).call(this,message,404))}return _inherits(ResourceNotFoundException,_Exception),ResourceNotFoundException}(_Exception2.Exception)},function(module,exports){function webpackEmptyContext(req){throw new Error("Cannot find module '"+req+"'.")}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=351},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.MethodsProxy=function(){function MethodsProxy(target){_classCallCheck(this,MethodsProxy),this._target=target,this._decorator=null}return _createClass(MethodsProxy,[{key:"decorate",value:function(decorator){return this._decorator=decorator,this}},{key:"proxyOverride",value:function(handler){for(var _this=this,_len=arguments.length,explMethods=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)explMethods[_key-1]=arguments[_key];let methods=Object.keys(handler).concat(explMethods);for(let i in methods)if(methods.hasOwnProperty(i)){let prop=methods[i];(handler.hasOwnProperty(prop)||-1!==explMethods.indexOf(prop))&&"function"==typeof handler[prop]&&Object.defineProperty(this._target,prop,{value:function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return"function"==typeof _this._decorator?_this._decorator.apply(_this,[handler,prop].concat(args)):handler[prop].apply(handler,args)}})}return this._target}},{key:"proxyProperties",value:function(handler){for(var _len3=arguments.length,explProps=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)explProps[_key3-1]=arguments[_key3];let propList=Object.keys(handler).concat(explProps);for(let prop of propList)if("function"!=typeof handler[prop]){let descriptor=Object.getOwnPropertyDescriptor(handler,prop),targetDescriptor={enumerable:descriptor.enumerable,configurable:descriptor.configurable,get:()=>handler[prop]};descriptor.writable&&(targetDescriptor.set=(value=>handler[prop]=value)),Object.defineProperty(this._target,prop,targetDescriptor)}return this._target}},{key:"proxy",value:function(handler){for(var _len4=arguments.length,explMethods=Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++)explMethods[_key4-1]=arguments[_key4];return this.proxyOverride.apply(this,[handler].concat(_toConsumableArray(explMethods.filter(prop=>void 0===this._target[prop]))))}},{key:"target",get:function(){return this._target}}]),MethodsProxy}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.ObjectStorage=function(){function ObjectStorage(){for(var _len=arguments.length,objects=Array(_len),_key=0;_key<_len;_key++)objects[_key]=arguments[_key];_classCallCheck(this,ObjectStorage),1===objects.length&&objects[0]instanceof Array&&(objects=objects[0]),this._vector=objects}return _createClass(ObjectStorage,[{key:"add",value:function(object){return this._vector.push(object),this}},{key:"find",value:function(thing){let strict=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let objectKey in this._vector)if(this._vector.hasOwnProperty(objectKey)){let object=this._vector[objectKey];if(strict&&object===thing||!strict&&object instanceof thing)return object}return null}},{key:"iterator",get:function(){return this._vector}}]),ObjectStorage}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.ObjectVector=function(){function ObjectVector(proto){_classCallCheck(this,ObjectVector),this._proto=proto,this._vector=[];for(var _len=arguments.length,instances=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)instances[_key-1]=arguments[_key];this.add.apply(this,instances)}return _createClass(ObjectVector,[{key:"add",value:function(){for(var _len2=arguments.length,instances=Array(_len2),_key2=0;_key2<_len2;_key2++)instances[_key2]=arguments[_key2];for(let i in instances)if(instances.hasOwnProperty(i)){let instance=instances[i];if(!(instance instanceof this._proto))throw new Error(`The object ${instance.constructor.name} is not an instance of ${this._proto.name}`);this._vector.push(instance)}return this}},{key:"collection",get:function(){return this._vector}}]),ObjectVector}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UniversalRequire=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_path=__webpack_require__(57),_path2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_path);exports.UniversalRequire=function(){function UniversalRequire(){_classCallCheck(this,UniversalRequire),this._require=this._guessRequireFunc()}return _createClass(UniversalRequire,[{key:"require",value:function(module,cb){return UniversalRequire._isFrontend&&(module=_path2.default.normalize(module)),this._require(module,cb)}},{key:"_guessRequireFunc",value:function(){return UniversalRequire._isFrontend?(__webpack_require__(356),window.__deepRequireBrowser__):(module,cb)=>{try{cb(null,!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){cb(e,null)}}}}],[{key:"_isFrontend",get:function(){return"undefined"!=typeof window&&"undefined"!=typeof document}}]),UniversalRequire}()},function(module,exports,__webpack_require__){"use strict";window.__deepRequireBrowser__=window.__deepRequireBrowser__||function(document,undefined){function deepLoad(module,callback,parentLocation,id){if(module.g)return callback(module.e,module);var location=module.g=module.l,request=new XMLHttpRequest;request.onload=function(deps,count){function loaded(){count--||callback(undefined,module)}200==request.status||module.t?(deps=[],(module.t=module.t||request.response).replace(/(?:^|[^\w\$_.])require\s*\(\s*["']([^"']*)["']\s*\)/g,function(_,id){deps.push(id)}),count=deps.length,deps.map(function(dep){deepLoad(resolveModuleOrGetExports(module.l,dep),loaded,"."!=dep[0]?location+"/../":undefined,dep)}),loaded()):parentLocation?deepLoad(module.n=resolveModuleOrGetExports(parentLocation+="../",id),callback,parentLocation,id):(module.e=request,callback(request,module))},module.t?request.onload():(request.open("GET",location,!0),request.send())}function resolveModuleOrGetExports(baseOrModule,relative,resolved){if(baseOrModule.e)throw baseOrModule.e;return relative?(baseElement.href=baseOrModule,relativeElement.href="."!=relative[0]&&"/"!=relative[0]?"./node_modules/"+relative:relative,resolved=".js"==relativeElement.href.substr(-3).toLowerCase()?relativeElement.href:relativeElement.href+".js",baseElement.href="",MODULES[resolved]=MODULES[resolved]||{l:resolved}):baseOrModule.n?resolveModuleOrGetExports(baseOrModule.n):(baseOrModule[tmp]||(baseOrModule.f||globalEval("(function(require,"+tmp+",module){"+baseOrModule.t+"\n})//# sourceURL="+baseOrModule.l))(function(id){return resolveModuleOrGetExports(resolveModuleOrGetExports(baseOrModule.l,id))},baseOrModule[tmp]={},baseOrModule),baseOrModule[tmp])}function R(id,callback){deepLoad(id.call?{l:"",t:""+id,f:id}:resolveModuleOrGetExports("",id),function(err,module){try{id=resolveModuleOrGetExports(module)}catch(_err){err=_err}callback&&callback(err,id)})}var MODULES={},globalEval=eval,tmp="createElement",baseElement=document[tmp]("base"),relativeElement=document[tmp]("a");return document.head.appendChild(baseElement),tmp=document.querySelector("script[data-main]"),tmp&&R(tmp.dataset.main),tmp="exports",R}(document)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DI=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_bottlejs=__webpack_require__(305),_bottlejs2=_interopRequireDefault(_bottlejs),_MissingServiceException=__webpack_require__(359),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore);exports.DI=function(){function DI(){_classCallCheck(this,DI),this._bottle=new _bottlejs2.default,this._localBackend=!1}return _createClass(DI,[{key:"register",value:function(serviceName,serviceClass,dependencies){var args=[serviceName,serviceClass];dependencies&&(args=args.concat(dependencies)),this._bottle.service.apply(this._bottle,args)}},{key:"factory",value:function(serviceName,factoryClass){this._bottle.factory(serviceName,factoryClass)}},{key:"addParameter",value:function(name,value){this._bottle.value(name,value)}},{key:"addService",value:function(name,value){if(!(value instanceof Object))throw new _deepCore2.default.Exception.InvalidArgumentException(value,"Object");this._bottle.value(name,value)}},{key:"get",value:function(key){if(void 0===this._bottle.container[key])throw new _MissingServiceException.MissingServiceException(`Unregistered service or parameter "${key}"`);return this._bottle.container[key]}},{key:"has",value:function(key){return this._bottle.container.hasOwnProperty(key)}},{key:"cleanup",value:function(){}},{key:"localBackend",set:function(localBackend){this._localBackend=localBackend},get:function(){return this._localBackend}}]),DI}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Exception=void 0;var _deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);exports.Exception=function(_Core$Exception$Excep){function Exception(){var _ref;_classCallCheck(this,Exception);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(_ref,[this].concat(args)))}return _inherits(Exception,_Core$Exception$Excep),Exception}(_deepCore2.default.Exception.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingServiceException=void 0;var _Exception2=__webpack_require__(358);exports.MissingServiceException=function(_Exception){function MissingServiceException(serviceName){return _classCallCheck(this,MissingServiceException),_possibleConstructorReturn(this,(MissingServiceException.__proto__||Object.getPrototypeOf(MissingServiceException)).call(this,`Missing service ${serviceName} in deep-kernel`))}return _inherits(MissingServiceException,_Exception),MissingServiceException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";var _DI=__webpack_require__(357);module.exports=_DI.DI},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.AbstractContext=function(){function AbstractContext(){let context=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,AbstractContext),this._context={},this.addObj(context)}return _createClass(AbstractContext,[{key:"addObj",value:function(obj){return this._context=Object.assign(this._context,obj),this}},{key:"add",value:function(key,value){return this._context[key]=value,this}},{key:"get",value:function(){return this._context}},{key:"enrichEventContext",value:function(originalContext){return originalContext=this.extend(originalContext),originalContext.timestamp=Date.now(),originalContext}},{key:"extend",value:function(context){return Object.assign({},this.get(),context)}}],[{key:"fromKernel",value:function(kernel){throw new Error("Context.fromKernel() not implemented!")}}]),AbstractContext}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();let ClientJS=function(){};"undefined"!=typeof window&&(__webpack_require__(316),ClientJS=window.ClientJS);const singletonInstance=Symbol(),singletonEnforcer=Symbol();exports.ClientSession=function(_ClientJS){function ClientSession(enforcer){if(_classCallCheck(this,ClientSession),enforcer!==singletonEnforcer)throw new Error("Cannot construct new ClientSession instance");var _this=_possibleConstructorReturn(this,(ClientSession.__proto__||Object.getPrototypeOf(ClientSession)).call(this));return _this._sessionId=_this._buildSessionId(),_this}return _inherits(ClientSession,_ClientJS),_createClass(ClientSession,[{key:"getSitePlatform",value:function(){let defaultValue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"custom";const metaGenerator=this._findMetaContent("generator");if(metaGenerator.length<=0)return defaultValue;for(let meta of metaGenerator)for(let name in this._cmsMapping)if(this._cmsMapping.hasOwnProperty(name)&&this._cmsMapping[name].test(meta))return name;return defaultValue}},{key:"_findMetaContent",value:function(name){let lowercase=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return document&&"function"==typeof document.getElementsByTagName?(name=(name||"").toLowerCase(),this._htmlCollectionToArray(document.getElementsByTagName("meta")).filter(meta=>(meta.getAttribute("name")||"").toLowerCase()===name||(meta.getAttribute("property")||"").toLowerCase()===name).map(meta=>{const content=meta.getAttribute("content")||"";return lowercase?content.toLowerCase():content})):[]}},{key:"_htmlCollectionToArray",value:function(collection){let result=[];for(let i=0;i<collection.length;i++)result.push(collection[i]);return result}},{key:"getSessionId",value:function(){return this._sessionId}},{key:"_buildSessionId",value:function(){return`${this.getFingerprint()}${Date.now()}`.match(/.{1,6}/g).join("-")}},{key:"_cmsMapping",get:function(){return{contao:/Contao/i,wordpress:/WordPress/i,joomla:/Joomla/i,drupal:/Drupal/i,typo3:/TYPO3/i}}}],[{key:"instance",get:function(){return this[singletonInstance]||(this[singletonInstance]=new ClientSession(singletonEnforcer)),this[singletonInstance]}}]),ClientSession}(ClientJS)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FrontendContext=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_BackendContext2=__webpack_require__(168),_ClientSession=__webpack_require__(362);exports.FrontendContext=function(_BackendContext){function FrontendContext(){return _classCallCheck(this,FrontendContext),_possibleConstructorReturn(this,(FrontendContext.__proto__||Object.getPrototypeOf(FrontendContext)).apply(this,arguments))}return _inherits(FrontendContext,_BackendContext),_createClass(FrontendContext,null,[{key:"fromKernel",value:function(kernel){return _get(FrontendContext.__proto__||Object.getPrototypeOf(FrontendContext),"fromKernel",this).call(this,kernel).addObj(FrontendContext.clientData).addObj(FrontendContext.envData)}},{key:"clientData",get:function(){return{sessionId:_ClientSession.ClientSession.instance.getSessionId(),fingerprint:_ClientSession.ClientSession.instance.getFingerprint(),browser:_ClientSession.ClientSession.instance.getBrowser(),browserVersion:_ClientSession.ClientSession.instance.getBrowserVersion(),os:_ClientSession.ClientSession.instance.getOS(),osVersion:_ClientSession.ClientSession.instance.getOSVersion(),resolution:_ClientSession.ClientSession.instance.getCurrentResolution(),timezone:_ClientSession.ClientSession.instance.getTimeZone(),language:_ClientSession.ClientSession.instance.getLanguage()}}},{key:"envData",get:function(){return{location:{hash:window.location.hash,host:window.location.host,href:window.location.href,origin:window.location.origin,pathname:window.location.pathname,port:window.location.port,protocol:window.location.protocol,search:window.location.search},propertyId:window.location.host,platform:_ClientSession.ClientSession.instance.getSitePlatform()}}}]),FrontendContext}(_BackendContext2.BackendContext)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConsoleDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(169);exports.ConsoleDriver=function(_AbstractDriver){function ConsoleDriver(){return _classCallCheck(this,ConsoleDriver),_possibleConstructorReturn(this,(ConsoleDriver.__proto__||Object.getPrototypeOf(ConsoleDriver)).apply(this,arguments))}return _inherits(ConsoleDriver,_AbstractDriver),_createClass(ConsoleDriver,[{key:"_log",value:function(name,data,context){return this._printEvent(name,data,context)}}]),ConsoleDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.UUID=function(){function UUID(){_classCallCheck(this,UUID)}return _createClass(UUID,null,[{key:"generate",value:function(){let ensureUnique=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._uuids=this._uuids||[];let date=(new Date).getTime();window&&window.performance&&"function"==typeof window.performance.now&&(date+=performance.now());let uuid=null;do{uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,char=>{date=Math.floor(date/16);let rand=(date+16*Math.random())%16|0;return("x"==char?rand:3&rand|8).toString(16)})}while(!ensureUnique||-1!==this._uuids.indexOf(uuid));return-1===this._uuids.indexOf(uuid)&&this._uuids.push(uuid),uuid}}]),UUID}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.KinesisDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(169),_UUID=__webpack_require__(365),_awsSdk=__webpack_require__(18),_awsSdk2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_awsSdk);exports.KinesisDriver=function(_AbstractDriver){function KinesisDriver(kinesisEventStream){var _ref;_classCallCheck(this,KinesisDriver);for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var _this=_possibleConstructorReturn(this,(_ref=KinesisDriver.__proto__||Object.getPrototypeOf(KinesisDriver)).call.apply(_ref,[this].concat(args)));return _this._partitionKey=null,_this._kinesisEventStream=_this._normalizeStreamName(kinesisEventStream),_this._kinesis=new _awsSdk2.default.Kinesis(_this._serviceOptionsFromStreamArn(kinesisEventStream)),_this}return _inherits(KinesisDriver,_AbstractDriver),_createClass(KinesisDriver,[{key:"_serviceOptionsFromStreamArn",value:function(kinesisEventStream){const matches=kinesisEventStream.match(/^arn:aws:kinesis:([^:]+):([^:]+):stream\//i);return!matches||matches.length<3?{}:{region:matches[1]}}},{key:"_normalizeStreamName",value:function(kinesisEventStream){return kinesisEventStream.replace(/^.+\/([^\/]+)$/i,"$1")}},{key:"_log",value:function(name,data,context){return this._push([{name:name,data:data,context:context}])}},{key:"_push",value:function(events){return events.length<=0?Promise.resolve():events.length>KinesisDriver.MAX_PUT_LENGTH?Promise.all(this._chunks(events,KinesisDriver.MAX_PUT_LENGTH).map(chunk=>this._push(chunk))):new Promise((resolve,reject)=>{const payload={StreamName:this.kinesisEventStream,Records:events.map(event=>({Data:JSON.stringify(event),PartitionKey:this.partitionKey}))};this.kinesis.putRecords(payload,(error,data)=>{if(error)return reject(error);resolve(data)})})}},{key:"_chunks",value:function(arr,pieces){const len=arr.length;let mid=len/pieces,chunks=[],start=0;for(let i=0;i<pieces;i++){let last=start+mid;!len%pieces>=i&&(last-=1),chunks.push(arr.slice(start,last+1)||[]),start=last+1}return chunks}},{key:"kinesis",get:function(){return this._kinesis}},{key:"partitionKey",get:function(){return this._partitionKey=this._partitionKey||_UUID.UUID.generate(),this._partitionKey}},{key:"kinesisEventStream",get:function(){return this._kinesisEventStream}}],[{key:"MAX_PUT_LENGTH",get:function(){return 500}}]),KinesisDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Event=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepKernel=__webpack_require__(21),_deepKernel2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepKernel),_ConsoleDriver=__webpack_require__(364),_KinesisDriver=__webpack_require__(366),_BackendContext=__webpack_require__(168),_FrontendContext=__webpack_require__(363);exports.Event=function(_Kernel$ContainerAwar){function Event(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,Event);var _this=_possibleConstructorReturn(this,(Event.__proto__||Object.getPrototypeOf(Event)).call(this));return _this._driver=null,_this}return _inherits(Event,_Kernel$ContainerAwar),_createClass(Event,[{key:"log",value:function(){var _driver;return(_driver=this.driver).log.apply(_driver,arguments)}},{key:"ensureKinesisDriver",value:function(){let kinesisStreamArn=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._driver&&this._driver instanceof _KinesisDriver.KinesisDriver?this:(kinesisStreamArn=kinesisStreamArn||this.kernel.config.globals.kinesisEventStream,this._driver=new _KinesisDriver.KinesisDriver(kinesisStreamArn,this._driver.context),this)}},{key:"boot",value:function(kernel,callback){const kinesisStreamArn=kernel.config.globals.kinesisEventStream,context=(kernel.isFrontend?_FrontendContext.FrontendContext:_BackendContext.BackendContext).fromKernel(kernel);kernel.env===_deepKernel2.default.PROD_ENVIRONMENT&&kinesisStreamArn?this._driver=new _KinesisDriver.KinesisDriver(kinesisStreamArn,context):this._driver=new _ConsoleDriver.ConsoleDriver(context),callback()}},{key:"driver",get:function(){return this._driver}}]),Event}(_deepKernel2.default.ContainerAware)},function(module,exports,__webpack_require__){"use strict";var _Event=__webpack_require__(367);module.exports=_Event.Event},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComplexDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(36);exports.ComplexDriver=function(_AbstractDriver){function ComplexDriver(){_classCallCheck(this,ComplexDriver);for(var _this=_possibleConstructorReturn(this,(ComplexDriver.__proto__||Object.getPrototypeOf(ComplexDriver)).call(this)),_len=arguments.length,drivers=Array(_len),_key=0;_key<_len;_key++)drivers[_key]=arguments[_key];return _this._drivers=drivers,_this}return _inherits(ComplexDriver,_AbstractDriver),_createClass(ComplexDriver,[{key:"add",value:function(driver){return this._drivers.push(driver),this}},{key:"_load",value:function(){for(var _len2=arguments.length,drivers=Array(_len2),_key2=0;_key2<_len2;_key2++)drivers[_key2]=arguments[_key2];this._drivers=this._drivers.concat(drivers),this._loadDriversQueue([].concat(this._drivers))}},{key:"_loadDriversQueue",value:function(drivers){let errors=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(drivers.length<=0)return void this.fail(`All drivers failed to load: ${errors.join("; ")}`);let driver=drivers.shift();driver.onLoadedCb(config=>{this.loaded(config)}),driver.onFailCb(error=>{errors.push(error.toString());this._loadDriversQueue(drivers,errors)}),driver.load()}},{key:"drivers",get:function(){return this._drivers}}]),ComplexDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";(function(global){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.KernelDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(36),_ComplexDriver=__webpack_require__(369),_ScopeDriver=__webpack_require__(371),_FsDriver=__webpack_require__(171),_HttpDriver=__webpack_require__(172);exports.KernelDriver=function(_AbstractDriver){function KernelDriver(kernel){let scopeKey=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KernelDriver.SCOPE_KEY,configFile=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KernelDriver.DEFAULT_CONFIG_FILE;_classCallCheck(this,KernelDriver);var _this=_possibleConstructorReturn(this,(KernelDriver.__proto__||Object.getPrototypeOf(KernelDriver)).call(this));return _this._kernel=kernel,_this._scopeKey=scopeKey,_this._configFile=configFile,_this}return _inherits(KernelDriver,_AbstractDriver),_createClass(KernelDriver,[{key:"_load",value:function(){let scopeKey=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,configFile=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._scopeKey=scopeKey||this._scopeKey,this._configFile=configFile||this._configFile,(new _ComplexDriver.ComplexDriver).inherit(this).add(new _ScopeDriver.ScopeDriver(this._scopeKey).setScope(this._globalScope)).add(this._kernel.isBackend?new _FsDriver.FsDriver(this._configFile):new _HttpDriver.HttpDriver(this._configFile,!0)).load()}},{key:"scopeKey",get:function(){return this._scopeKey}},{key:"configFile",get:function(){return this._configFile}},{key:"kernel",get:function(){return this._kernel}},{key:"_globalScope",get:function(){return this._kernel.isBackend?global:window||{}}}],[{key:"SCOPE_KEY",get:function(){return"__DEEP_CFG__"}},{key:"DEFAULT_CONFIG_FILE",get:function(){return"_config.json"}}]),KernelDriver}(_AbstractDriver2.AbstractDriver)}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){"use strict";(function(global){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScopeDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(36);exports.ScopeDriver=function(_AbstractDriver){function ScopeDriver(key){_classCallCheck(this,ScopeDriver);var _this=_possibleConstructorReturn(this,(ScopeDriver.__proto__||Object.getPrototypeOf(ScopeDriver)).call(this));return _this._scope=global||{},_this._key=key,_this}return _inherits(ScopeDriver,_AbstractDriver),_createClass(ScopeDriver,[{key:"setScope",value:function(scope){return this._scope=scope,this}},{key:"setKey",value:function(key){return this._key=key,this}},{key:"_load",value:function(){let key=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._key=key||this._key,this._scope.hasOwnProperty(this._key)?this.loaded(this._scope[this._key]):this.fail(`Unable to load configuration from scope: No such key '${this._key}' exists`)}},{key:"scope",get:function(){return this._scope}},{key:"key",get:function(){return this._key}}]),ScopeDriver}(_AbstractDriver2.AbstractDriver)}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Loader=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_KernelDriver=__webpack_require__(370),_AsyncConfig=__webpack_require__(170);exports.Loader=function(){function Loader(){let driver=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,Loader),this._driver=driver}return _createClass(Loader,[{key:"setDriver",value:function(driver){return this._driver=driver,this}},{key:"load",value:function(){let onLoaded=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},onFail=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};onLoaded&&this._driver.onLoadedCb(onLoaded),onFail&&this._driver.onFailCb(onFail),this._driver.load()}},{key:"driver",get:function(){return this._driver}}],[{key:"asyncConfigLoader",value:function(kernel){return new Loader(new _AsyncConfig.AsyncConfig(kernel))}},{key:"kernelLoader",value:function(kernel){return new Loader(new _KernelDriver.KernelDriver(kernel))}}]),Loader}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContainerAware=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_Injectable=__webpack_require__(91),_InvalidDeepIdentifierException=__webpack_require__(374);exports.ContainerAware=function(_MicroserviceInjectab){function ContainerAware(){_classCallCheck(this,ContainerAware);var _this=_possibleConstructorReturn(this,(ContainerAware.__proto__||Object.getPrototypeOf(ContainerAware)).call(this));return _this._kernel=null,_this._localBackend=!1,_this}return _inherits(ContainerAware,_MicroserviceInjectab),_createClass(ContainerAware,[{key:"boot",value:function(kernel,callback){callback()}},{key:"cleanup",value:function(){}},{key:"bind",value:function(microservice){return"string"==typeof microservice&&(microservice=this.kernel.microservice(microservice)),_get(ContainerAware.prototype.__proto__||Object.getPrototypeOf(ContainerAware.prototype),"bind",this).call(this,microservice)}},{key:"_resolveIdentifier",value:function(identifier){let regExp=/^@\s*([^:]+)\s*:\s*([^\s]+)\s*$/;if("string"==typeof identifier&&regExp.test(identifier)){let parts=identifier.match(regExp);return this.bind(parts[1]),parts[2]}throw new _InvalidDeepIdentifierException.InvalidDeepIdentifierException(identifier)}},{key:"get",value:function(){var _container;return(_container=this.container).get.apply(_container,arguments)}},{key:"localBackend",get:function(){return this._localBackend},set:function(state){this._localBackend=state}},{key:"name",get:function(){return this.constructor.name.toLowerCase()}},{key:"service",get:function(){return this}},{key:"container",get:function(){return this._kernel?this._kernel.container:null}},{key:"kernel",set:function(kernel){this._kernel=kernel},get:function(){return this._kernel}}]),ContainerAware}(_Injectable.Injectable)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidDeepIdentifierException=void 0;var _Exception2=__webpack_require__(48);exports.InvalidDeepIdentifierException=function(_Exception){function InvalidDeepIdentifierException(identifier){return _classCallCheck(this,InvalidDeepIdentifierException),_possibleConstructorReturn(this,(InvalidDeepIdentifierException.__proto__||Object.getPrototypeOf(InvalidDeepIdentifierException)).call(this,`Invalid deep identifier "${identifier}". It should conform to the following format: @microservice_identifier:resource_identifier.`))}return _inherits(InvalidDeepIdentifierException,_Exception),InvalidDeepIdentifierException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingMicroserviceException=void 0;var _Exception2=__webpack_require__(48);exports.MissingMicroserviceException=function(_Exception){function MissingMicroserviceException(microserviceIdentifier){return _classCallCheck(this,MissingMicroserviceException),_possibleConstructorReturn(this,(MissingMicroserviceException.__proto__||Object.getPrototypeOf(MissingMicroserviceException)).call(this,`Missing microservice ${microserviceIdentifier} in Kernel container`))}return _inherits(MissingMicroserviceException,_Exception),MissingMicroserviceException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";(function(process){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Kernel=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore),_deepDi=__webpack_require__(360),_deepDi2=_interopRequireDefault(_deepDi),_Exception=__webpack_require__(48),_Instance=__webpack_require__(173),_MissingMicroserviceException=__webpack_require__(375),_Injectable=__webpack_require__(91),_ContainerAware=__webpack_require__(373),_waitUntil=__webpack_require__(650),_waitUntil2=_interopRequireDefault(_waitUntil),_util=__webpack_require__(20),_util2=_interopRequireDefault(_util),_Loader=__webpack_require__(372),_AsyncConfig=__webpack_require__(170);exports.Kernel=function(){function Kernel(deepServices,context){if(_classCallCheck(this,Kernel),-1===Kernel.ALL_CONTEXTS.indexOf(context))throw new _Exception.Exception(`Undefined context "${context}"`);this._config={},this._services=deepServices,this._context=context,this._runtimeContext={},this._contextProvider=null,this._env=null,this._container=new _deepDi2.default,this._isLoaded=!1,this._asyncConfigCache=null}return _createClass(Kernel,[{key:"microservice",value:function(){let identifier=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;identifier||(identifier=this._config.microserviceIdentifier);for(let microserviceKey in this.microservices)if(this.microservices.hasOwnProperty(microserviceKey)){let microservice=this.microservices[microserviceKey];if(microservice.identifier===identifier)return microservice}throw new _MissingMicroserviceException.MissingMicroserviceException(identifier)}},{key:"loadAsyncConfig",value:function(cb){if(this._asyncConfigCache)return cb(this._asyncConfigCache),this;let cache=this.get("cache").system,cacheKey=Kernel.ASYNC_CONFIG_CACHE_KEY;return cache.has(cacheKey,(error,exists)=>{this._logErrorIfExistsAndNotProd(error);if(exists)return void cache.get(cacheKey,(error,rawConfig)=>{this._logErrorIfExistsAndNotProd(error);if(rawConfig)try{return this._asyncConfigCache=JSON.parse(rawConfig),void cb(this._asyncConfigCache)}catch(error){this._logErrorIfExistsAndNotProd(error)}this._loadAsyncConfig(cache,cacheKey,cb)});this._loadAsyncConfig(cache,cacheKey,cb)}),this}},{key:"_loadAsyncConfig",value:function(cache,cacheKey,cb){_Loader.Loader.asyncConfigLoader(this).load(config=>{cache.set(cacheKey,JSON.stringify(config),0,error=>{this._logErrorIfExistsAndNotProd(error);this._asyncConfigCache=config;cb(config)})},error=>{this._logErrorIfExistsAndNotProd(error);cb(null)})}},{key:"_logErrorIfExistsAndNotProd",value:function(error){error&&this.env!==Kernel.PROD_ENVIRONMENT&&console.error(error)}},{key:"bootstrap",value:function(callback){let rumEvent={service:"deep-kernel",resourceType:"Lambda",eventName:"KernelLoad",time:(new Date).getTime()};return this._isLoaded?(this.isBackend&&(rumEvent.eventName="KernelLoadFromCache",rumEvent.resourceId=this.runtimeContext.invokedFunctionArn,rumEvent.payload=this.config,this.get("log").rumLog(rumEvent)),callback(this),this):(_Loader.Loader.kernelLoader(this).load(config=>{this.load(config,kernel=>{if(this.isBackend){rumEvent.resourceId=this.runtimeContext.invokedFunctionArn,this.get("log").rumLog(rumEvent);let event=_util2.default._extend({},rumEvent);event.payload=kernel.config,event.time=(new Date).getTime(),this.get("log").rumLog(event)}callback(kernel)})},error=>{throw new _Exception.Exception(`Error loading kernel: ${error}`)}),this)}},{key:"kernelCleanup",value:function(){let serviceNames=Object.keys(this.services);for(let serviceName of serviceNames){let serviceInstance=this.get(serviceName.toLowerCase());serviceInstance.cleanup()}return this}},{key:"load",value:function(config,callback){if(this._isLoaded)return callback(this),this;let originalCallback=callback;return callback=(kernel=>{this._isLoaded=!0;originalCallback(kernel)}),this._config=config,this._buildContainer(callback),this}},{key:"get",value:function(){var _container;return(_container=this._container).get.apply(_container,arguments)}},{key:"has",value:function(){var _container2;return(_container2=this._container).has.apply(_container2,arguments)}},{key:"getMsParam",value:function(msIdentifier,paramPath){let defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this._config.microservices.hasOwnProperty(msIdentifier))throw new Error(`Unknown microservice identifier "${msIdentifier}".`);return this._findParam(this._config.microservices[msIdentifier].parameters,paramPath,defaultValue)}},{key:"getParam",value:function(paramPath){let defaultValue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._findParam(this._config.globals,paramPath,defaultValue)}},{key:"_findParam",value:function(params,paramPath,defaultValue){let paramParts=paramPath.split("|").map(x=>x.trim()),result=params;for(let i=0;i<paramParts.length;i++){let param=paramParts[i];if(!result||"object"!=typeof result&&!result.hasOwnProperty(param))return defaultValue;result=result[param]}return result}},{key:"_buildContainer",value:function(callback){this._env=this._config.env,this._container.addParameter(Kernel.KERNEL,this),this._container.addParameter(Kernel.CONTEXT,{environment:this._env,isFrontend:this.isFrontend,isBackend:this.isBackend}),this._container.addParameter(Kernel.MICROSERVICES,_Instance.Instance.createVector(this._config)),this._container.addParameter(Kernel.CONFIG,this._config),this._container.localBackend=_deepCore2.default.IS_DEV_SERVER;let bootingServices=0;for(let serviceKey in this._services)if(this._services.hasOwnProperty(serviceKey)){let serviceInstance=new this._services[serviceKey];bootingServices++,serviceInstance.kernel=this,serviceInstance.localBackend=_deepCore2.default.IS_DEV_SERVER,serviceInstance.boot(this,()=>{bootingServices--}),this._container.addService(serviceInstance.name,Kernel._createProxyIfNeeded(serviceInstance))}(0,_waitUntil2.default)().interval(10).times(999999).condition(cb=>{process.nextTick(()=>{cb(bootingServices<=0)})}).done(()=>{callback(this)})}},{key:"isLoaded",get:function(){return this._isLoaded}},{key:"runtimeContext",get:function(){return this._runtimeContext},set:function(runtimeContext){this._runtimeContext=runtimeContext}},{key:"contextProvider",get:function(){return this._contextProvider},set:function(contextProvider){this._contextProvider=contextProvider}},{key:"rootMicroservice",get:function(){for(let microserviceKey in this.microservices)if(this.microservices.hasOwnProperty(microserviceKey)){let microservice=this.microservices[microserviceKey];if(microservice.isRoot)return microservice}throw new _MissingMicroserviceException.MissingMicroserviceException("ROOT")}},{key:"accountMicroservice",get:function(){for(let microserviceKey in this.microservices)if(this.microservices.hasOwnProperty(microserviceKey)){let microservice=this.microservices[microserviceKey];if(microservice.identifier===Kernel.ACCOUNT_MICROSERVICE_IDENTIFIER)return microservice}return null}},{key:"services",get:function(){return this._services}},{key:"container",get:function(){return this._container}},{key:"isRumEnabled",get:function(){return this.has("log")&&this.get("log").isRumEnabled()}},{key:"isFrontend",get:function(){return this._context===Kernel.FRONTEND_CONTEXT}},{key:"isLocalhost",get:function(){return this.isFrontend&&-1!==["localhost","127.0.0.1","0.0.0.0","::1"].indexOf(window.location.hostname)}},{key:"isBackend",get:function(){return this._context===Kernel.BACKEND_CONTEXT}},{key:"buildId",get:function(){return this._config.deployId||""}},{key:"context",get:function(){return this._context}},{key:"env",get:function(){return this._env}},{key:"config",get:function(){return this._config}},{key:"microservices",get:function(){return this._container.get(Kernel.MICROSERVICES)}}],[{key:"_createProxyIfNeeded",value:function(serviceObj){if(serviceObj===serviceObj.service)return serviceObj;if(!serviceObj.hasOwnProperty("apply"))return serviceObj.service;let proxy=new Proxy(serviceObj,serviceObj.service);return proxy.__proto__=this.__proto__,proxy.constructor.prototype=this.constructor.prototype,proxy}},{key:"MicroserviceInjectable",get:function(){return _Injectable.Injectable}},{key:"ContainerAware",get:function(){return _ContainerAware.ContainerAware}},{key:"FRONTEND_BOOTSTRAP_VECTOR",get:function(){return"deep_frontend_bootstrap_vector"}},{key:"CONFIG",get:function(){return"deep_config"}},{key:"KERNEL",get:function(){return"deep_kernel"}},{key:"CONTEXT",get:function(){return"deep_context"}},{key:"MICROSERVICES",get:function(){return"deep_microservices"}},{key:"FRONTEND_CONTEXT",get:function(){return"frontend-ctx"}},{key:"BACKEND_CONTEXT",get:function(){return"backend-ctx"}},{key:"ALL_CONTEXTS",get:function(){return[Kernel.FRONTEND_CONTEXT,Kernel.BACKEND_CONTEXT]}},{key:"PROD_ENVIRONMENT",get:function(){return"prod"}},{key:"STAGE_ENVIRONMENT",get:function(){return"stage"}},{key:"TEST_ENVIRONMENT",get:function(){return"test"}},{key:"DEV_ENVIRONMENT",get:function(){return"dev"}},{key:"ASYNC_CONFIG_FILE",get:function(){return _AsyncConfig.AsyncConfig.DEFAULT_CONFIG_FILE}},{key:"ASYNC_CONFIG_CACHE_KEY",get:function(){return"asyncConfig"}},{key:"ACCOUNT_MICROSERVICE_IDENTIFIER",get:function(){return"deep-account"}},{key:"ALL_ENVIRONMENTS",get:function(){return[Kernel.PROD_ENVIRONMENT,Kernel.STAGE_ENVIRONMENT,Kernel.TEST_ENVIRONMENT,Kernel.DEV_ENVIRONMENT]}}]),Kernel}()}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingWorkingMicroserviceException=void 0;var _Exception2=__webpack_require__(48);exports.MissingWorkingMicroserviceException=function(_Exception){function MissingWorkingMicroserviceException(){return _classCallCheck(this,MissingWorkingMicroserviceException),_possibleConstructorReturn(this,(MissingWorkingMicroserviceException.__proto__||Object.getPrototypeOf(MissingWorkingMicroserviceException)).call(this,"Missing working microservice from Kernel.MicroserviceInjectable"))}return _inherits(MissingWorkingMicroserviceException,_Exception),MissingWorkingMicroserviceException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConsoleDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(49),_Log=__webpack_require__(66);exports.ConsoleDriver=function(_AbstractDriver){function ConsoleDriver(){_classCallCheck(this,ConsoleDriver);var _this=_possibleConstructorReturn(this,(ConsoleDriver.__proto__||Object.getPrototypeOf(ConsoleDriver)).call(this));return _this._console=ConsoleDriver._buildConsole(),_this}return _inherits(ConsoleDriver,_AbstractDriver),_createClass(ConsoleDriver,[{key:"log",value:function(msg,level,context){let nativeMethod="log";switch(level){case _Log.Log.EMERGENCY:case _Log.Log.ERROR:case _Log.Log.CRITICAL:nativeMethod="error";break;case _Log.Log.ALERT:case _Log.Log.WARNING:nativeMethod="warn";break;case _Log.Log.NOTICE:nativeMethod="log";break;case _Log.Log.INFO:nativeMethod="info";break;case _Log.Log.DEBUG:nativeMethod="debug"}if((this._console[nativeMethod]||this._console.log).call(ConsoleDriver.nativeConsole,_AbstractDriver2.AbstractDriver.timeString,msg),context){let debugMethod=this._console.debug||this._console.log;debugMethod.call(ConsoleDriver.nativeConsole,"[DEBUG]",context)}}},{key:"overrideNative",value:function(){let logTime=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var _this2=this;let coloredOutput=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],turnOff=arguments.length>2&&void 0!==arguments[2]&&arguments[2],nativeConsole=ConsoleDriver.nativeConsole;for(let i in ConsoleDriver.METHODS_TO_OVERRIDE)if(ConsoleDriver.METHODS_TO_OVERRIDE.hasOwnProperty(i)){let method=ConsoleDriver.METHODS_TO_OVERRIDE[i];ConsoleDriver._isLogLevelEnabled(method)?(this._console[method]=this._console[method]||this._console.log,nativeConsole[method]=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(!turnOff){var _console;let nativeArgs=args;coloredOutput&&(nativeArgs=ConsoleDriver._colorOutput(method,nativeArgs)),logTime&&nativeArgs.unshift(_AbstractDriver2.AbstractDriver.timeString),(_console=_this2._console)[method].apply(_console,_toConsumableArray(nativeArgs))}}):nativeConsole[method]=(()=>{})}return this}}],[{key:"_buildConsole",value:function(){let nativeConsole=ConsoleDriver.nativeConsole,console={};for(let i in ConsoleDriver.METHODS_TO_OVERRIDE)if(ConsoleDriver.METHODS_TO_OVERRIDE.hasOwnProperty(i)){let method=ConsoleDriver.METHODS_TO_OVERRIDE[i];"debug"===method&&void 0===nativeConsole[method]&&(method="log"),console[method]=nativeConsole[method],console[method].bind(nativeConsole)}return console}},{key:"_isLogLevelEnabled",value:function(method){return-1!==ConsoleDriver.ERROR_LEVELS_MAPPING[ConsoleDriver.ENV_LOG_LEVEL].indexOf(method)}},{key:"_colorOutput",value:function(type,args){let color=null;switch(type.toLowerCase()){case"error":color=31;break;case"warn":color=33;break;default:color=32}return args.unshift(`[${color}m`),args.push("[0m"),args}},{key:"ERROR_LEVELS_MAPPING",get:function(){return{silent:["log"],error:["error","log"],warn:["warn","log","error"],info:["warn","log","error","info"],debug:["debug","warn","log","info","error"]}}},{key:"ENV_LOG_LEVEL",get:function(){let envLevel="undefined"==typeof window?__webpack_require__.i({AWS_SERVICES:"lambda,cognitoidentity,cognitosync,sqs",NODE_ENV:"production"}).DEEP_LOG_LEVEL:window.DEEP_LOG_LEVEL;return envLevel=envLevel||"info",envLevel="undefined"===envLevel?"info":envLevel,envLevel.toLowerCase()}},{key:"nativeConsole",get:function(){return"undefined"==typeof window?console:window.console}},{key:"METHODS_TO_OVERRIDE",get:function(){return["error","log","warn","info","debug"]}}]),ConsoleDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FailedToDeleteSqsMessagesException=void 0;var _LogDriverException2=__webpack_require__(22);exports.FailedToDeleteSqsMessagesException=function(_LogDriverException){function FailedToDeleteSqsMessagesException(sqsQueueUrl,error){return _classCallCheck(this,FailedToDeleteSqsMessagesException),_possibleConstructorReturn(this,(FailedToDeleteSqsMessagesException.__proto__||Object.getPrototypeOf(FailedToDeleteSqsMessagesException)).call(this,`Failed to delete batch messages from "${sqsQueueUrl}" SQS queue. ${error}`))}return _inherits(FailedToDeleteSqsMessagesException,_LogDriverException),FailedToDeleteSqsMessagesException}(_LogDriverException2.LogDriverException)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FailedToReceiveSqsMessageException=void 0;var _LogDriverException2=__webpack_require__(22);exports.FailedToReceiveSqsMessageException=function(_LogDriverException){function FailedToReceiveSqsMessageException(sqsQueueUrl,error){return _classCallCheck(this,FailedToReceiveSqsMessageException),_possibleConstructorReturn(this,(FailedToReceiveSqsMessageException.__proto__||Object.getPrototypeOf(FailedToReceiveSqsMessageException)).call(this,`Failed to receive messages from "${sqsQueueUrl}" SQS queue. ${error}`))}return _inherits(FailedToReceiveSqsMessageException,_LogDriverException),FailedToReceiveSqsMessageException}(_LogDriverException2.LogDriverException)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FailedToSendBatchSqsMessageException=void 0;var _LogDriverException2=__webpack_require__(22);exports.FailedToSendBatchSqsMessageException=function(_LogDriverException){function FailedToSendBatchSqsMessageException(sqsQueueUrl,error){return _classCallCheck(this,FailedToSendBatchSqsMessageException),_possibleConstructorReturn(this,(FailedToSendBatchSqsMessageException.__proto__||Object.getPrototypeOf(FailedToSendBatchSqsMessageException)).call(this,`Failed to send batch messages to ${sqsQueueUrl} SQS queue. ${error}`))}return _inherits(FailedToSendBatchSqsMessageException,_LogDriverException),FailedToSendBatchSqsMessageException}(_LogDriverException2.LogDriverException)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FailedToSendSqsMessageException=void 0;var _LogDriverException2=__webpack_require__(22);exports.FailedToSendSqsMessageException=function(_LogDriverException){function FailedToSendSqsMessageException(sqsQueueUrl,message,error){return _classCallCheck(this,FailedToSendSqsMessageException),_possibleConstructorReturn(this,(FailedToSendSqsMessageException.__proto__||Object.getPrototypeOf(FailedToSendSqsMessageException)).call(this,`Failed to send "${message}" message to ${sqsQueueUrl} SQS queue. ${error}`))}return _inherits(FailedToSendSqsMessageException,_LogDriverException),FailedToSendSqsMessageException}(_LogDriverException2.LogDriverException)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidSqsQueueUrlException=void 0;var _LogDriverException2=__webpack_require__(22);exports.InvalidSqsQueueUrlException=function(_LogDriverException){function InvalidSqsQueueUrlException(sqsQueueUrl,error){return _classCallCheck(this,InvalidSqsQueueUrlException),_possibleConstructorReturn(this,(InvalidSqsQueueUrlException.__proto__||Object.getPrototypeOf(InvalidSqsQueueUrlException)).call(this,`Invalid SQS queue url "${sqsQueueUrl}". ${error}`))}return _inherits(InvalidSqsQueueUrlException,_LogDriverException),InvalidSqsQueueUrlException}(_LogDriverException2.LogDriverException)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RumEventValidationException=void 0;var _LogDriverException2=__webpack_require__(22);exports.RumEventValidationException=function(_LogDriverException){function RumEventValidationException(eventLevel,error){return _classCallCheck(this,RumEventValidationException),_possibleConstructorReturn(this,(RumEventValidationException.__proto__||Object.getPrototypeOf(RumEventValidationException)).call(this,`Failed to validate "${eventLevel}" event: ${error}`))}return _inherits(RumEventValidationException,_LogDriverException),RumEventValidationException}(_LogDriverException2.LogDriverException)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnknownRumEventException=void 0;var _LogDriverException2=__webpack_require__(22);exports.UnknownRumEventException=function(_LogDriverException){function UnknownRumEventException(event){return _classCallCheck(this,UnknownRumEventException),_possibleConstructorReturn(this,(UnknownRumEventException.__proto__||Object.getPrototypeOf(UnknownRumEventException)).call(this,`Failed to 'guess' event type for ${JSON.stringify(event)} event.`))}return _inherits(UnknownRumEventException,_LogDriverException),UnknownRumEventException}(_LogDriverException2.LogDriverException)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventFactory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_FrameworkEvent=__webpack_require__(387),_FrontendEvent=__webpack_require__(388),_AbstractEvent=__webpack_require__(92),_UnknownRumEventException=__webpack_require__(385);exports.EventFactory=function(){function EventFactory(){_classCallCheck(this,EventFactory)}return _createClass(EventFactory,null,[{key:"create",value:function(kernel,rawData){let EventClass=null;if(rawData.service&&-1!==_AbstractEvent.AbstractEvent.SERVICES.indexOf(rawData.service))EventClass=_FrameworkEvent.FrameworkEvent;else{if(!rawData.engine)throw new _UnknownRumEventException.UnknownRumEventException(rawData);EventClass=_FrontendEvent.FrontendEvent}return new EventClass(kernel,rawData)}}]),EventFactory}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FrameworkEvent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_joi=__webpack_require__(24),_joi2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_joi),_AbstractEvent2=__webpack_require__(92);exports.FrameworkEvent=function(_AbstractEvent){function FrameworkEvent(){var _ref;_classCallCheck(this,FrameworkEvent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=FrameworkEvent.__proto__||Object.getPrototypeOf(FrameworkEvent)).call.apply(_ref,[this].concat(args)))}return _inherits(FrameworkEvent,_AbstractEvent),_createClass(FrameworkEvent,[{key:"getEventLevel",value:function(){return _AbstractEvent2.AbstractEvent.FRAMEWORK_EVENT_LEVEL}},{key:"toJSON",value:function(){return this._data}},{key:"getValidationSchema",value:function(){return _joi2.default.object().keys({depthLevel:_joi2.default.number().integer().optional(),eventLevel:_joi2.default.string().required().allow([_AbstractEvent2.AbstractEvent.FRAMEWORK_EVENT_LEVEL]),service:_joi2.default.string().required().allow(_AbstractEvent2.AbstractEvent.SERVICES),resourceType:_joi2.default.string().required().allow(_AbstractEvent2.AbstractEvent.RESOURCE_TYPES),resourceId:_joi2.default.string().required(),eventName:_joi2.default.string().required(),eventId:_joi2.default.string().alphanum().optional(),time:_joi2.default.number().integer().required(),context:_joi2.default.string().required().allow(_AbstractEvent2.AbstractEvent.CONTEXTS),memoryUsage:_joi2.default.object().unknown().optional().default({}),payload:_joi2.default.object().unknown().optional().default({}),metadata:_joi2.default.object().unknown().optional().default({}),environment:_joi2.default.object().unknown().optional().default({}),requestId:_joi2.default.string(),mainRequestId:_joi2.default.string().optional(),identityId:_joi2.default.string().required()})}}]),FrameworkEvent}(_AbstractEvent2.AbstractEvent)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FrontendEvent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_joi=__webpack_require__(24),_joi2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_joi),_AbstractEvent2=__webpack_require__(92);exports.FrontendEvent=function(_AbstractEvent){function FrontendEvent(){var _ref;_classCallCheck(this,FrontendEvent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=FrontendEvent.__proto__||Object.getPrototypeOf(FrontendEvent)).call.apply(_ref,[this].concat(args)))}return _inherits(FrontendEvent,_AbstractEvent),_createClass(FrontendEvent,[{key:"getEventLevel",value:function(){return _AbstractEvent2.AbstractEvent.FRONTEND_EVENT_LEVEL}},{key:"toJSON",value:function(){return this._data}},{key:"getValidationSchema",value:function(){return _joi2.default.object().keys({eventLevel:_joi2.default.string().required().allow([_AbstractEvent2.AbstractEvent.FRONTEND_EVENT_LEVEL]),engine:_joi2.default.string().required().allow(FrontendEvent.ENGINES),time:_joi2.default.number().integer().required(),context:_joi2.default.string().required().allow([_AbstractEvent2.AbstractEvent.FRONTEND_CONTEXT]),environment:_joi2.default.object().unknown().optional().default({}),identityId:_joi2.default.string().required(),memoryUsage:_joi2.default.object().unknown().optional().default({}),metadata:_joi2.default.object().unknown().optional().default({}),location:_joi2.default.string().optional()})}},{key:"_enrichWithContextData",value:function(event){return event=_get(FrontendEvent.prototype.__proto__||Object.getPrototypeOf(FrontendEvent.prototype),"_enrichWithContextData",this).call(this,event),event.location="undefined"!=typeof window?`${window.location.pathname}${window.location.hash}`:null,event}}],[{key:"ENGINES",get:function(){return["angular","vanilla"]}}]),FrontendEvent}(_AbstractEvent2.AbstractEvent)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RavenBrowserDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(49),_Log=__webpack_require__(66),_raven=__webpack_require__(217),_raven2=_interopRequireDefault(_raven),_url=__webpack_require__(117),_url2=_interopRequireDefault(_url),_util=__webpack_require__(20),_util2=_interopRequireDefault(_util);exports.RavenBrowserDriver=function(_AbstractDriver){function RavenBrowserDriver(dsn){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,RavenBrowserDriver);var _this=_possibleConstructorReturn(this,(RavenBrowserDriver.__proto__||Object.getPrototypeOf(RavenBrowserDriver)).call(this));return options=_util2.default._extend(options,{maxMessageLength:256}),_raven2.default.config(RavenBrowserDriver._prepareDsn(dsn),options).install(),_this}return _inherits(RavenBrowserDriver,_AbstractDriver),_createClass(RavenBrowserDriver,[{key:"log",value:function(msg,level,context){let nativeLevel=RavenBrowserDriver._mapLevel(level);_raven2.default.captureMessage(msg,{level:nativeLevel,extra:context,tags:{originalLevel:level}})}}],[{key:"_prepareDsn",value:function(dsn){let parsedDsn=_url2.default.parse(dsn);return parsedDsn.auth=parsedDsn.auth.split(":")[0],_url2.default.format(parsedDsn)}},{key:"_mapLevel",value:function(level){let nativeLevel="info";switch(level){case _Log.Log.EMERGENCY:case _Log.Log.CRITICAL:nativeLevel="fatal";break;case _Log.Log.ALERT:case _Log.Log.WARNING:case _Log.Log.NOTICE:nativeLevel="warning";break;case _Log.Log.ERROR:nativeLevel="error";break;case _Log.Log.INFO:nativeLevel="info";break;case _Log.Log.DEBUG:nativeLevel="debug"}return nativeLevel}}]),RavenBrowserDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RavenDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractDriver2=__webpack_require__(49),_Log=__webpack_require__(66),_raven=__webpack_require__(217),_raven2=_interopRequireDefault(_raven),_util=__webpack_require__(20),_util2=_interopRequireDefault(_util);exports.RavenDriver=function(_AbstractDriver){function RavenDriver(dsn){let options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,RavenDriver);var _this=_possibleConstructorReturn(this,(RavenDriver.__proto__||Object.getPrototypeOf(RavenDriver)).call(this));options=_util2.default._extend(options,{maxMessageLength:256}),_this._clients={};for(let levelKey in _Log.Log.LEVELS)if(_Log.Log.LEVELS.hasOwnProperty(levelKey)){let nativeLevel=RavenDriver._mapLevel(_Log.Log.LEVELS[levelKey]);options.level=nativeLevel,_this._clients[nativeLevel]=new _raven2.default.Client(dsn,options)}return _this}return _inherits(RavenDriver,_AbstractDriver),_createClass(RavenDriver,[{key:"log",value:function(msg,level,context){let nativeLevel=RavenDriver._mapLevel(level);this._clients[nativeLevel].captureMessage(msg,{extra:context,tags:{originalLevel:level}})}},{key:"clients",get:function(){return this._clients}}],[{key:"_mapLevel",value:function(level){let nativeLevel="info";switch(level){case _Log.Log.EMERGENCY:case _Log.Log.CRITICAL:nativeLevel="fatal";break;case _Log.Log.ALERT:case _Log.Log.WARNING:case _Log.Log.NOTICE:nativeLevel="warning";break;case _Log.Log.ERROR:nativeLevel="error";break;case _Log.Log.INFO:nativeLevel="info";break;case _Log.Log.DEBUG:nativeLevel="debug"}return nativeLevel}}]),RavenDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RumSqsDriver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_awsSdk=__webpack_require__(18),_awsSdk2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_awsSdk),_AbstractDriver2=__webpack_require__(49),_FailedToSendSqsMessageException=__webpack_require__(382),_FailedToSendBatchSqsMessageException=__webpack_require__(381),_FailedToReceiveSqsMessageException=__webpack_require__(380),_FailedToDeleteSqsMessagesException=__webpack_require__(379),_InvalidSqsQueueUrlException=__webpack_require__(383),_RumEventValidationException=__webpack_require__(384),_EventFactory=__webpack_require__(386);exports.RumSqsDriver=function(_AbstractDriver){function RumSqsDriver(queueUrl,kernel){let enabled=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,RumSqsDriver);var _this=_possibleConstructorReturn(this,(RumSqsDriver.__proto__||Object.getPrototypeOf(RumSqsDriver)).call(this));return _this._queueUrl=queueUrl,_this._kernel=kernel,_this._enabled=enabled,_this._messagesBatch=[],_this._runningBatches=0,_this._sqs=null,_this}return _inherits(RumSqsDriver,_AbstractDriver),_createClass(RumSqsDriver,[{key:"log",value:function(message,callback){if(!this.enabled)return void callback(null,null);let event=_EventFactory.EventFactory.create(this.kernel,message);if(!event.isValid())return void callback(new _RumEventValidationException.RumEventValidationException(event.getEventLevel(),event.validationError),null);if(this.kernel.isBackend)if(this._messagesBatch.length<RumSqsDriver.BATCH_SIZE&&this._messagesBatch.push(event),this._messagesBatch.length===RumSqsDriver.BATCH_SIZE){let batch=this._messagesBatch.slice();this._messagesBatch=[],this._sendMessageBatch(batch,callback)}else callback(null,null);else this._sendMessage(event,callback)}},{key:"flush",value:function(callback){if(!this.enabled||0===this._messagesBatch.length&&0===this._runningBatches)return void callback(null,null);this._sendMessageBatch(this._messagesBatch,(error,data)=>{this._messagesBatch=[];if(this._runningBatches>0)var intervalID=setInterval(()=>{if(0===this._runningBatches)return clearInterval(intervalID),callback(error,data)},50);else callback(error,data)})}},{key:"_sendMessage",value:function(event,callback){let params={MessageBody:JSON.stringify(event),QueueUrl:this.queueUrl};this.sqs.sendMessage(params,(error,data)=>{error&&(error=new _FailedToSendSqsMessageException.FailedToSendSqsMessageException(params.QueueUrl,params.MessageBody,error));callback(error,data)})}},{key:"_sendMessageBatch",value:function(messages,callback){if(0===messages.length)return void callback(null,null);this._runningBatches++;let entries=[];messages.forEach((event,index)=>{event=JSON.stringify(event);let id=`${_AbstractDriver2.AbstractDriver._md5(event)}-${(new Date).getTime()}-${index}`;entries.push({Id:id,MessageBody:event})});var params={QueueUrl:this.queueUrl,Entries:entries};this.sqs.sendMessageBatch(params,(error,data)=>{this._runningBatches--;error&&(error=new _FailedToSendBatchSqsMessageException.FailedToSendBatchSqsMessageException(params.QueueUrl,error));callback(error,data)})}},{key:"receiveMessages",value:function(callback){let params={QueueUrl:this.queueUrl,MaxNumberOfMessages:10,VisibilityTimeout:20,WaitTimeSeconds:0};this.sqs.receiveMessage(params,(error,data)=>{error&&(error=new _FailedToReceiveSqsMessageException.FailedToReceiveSqsMessageException(params.QueueUrl,error));callback(error,data)})}},{key:"deleteMessages",value:function(messages,callback){if(0===messages.length)return void callback(null,null);let params={QueueUrl:this.queueUrl,Entries:[]};messages.forEach(message=>{params.Entries.push({Id:message.MessageId,ReceiptHandle:message.ReceiptHandle})}),this.sqs.deleteMessageBatch(params,(error,data)=>{error&&(error=new _FailedToDeleteSqsMessagesException.FailedToDeleteSqsMessagesException(params.QueueUrl,error));callback(error,data)})}},{key:"getQueueAttributes",value:function(callback){let additionalAttributes=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],defaultAttributes=["ApproximateNumberOfMessages","ApproximateNumberOfMessagesNotVisible","ApproximateNumberOfMessagesDelayed"],attributes=defaultAttributes.concat(additionalAttributes.filter(attr=>-1===defaultAttributes.indexOf(attr))),params={QueueUrl:this.queueUrl,AttributeNames:attributes};this.sqs.getQueueAttributes(params,callback)}},{key:"queueUrl",get:function(){return this._queueUrl}},{key:"kernel",get:function(){return this._kernel}},{key:"enabled",get:function(){return this._enabled}},{key:"sqs",get:function(){return this._sqs||(this._sqs=new _awsSdk2.default.SQS({region:RumSqsDriver.getRegionFromSqsQueueUrl(this.queueUrl)})),this._sqs}}],[{key:"getRegionFromSqsQueueUrl",value:function(queueUrl){let regionParts=queueUrl.match(/\.([^\.]+)\.amazonaws\.com\/.*/i);if(!regionParts||0===regionParts.length)throw new _InvalidSqsQueueUrlException.InvalidSqsQueueUrlException(queueUrl,"Unable to extract AWS region.");return regionParts[1]}},{key:"BATCH_SIZE",get:function(){return 10}},{key:"ES_LOGS_INDEX",get:function(){return"rum"}},{key:"ES_LOGS_TYPE",get:function(){return"logs"}}]),RumSqsDriver}(_AbstractDriver2.AbstractDriver)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Exception=void 0;var _deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);exports.Exception=function(_Core$Exception$Excep){function Exception(){var _ref;_classCallCheck(this,Exception);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=Exception.__proto__||Object.getPrototypeOf(Exception)).call.apply(_ref,[this].concat(args)))}return _inherits(Exception,_Core$Exception$Excep),Exception}(_deepCore2.default.Exception.Exception)},function(module,exports,__webpack_require__){"use strict";var _Log=__webpack_require__(66);module.exports=_Log.Log},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingResourceException=void 0;var _Exception2=__webpack_require__(8);exports.MissingResourceException=function(_Exception){function MissingResourceException(microserviceIdentifier,resourceIdentifier){return _classCallCheck(this,MissingResourceException),_possibleConstructorReturn(this,(MissingResourceException.__proto__||Object.getPrototypeOf(MissingResourceException)).call(this,`Missing resource ${resourceIdentifier} in ${microserviceIdentifier}`))}return _inherits(MissingResourceException,_Exception),MissingResourceException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Resource=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepKernel=__webpack_require__(21),_deepKernel2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepKernel),_Instance=__webpack_require__(409),_MissingResourceException=__webpack_require__(394);exports.Resource=function(_Kernel$ContainerAwar){function Resource(){let resources=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Resource);var _this=_possibleConstructorReturn(this,(Resource.__proto__||Object.getPrototypeOf(Resource)).call(this));return _this._resources=resources,_this._actionsConfig={},_this._baseUrl=null,_this}return _inherits(Resource,_Kernel$ContainerAwar),_createClass(Resource,[{key:"baseUrl",value:function(url){return this._baseUrl=url,this}},{key:"getActionConfig",value:function(sourceId){return this._actionsConfig.hasOwnProperty(sourceId)?this._actionsConfig[sourceId]:null}},{key:"has",value:function(identifier){return this._resources[this.microservice.identifier].hasOwnProperty(identifier)}},{key:"get",value:function(identifier){let parsedIdentifier=this._parseResourceIdentifier(this._resolveIdentifier(identifier)),resourceIdentifier=parsedIdentifier.resource,actionIdentifier=parsedIdentifier.action,microserviceIdentifier=this.microservice.identifier;if(!this.has(resourceIdentifier))throw new _MissingResourceException.MissingResourceException(microserviceIdentifier,resourceIdentifier);let resource=this._resources[microserviceIdentifier][resourceIdentifier];return resource.cache=this.container.get("cache"),resource.security=this.container.get("security"),resource.validation=this.container.get("validation"),resource.log=this.container.get("log"),resource.contextProvider=this.kernel.contextProvider,resource.baseUrl=this._baseUrl,actionIdentifier?resource.action(actionIdentifier):resource}},{key:"_parseResourceIdentifier",value:function(identifier){let parts=identifier.split(":").map(part=>part.trim());return{resource:parts.shift(),action:parts.length>0?parts.join(":"):null}}},{key:"boot",value:function(kernel,callback){let resourcesVector=[];for(let microserviceKey in kernel.microservices)if(kernel.microservices.hasOwnProperty(microserviceKey)){let microservice=kernel.microservices[microserviceKey];this._resources[microservice.identifier]={};for(let resourceName in microservice.rawResources)if(microservice.rawResources.hasOwnProperty(resourceName)){let resource=new _Instance.Instance(resourceName,microservice);resource.localBackend=this.localBackend,resource.isBackend=kernel.isBackend,this._resources[microservice.identifier][resourceName]=resource,resourcesVector.push(resource);let actionsConfig=resource.actionsConfig;for(let actionSourceId in actionsConfig)actionsConfig.hasOwnProperty(actionSourceId)&&(this._actionsConfig[actionSourceId]=actionsConfig[actionSourceId])}}callback()}},{key:"actionsConfig",get:function(){return this._actionsConfig}},{key:"list",get:function(){let map={};for(let microservice in this._resources)this._resources.hasOwnProperty(microservice)&&(map[microservice]=Object.keys(this._resources[microservice]));return map}}]),Resource}(_deepKernel2.default.ContainerAware)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncCallNotAvailableException=void 0;var _Exception2=__webpack_require__(8);exports.AsyncCallNotAvailableException=function(_Exception){function AsyncCallNotAvailableException(type){return _classCallCheck(this,AsyncCallNotAvailableException),_possibleConstructorReturn(this,(AsyncCallNotAvailableException.__proto__||Object.getPrototypeOf(AsyncCallNotAvailableException)).call(this,`Async calls are available for lambdas only (${type} type provided)`))}return _inherits(AsyncCallNotAvailableException,_Exception),AsyncCallNotAvailableException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CachedRequestException=void 0;var _Exception2=__webpack_require__(8);exports.CachedRequestException=function(_Exception){function CachedRequestException(exception){return _classCallCheck(this,CachedRequestException),_possibleConstructorReturn(this,(CachedRequestException.__proto__||Object.getPrototypeOf(CachedRequestException)).call(this,`Error while working with cached response: ${exception}`))}return _inherits(CachedRequestException,_Exception),CachedRequestException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LambdaParamsCompatibilityException=void 0;var _Exception2=__webpack_require__(8);exports.LambdaParamsCompatibilityException=function(_Exception){function LambdaParamsCompatibilityException(params){let message=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return _classCallCheck(this,LambdaParamsCompatibilityException),_possibleConstructorReturn(this,(LambdaParamsCompatibilityException.__proto__||Object.getPrototypeOf(LambdaParamsCompatibilityException)).call(this,`Lambda parameters "${JSON.stringify(params)}" are incompatible. ${message}`))}return _inherits(LambdaParamsCompatibilityException,_Exception),LambdaParamsCompatibilityException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadCredentialsException=void 0;var _Exception2=__webpack_require__(8);exports.LoadCredentialsException=function(_Exception){function LoadCredentialsException(exception){return _classCallCheck(this,LoadCredentialsException),_possibleConstructorReturn(this,(LoadCredentialsException.__proto__||Object.getPrototypeOf(LoadCredentialsException)).call(this,`Error on loading security credentials in deep-resource -> request. ${exception}`))}return _inherits(LoadCredentialsException,_Exception),LoadCredentialsException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingActionException=void 0;var _Exception2=__webpack_require__(8);exports.MissingActionException=function(_Exception){function MissingActionException(resourceName,actionName){return _classCallCheck(this,MissingActionException),_possibleConstructorReturn(this,(MissingActionException.__proto__||Object.getPrototypeOf(MissingActionException)).call(this,`Missing action ${actionName} in ${resourceName} resource.`))}return _inherits(MissingActionException,_Exception),MissingActionException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingCacheImplementationException=void 0;var _Exception2=__webpack_require__(8);exports.MissingCacheImplementationException=function(_Exception){function MissingCacheImplementationException(){return _classCallCheck(this,MissingCacheImplementationException),_possibleConstructorReturn(this,(MissingCacheImplementationException.__proto__||Object.getPrototypeOf(MissingCacheImplementationException)).call(this,"Missing cache implementation in Request object"))}return _inherits(MissingCacheImplementationException,_Exception),MissingCacheImplementationException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingLambdaLocalPathException=void 0;var _Exception2=__webpack_require__(8);exports.MissingLambdaLocalPathException=function(_Exception){function MissingLambdaLocalPathException(lambdaArn){return _classCallCheck(this,MissingLambdaLocalPathException),_possibleConstructorReturn(this,(MissingLambdaLocalPathException.__proto__||Object.getPrototypeOf(MissingLambdaLocalPathException)).call(this,`Missing local path for Lambda ${lambdaArn}`))}return _inherits(MissingLambdaLocalPathException,_Exception),MissingLambdaLocalPathException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingLocalLambdaExecWrapperException=void 0;var _Exception2=__webpack_require__(8);exports.MissingLocalLambdaExecWrapperException=function(_Exception){function MissingLocalLambdaExecWrapperException(execWrapperKey){return _classCallCheck(this,MissingLocalLambdaExecWrapperException),_possibleConstructorReturn(this,(MissingLocalLambdaExecWrapperException.__proto__||Object.getPrototypeOf(MissingLocalLambdaExecWrapperException)).call(this,`Missing local lambda execution wrapper in global.${execWrapperKey}`))}return _inherits(MissingLocalLambdaExecWrapperException,_Exception),MissingLocalLambdaExecWrapperException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingSecurityServiceException=void 0;var _Exception2=__webpack_require__(8);exports.MissingSecurityServiceException=function(_Exception){function MissingSecurityServiceException(){return _classCallCheck(this,MissingSecurityServiceException),_possibleConstructorReturn(this,(MissingSecurityServiceException.__proto__||Object.getPrototypeOf(MissingSecurityServiceException)).call(this,"Missing security service in Request instance."))}return _inherits(MissingSecurityServiceException,_Exception),MissingSecurityServiceException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotAuthenticatedException=void 0;var _Exception2=__webpack_require__(8);exports.NotAuthenticatedException=function(_Exception){function NotAuthenticatedException(){return _classCallCheck(this,NotAuthenticatedException),_possibleConstructorReturn(this,(NotAuthenticatedException.__proto__||Object.getPrototypeOf(NotAuthenticatedException)).call(this,"Missing authentication token! You may want to authenticate the user first(ex. security.anonymousLogin())."))}return _inherits(NotAuthenticatedException,_Exception),NotAuthenticatedException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SourceNotAvailableException=void 0;var _Exception2=__webpack_require__(8);exports.SourceNotAvailableException=function(_Exception){function SourceNotAvailableException(type,action){return _classCallCheck(this,SourceNotAvailableException),_possibleConstructorReturn(this,(SourceNotAvailableException.__proto__||Object.getPrototypeOf(SourceNotAvailableException)).call(this,`The ${type} source is not available for the resource '${action.fullName}'`))}return _inherits(SourceNotAvailableException,_Exception),SourceNotAvailableException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnknownMethodException=void 0;var _Exception2=__webpack_require__(8);exports.UnknownMethodException=function(_Exception){function UnknownMethodException(requestedMethod,availableMethods){_classCallCheck(this,UnknownMethodException);let availableList=availableMethods.join(", ");return _possibleConstructorReturn(this,(UnknownMethodException.__proto__||Object.getPrototypeOf(UnknownMethodException)).call(this,`Requested method ${requestedMethod} must be one of ${availableList}`))}return _inherits(UnknownMethodException,_Exception),UnknownMethodException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValidationError=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Exception2=__webpack_require__(8);exports.ValidationError=function(_Exception){function ValidationError(annotation,validationErrors){_classCallCheck(this,ValidationError);var _this=_possibleConstructorReturn(this,(ValidationError.__proto__||Object.getPrototypeOf(ValidationError)).call(this,`Payload validation failed: ${annotation}`));return _this._validationErrors=validationErrors,_this}return _inherits(ValidationError,_Exception),_createClass(ValidationError,[{key:"validationErrors",get:function(){return this._validationErrors}}]),ValidationError}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Instance=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_MissingActionException=__webpack_require__(400),_Action=__webpack_require__(93);exports.Instance=function(){function Instance(name,microservice){_classCallCheck(this,Instance),this._name=name,this._microservice=microservice,this._rawActions=microservice.rawResources[name],this._actions=null,this._localBackend=!1,this._isBackend=!1,this._cache=null,this._security=null,this._validation=null,this._contextProvider=null,this._log=null,this._baseUrl=null,this._fillActions()}return _createClass(Instance,[{key:"_fillActions",value:function(){this._actions={};for(let actionName in this._rawActions)if(this._rawActions.hasOwnProperty(actionName)){let actionMetadata=this._rawActions[actionName],actionInstance=new _Action.Action(this,actionName,actionMetadata.type,actionMetadata.methods,actionMetadata.source,actionMetadata.region,actionMetadata.forceUserIdentity,actionMetadata.apiCache,actionMetadata.scope,actionMetadata.api);actionMetadata.validationSchema&&(actionInstance.validationSchemaName=actionMetadata.validationSchema),actionInstance.baseUrl=this._baseUrl,this._actions[actionName]=actionInstance}}},{key:"has",value:function(actionName){return this.actions.hasOwnProperty(actionName)}},{key:"action",value:function(actionName){if(!this.has(actionName))throw new _MissingActionException.MissingActionException(this.name,actionName);var action=this.actions[actionName];return action.baseUrl=this._baseUrl,action}},{key:"request",value:function(actionName){for(var _action,_len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return(_action=this.action(actionName)).request.apply(_action,args)}},{key:"baseUrl",set:function(url){this._baseUrl=url}},{key:"actionsConfig",get:function(){let config={};for(let actionName in this.actions)if(this.actions.hasOwnProperty(actionName)){let action=this.actions[actionName];config[action.sourceId]={resource:this._name,name:action.name,type:action.type,methods:action.methods,source:action.source,region:action.region,forceUserIdentity:action.forceUserIdentity,validationSchema:action.validationSchemaName}}return config}},{key:"microservice",get:function(){return this._microservice}},{key:"validation",get:function(){return this._validation},set:function(validation){this._validation=validation}},{key:"security",get:function(){return this._security},set:function(security){this._security=security}},{key:"name",get:function(){return this._name}},{key:"cache",get:function(){return this._cache},set:function(cache){this._cache=cache}},{key:"log",get:function(){return this._log},set:function(log){this._log=log}},{key:"localBackend",get:function(){return this._localBackend},set:function(state){this._localBackend=state}},{key:"isBackend",get:function(){return this._isBackend},set:function(state){this._isBackend=state}},{key:"actions",get:function(){return this._actions}},{key:"contextProvider",set:function(contextProvider){this._contextProvider=contextProvider},get:function(){return this._contextProvider}}]),Instance}()},function(module,exports,__webpack_require__){"use strict";(function(global){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalRequest=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_SuperagentResponse=__webpack_require__(175),_LambdaResponse=__webpack_require__(94),_Request2=__webpack_require__(174),_Action=__webpack_require__(93),_superagent=__webpack_require__(224),_superagent2=_interopRequireDefault(_superagent),_MissingLocalLambdaExecWrapperException=__webpack_require__(403),_MissingLambdaLocalPathException=__webpack_require__(402),_urlParse=__webpack_require__(124),_urlParse2=_interopRequireDefault(_urlParse);exports.LocalRequest=function(_Request){function LocalRequest(){var _ref;_classCallCheck(this,LocalRequest);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=LocalRequest.__proto__||Object.getPrototypeOf(LocalRequest)).call.apply(_ref,[this].concat(args)))}return _inherits(LocalRequest,_Request),_createClass(LocalRequest,[{key:"_buildEndpointUrl",value:function(){let endpoint=this._async?LocalRequest.LOCAL_LAMBDA_ASYNC_ENDPOINT:LocalRequest.LOCAL_LAMBDA_ENDPOINT;if(this.baseUrl){let urlParts=(0,_urlParse2.default)(this.baseUrl),protocol=urlParts.protocol||"http:",baseUrl=`${protocol}//${urlParts.host}`;endpoint=baseUrl+endpoint}return endpoint}},{key:"_send",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},actionType=this._action.type,securityService=this._action.resource.security;if(actionType!==_Action.Action.LAMBDA){var _constructor$useNativ;return(_constructor$useNativ=this.constructor.useNative())._send.apply(_constructor$useNativ,arguments)}{let data={lambda:this._action.source.original,payload:this.payload,method:this._method,context:{identity:{cognitoIdentityPoolId:securityService.token?securityService.token.identityPoolId:null,cognitoIdentityId:securityService.token?securityService.token.identityId:null,isAnonymous:!securityService.token||securityService.token.isAnonymous}}};if("undefined"==typeof window){if(!global.hasOwnProperty(LocalRequest.LAMBDA_EXEC_WRAPPER_KEY))throw new _MissingLocalLambdaExecWrapperException.MissingLocalLambdaExecWrapperException(LocalRequest.LAMBDA_EXEC_WRAPPER_KEY);let localPath=this._action.source._localPath;if(!localPath)throw new _MissingLambdaLocalPathException.MissingLambdaLocalPathException(data.lambda);let execWrapper=global[LocalRequest.LAMBDA_EXEC_WRAPPER_KEY];execWrapper[this._async?"invokeAsync":"invoke"](localPath,data,(error,result)=>{let resultData={};this._async?resultData.Status=202:resultData.Payload=result;callback(new _LambdaResponse.LambdaResponse(this,error?null:resultData,error))})}else _superagent2.default.post(this._buildEndpointUrl()).send(data).end((error,response)=>{callback(new _SuperagentResponse.SuperagentResponse(this,response,error))})}return this}}],[{key:"LOCAL_LAMBDA_ENDPOINT",get:function(){return"/_/lambda"}},{key:"LOCAL_LAMBDA_ASYNC_ENDPOINT",get:function(){return"/_/lambda-async"}},{key:"LAMBDA_EXEC_WRAPPER_KEY",get:function(){return"_deep_lambda_exec_"}}]),LocalRequest}(_Request2.Request)}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RetryManager=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_StrategyFactory=__webpack_require__(98);exports.RetryManager=function(){function RetryManager(strategies){_classCallCheck(this,RetryManager),this._strategies=strategies.map(_StrategyFactory.StrategyFactory.create),this._count=0}return _createClass(RetryManager,[{key:"addStrategy",value:function(strategy){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return this._strategies.push(_StrategyFactory.StrategyFactory.create.apply(_StrategyFactory.StrategyFactory,[strategy].concat(args))),this}},{key:"isRetryable",value:function(response){return this._strategies.reduce((decideBool,strategy)=>decideBool||strategy.decide(response),!1)&&--this._count>0}},{key:"count",set:function(count){this._count=count},get:function(){return this._count}}]),RetryManager}()},function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./AbstractStrategy":67,"./AbstractStrategy.js":67,"./CustomStrategy":96,"./CustomStrategy.js":96,"./InternalErrorStrategy":97,"./InternalErrorStrategy.js":97,"./StrategyFactory":98,"./StrategyFactory.js":98};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=412},function(module,exports,__webpack_require__){"use strict";var _Resource=__webpack_require__(395);module.exports=_Resource.Resource},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BackendUserProvider=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_AbstractUserProvider2=__webpack_require__(176);exports.BackendUserProvider=function(_AbstractUserProvider){function BackendUserProvider(userModelName,deepDb){_classCallCheck(this,BackendUserProvider);var _this=_possibleConstructorReturn(this,(BackendUserProvider.__proto__||Object.getPrototypeOf(BackendUserProvider)).call(this));return _this.userModelName=userModelName,_this.deepDb=deepDb,_this}return _inherits(BackendUserProvider,_AbstractUserProvider),_createClass(BackendUserProvider,[{key:"loadUserByIdentityId",value:function(id,callback){let userModel=null;if(this.deepDb.has(this.userModelName)&&(userModel=this.deepDb.get(this.userModelName)),!userModel)return void callback(null,null);userModel.findOneById(id,(error,item)=>{callback(error,item&&item.get())})}}]),BackendUserProvider}(_AbstractUserProvider2.AbstractUserProvider)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CredentialsManager=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_TokenManager=__webpack_require__(179),_awsSdk=__webpack_require__(18),_awsSdk2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_awsSdk),_IdentityProviderTokenExpiredException=__webpack_require__(99),_AuthException=__webpack_require__(416);exports.CredentialsManager=function(){function CredentialsManager(token){_classCallCheck(this,CredentialsManager),this._token=token,this._systemCredentials=null,this._rolesCredentials={}}return _createClass(CredentialsManager,[{key:"validCredentials",value:function(credentials){return credentials&&this.getCredentialsExpireDateTime(credentials)>new Date}},{key:"getCredentialsExpireDateTime",value:function(credentials){let dateTime=null;return credentials&&credentials.hasOwnProperty("expireTime")&&(dateTime=credentials.expireTime instanceof Date?credentials.expireTime:new Date(credentials.expireTime)),dateTime}},{key:"getCredentials",value:function(){let role=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,refreshOnExpired=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],credentials=role?this._rolesCredentials[this.roleSessionKey(role)]:this._systemCredentials;return credentials=credentials||this._createCognitoIdentityCredentials(role),!this.validCredentials(credentials)&&refreshOnExpired?this.refreshIdentityProviderIfNeeded().then(()=>{credentials=this._createCognitoIdentityCredentials(role);role?this._rolesCredentials[this.roleSessionKey(role)]=credentials:this.systemCredentials=credentials;return this._refreshCredentials(credentials)}):Promise.resolve(credentials)}},{key:"refreshIdentityProviderIfNeeded",value:function(){return this.identityProvider&&!this.identityProvider.isTokenValid()?this.identityProvider.refresh():Promise.resolve()}},{key:"_refreshCredentials",value:function(credentials){if(!(credentials instanceof _awsSdk2.default.CognitoIdentityCredentials||credentials instanceof _awsSdk2.default.Credentials)){let error=new _AuthException.AuthException("Invalid credentials instance. Passed credentials must be an instance of AWS.CognitoIdentityCredentials.");return Promise.reject(error)}if(this.identityProvider&&!this.identityProvider.isTokenValid()){let error=new _IdentityProviderTokenExpiredException.IdentityProviderTokenExpiredException(this.identityProvider.domain,this.identityProvider.tokenExpirationTime);return Promise.reject(error)}return new Promise((resolve,reject)=>{credentials.refresh(error=>{if(error)return reject(new _AuthException.AuthException(error));return resolve(credentials)})})}},{key:"roleSessionKey",value:function(role){let suffix=role?role.Id:"default";return`${_TokenManager.TokenManager.RECORD_NAME}-${suffix}`}},{key:"_createCognitoIdentityCredentials",value:function(){let role=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,cognitoParams={IdentityPoolId:this.identityPoolId};this.identityProvider&&(cognitoParams.Logins={},cognitoParams.Logins[this.identityProvider.domain]=this.identityProvider.userToken,cognitoParams.LoginId=this.identityProvider.userId,role&&(cognitoParams.RoleArn=role.IamRole.Arn,cognitoParams.RoleSessionName=this.roleSessionKey(role)));let credentials=new _awsSdk2.default.CognitoIdentityCredentials(cognitoParams);return credentials.toJSON=function(){return{expired:this.expired,expireTime:this.expireTime,accessKeyId:this.accessKeyId,secretAccessKey:this.secretAccessKey,sessionToken:this.sessionToken}},credentials}},{key:"clearCache",value:function(){this._systemCredentials instanceof _awsSdk2.default.CognitoIdentityCredentials||(this.systemCredentials=this._createCognitoIdentityCredentials()),this._systemCredentials.clearCachedId();for(let key in this._rolesCredentials)this._rolesCredentials.hasOwnProperty(key)&&this._rolesCredentials[key]instanceof _awsSdk2.default.CognitoIdentityCredentials&&this._rolesCredentials[key].clearCachedId();return this}},{key:"overwriteAWSCredentials",value:function(credentials){return _awsSdk2.default.config.credentials=credentials,this._token&&(this._token._sts.credentials=credentials,this._token._tokenManager&&(this._token._tokenManager._cognitoSyncClient=null)),this}},{key:"token",get:function(){return this._token}},{key:"identityPoolId",get:function(){return this.token._identityPoolId}},{key:"identityProvider",get:function(){return this.token.identityProvider}},{key:"rolesCredentials",get:function(){return this._rolesCredentials},set:function(rolesCredentials){this._rolesCredentials=rolesCredentials}},{key:"systemCredentials",set:function(systemCredentials){this._systemCredentials=systemCredentials,this.token.lambdaContext||this.overwriteAWSCredentials(systemCredentials)},get:function(){return this._systemCredentials}}]),CredentialsManager}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuthException=void 0;var _Exception2=__webpack_require__(12);exports.AuthException=function(_Exception){function AuthException(error){return _classCallCheck(this,AuthException),_possibleConstructorReturn(this,(AuthException.__proto__||Object.getPrototypeOf(AuthException)).call(this,`Error on authentication. ${error}`))}return _inherits(AuthException,_Exception),AuthException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateCognitoDatasetException=void 0;var _Exception2=__webpack_require__(12);exports.CreateCognitoDatasetException=function(_Exception){function CreateCognitoDatasetException(dataset,error){return _classCallCheck(this,CreateCognitoDatasetException),_possibleConstructorReturn(this,(CreateCognitoDatasetException.__proto__||Object.getPrototypeOf(CreateCognitoDatasetException)).call(this,`Error on opening or creating "${dataset}" Cognito dataset. ${error}`))}return _inherits(CreateCognitoDatasetException,_Exception),CreateCognitoDatasetException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DescribeIdentityException=void 0;var _Exception2=__webpack_require__(12);exports.DescribeIdentityException=function(_Exception){function DescribeIdentityException(identityId,error){return _classCallCheck(this,DescribeIdentityException),_possibleConstructorReturn(this,(DescribeIdentityException.__proto__||Object.getPrototypeOf(DescribeIdentityException)).call(this,`Error on describing cognito identity ${identityId}. ${error}`))}return _inherits(DescribeIdentityException,_Exception),DescribeIdentityException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdentityProviderMismatchException=void 0;var _Exception2=__webpack_require__(12);exports.IdentityProviderMismatchException=function(_Exception){function IdentityProviderMismatchException(providerName,identityMetadataProvider){return _classCallCheck(this,IdentityProviderMismatchException),_possibleConstructorReturn(this,(IdentityProviderMismatchException.__proto__||Object.getPrototypeOf(IdentityProviderMismatchException)).call(this,`Provider "${providerName}" does not match with identityMetadataProvider "${identityMetadataProvider}".`))}return _inherits(IdentityProviderMismatchException,_Exception),IdentityProviderMismatchException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidProviderIdentityException=void 0;var _Exception2=__webpack_require__(12);exports.InvalidProviderIdentityException=function(_Exception){function InvalidProviderIdentityException(providerName){return _classCallCheck(this,InvalidProviderIdentityException),_possibleConstructorReturn(this,(InvalidProviderIdentityException.__proto__||Object.getPrototypeOf(InvalidProviderIdentityException)).call(this,`Passed "${providerName}" identity does not contain mandatory access_token or tokenExpirationTime fields.`))}return _inherits(InvalidProviderIdentityException,_Exception),InvalidProviderIdentityException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadUserException=void 0;var _Exception2=__webpack_require__(12);exports.LoadUserException=function(_Exception){function LoadUserException(identityId,error){return _classCallCheck(this,LoadUserException),_possibleConstructorReturn(this,(LoadUserException.__proto__||Object.getPrototypeOf(LoadUserException)).call(this,`Error on loading user ${identityId} from db. ${error}`))}return _inherits(LoadUserException,_Exception),LoadUserException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingIdentityImplementationException=void 0;var _Exception2=__webpack_require__(12);exports.MissingIdentityImplementationException=function(_Exception){function MissingIdentityImplementationException(providerName){return _classCallCheck(this,MissingIdentityImplementationException),_possibleConstructorReturn(this,(MissingIdentityImplementationException.__proto__||Object.getPrototypeOf(MissingIdentityImplementationException)).call(this,`Missing identity implementation for "${providerName}"`))}return _inherits(MissingIdentityImplementationException,_Exception),MissingIdentityImplementationException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingLoginProviderException=void 0;var _Exception2=__webpack_require__(12);exports.MissingLoginProviderException=function(_Exception){function MissingLoginProviderException(providerName){return _classCallCheck(this,MissingLoginProviderException),_possibleConstructorReturn(this,(MissingLoginProviderException.__proto__||Object.getPrototypeOf(MissingLoginProviderException)).call(this,`Missing login provider "${providerName}" in deep-security.`))}return _inherits(MissingLoginProviderException,_Exception),MissingLoginProviderException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MissingRefreshTokenException=void 0;var _IdentityProviderTokenExpiredException=__webpack_require__(99);exports.MissingRefreshTokenException=function(_IdentityProviderToke){function MissingRefreshTokenException(){return _classCallCheck(this,MissingRefreshTokenException),_possibleConstructorReturn(this,(MissingRefreshTokenException.__proto__||Object.getPrototypeOf(MissingRefreshTokenException)).call(this,"Missing refresh token"))}return _inherits(MissingRefreshTokenException,_IdentityProviderToke),MissingRefreshTokenException}(_IdentityProviderTokenExpiredException.IdentityProviderTokenExpiredException)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PutCognitoRecordException=void 0;var _Exception2=__webpack_require__(12);exports.PutCognitoRecordException=function(_Exception){function PutCognitoRecordException(dataset,record,error){return _classCallCheck(this,PutCognitoRecordException),_possibleConstructorReturn(this,(PutCognitoRecordException.__proto__||Object.getPrototypeOf(PutCognitoRecordException)).call(this,`Error on putting "${record}" record into "${dataset}" dataset. ${error}`))}return _inherits(PutCognitoRecordException,_Exception),PutCognitoRecordException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SynchronizeCognitoDatasetException=void 0;var _Exception2=__webpack_require__(12);exports.SynchronizeCognitoDatasetException=function(_Exception){function SynchronizeCognitoDatasetException(dataset,error){return _classCallCheck(this,SynchronizeCognitoDatasetException),_possibleConstructorReturn(this,(SynchronizeCognitoDatasetException.__proto__||Object.getPrototypeOf(SynchronizeCognitoDatasetException)).call(this,`Error on synchronizing "${dataset}" Cognito dataset. ${error}`))}return _inherits(SynchronizeCognitoDatasetException,_Exception),SynchronizeCognitoDatasetException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FrontendUserProvider=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_LoadUserException=__webpack_require__(421),_AbstractUserProvider2=__webpack_require__(176);exports.FrontendUserProvider=function(_AbstractUserProvider){function FrontendUserProvider(retrieveUserResource,deepResourceService){_classCallCheck(this,FrontendUserProvider);var _this=_possibleConstructorReturn(this,(FrontendUserProvider.__proto__||Object.getPrototypeOf(FrontendUserProvider)).call(this));return _this._retrieveUserResource=retrieveUserResource,_this._deepResource=deepResourceService,_this}return _inherits(FrontendUserProvider,_AbstractUserProvider),_createClass(FrontendUserProvider,[{key:"loadUserByIdentityId",value:function(id,callback){if(!this._retrieveUserResource)return void callback(null,null);this._deepResource.get(this._retrieveUserResource).request({Id:id}).authScope(null).retry(3).disableCache().send(response=>{if(response.error)return void callback(new _LoadUserException.LoadUserException(id,response.error),null);return callback(null,response.data)})}}]),FrontendUserProvider}(_AbstractUserProvider2.AbstractUserProvider)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractImplementation=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore);exports.AbstractImplementation=function(_Core$OOP$Interface){function AbstractImplementation(identityProvider){_classCallCheck(this,AbstractImplementation);var _this=_possibleConstructorReturn(this,(AbstractImplementation.__proto__||Object.getPrototypeOf(AbstractImplementation)).call(this,["refreshIdentity"]));return _this._identityProvider=identityProvider,_this}return _inherits(AbstractImplementation,_Core$OOP$Interface),_createClass(AbstractImplementation,[{key:"refreshToken",get:function(){return this._identityProvider.refreshToken}},{key:"clientName",get:function(){return this._identityProvider.clientName}},{key:"identityProvider",get:function(){return this._identityProvider}}]),AbstractImplementation}(_deepCore2.default.OOP.Interface)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserPoolImplementation=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_awsSdk=__webpack_require__(18),_awsSdk2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_awsSdk),_AbstractImplementation=__webpack_require__(428);exports.UserPoolImplementation=function(_AbstractImplementati){function UserPoolImplementation(){var _ref;_classCallCheck(this,UserPoolImplementation);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=UserPoolImplementation.__proto__||Object.getPrototypeOf(UserPoolImplementation)).call.apply(_ref,[this].concat(args)))}return _inherits(UserPoolImplementation,_AbstractImplementati),_createClass(UserPoolImplementation,[{key:"refreshIdentity",value:function(){let payload={AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:{REFRESH_TOKEN:this.refreshToken,ClientId:this.clientName}};return this.cognitoIdentityServiceProvider.makeUnauthenticatedRequest("initiateAuth",payload).promise().then(response=>{let authResult=response.AuthenticationResult;this.identityProvider.tokenExpirationTime=Date.now()+1e3*authResult.ExpiresIn;this.identityProvider.userToken=authResult.IdToken})}},{key:"cognitoIdentityServiceProvider",get:function(){if(_awsSdk2.default.hasOwnProperty("CognitoIdentityServiceProvider"))return new _awsSdk2.default.CognitoIdentityServiceProvider;throw new Error(`Missing CognitoIdentityServiceProvider in aws-sdk@${_awsSdk2.default.VERSION}`)}}]),UserPoolImplementation}(_AbstractImplementation.AbstractImplementation)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIdentityProvider=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_IdentityProvider2=__webpack_require__(100);exports.LocalIdentityProvider=function(_IdentityProvider){function LocalIdentityProvider(){var _ref;_classCallCheck(this,LocalIdentityProvider);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=LocalIdentityProvider.__proto__||Object.getPrototypeOf(LocalIdentityProvider)).call.apply(_ref,[this].concat(args)))}return _inherits(LocalIdentityProvider,_IdentityProvider),_createClass(LocalIdentityProvider,[{key:"getProviderDomain",value:function(providerName,providers){return _get(LocalIdentityProvider.prototype.__proto__||Object.getPrototypeOf(LocalIdentityProvider.prototype),"getProviderDomain",this).call(this,providerName,providers)||providerName}}]),LocalIdentityProvider}(_IdentityProvider2.IdentityProvider)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalToken=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Token2=__webpack_require__(178);exports.LocalToken=function(_Token){function LocalToken(){var _ref;_classCallCheck(this,LocalToken);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _possibleConstructorReturn(this,(_ref=LocalToken.__proto__||Object.getPrototypeOf(LocalToken)).call.apply(_ref,[this].concat(args)))}return _inherits(LocalToken,_Token),_createClass(LocalToken,[{key:"loadCredentials",value:function(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};this._credentialsManager.systemCredentials={expireTime:Date.now()+864e5,identityId:this.identityProvider&&this.identityProvider.userId?this.identityProvider.userId:"us-east-1:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"},callback(null,this._credentials)}},{key:"getUser",value:function(callback){let argsHandler=(error,user)=>{if(1===callback.length){if(error)throw error;return callback(user)}callback(error,user)};this._loadUser(argsHandler)}},{key:"destroy",value:function(){this._credentials=null,this._credsManager=null}},{key:"isAnonymous",get:function(){return this.lambdaContext?this.lambdaContext.identity.isAnonymous:!this.identityProvider}}]),LocalToken}(_Token2.Token)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.RoleProvider=function(){function RoleProvider(deepResourceService){let retrieveRoleResource=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,RoleProvider),this._retrieveRoleResource=retrieveRoleResource,this._deepResource=deepResourceService,this._getRolesPromise=null}return _createClass(RoleProvider,[{key:"getRoles",value:function(){return this._retrieveRoleResource?(this._getRolesPromise||(this._getRolesPromise=new Promise((resolve,reject)=>{let retrieveRolesRequest=this._deepResource.get(this._retrieveRoleResource);retrieveRolesRequest.request({}).authScope(null).disableCache().send(response=>{if(response.error)return reject(response.error);resolve(response.data)})})),this._getRolesPromise):Promise.resolve([])}},{key:"invalidateCache",value:function(){return this._getRolesPromise=null,this}}]),RoleProvider}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoleResolver=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_RoleVoter=__webpack_require__(435);exports.RoleResolver=function(){function RoleResolver(roleProvider){_classCallCheck(this,RoleResolver),this._roleProvider=roleProvider}return _createClass(RoleResolver,[{key:"resolve",value:function(context){return this.getContextVoters().then(voters=>{for(let voter of voters)if(voter.vote(context))return voter.role;return null})}},{key:"getContextVoters",value:function(){return this._roleProvider.getRoles().then(roles=>roles.map(r=>new _RoleVoter.RoleVoter(r)))}}]),RoleResolver}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseVoter=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepCore=__webpack_require__(3),_deepCore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_deepCore),_VoterInterface2=__webpack_require__(180);exports.BaseVoter=function(_VoterInterface){function BaseVoter(validateExpression){_classCallCheck(this,BaseVoter);var _this=_possibleConstructorReturn(this,(BaseVoter.__proto__||Object.getPrototypeOf(BaseVoter)).call(this));return _this._validateExpression=validateExpression,_this}return _inherits(BaseVoter,_VoterInterface),_createClass(BaseVoter,[{key:"vote",value:function(context){if("string"==typeof this._validateExpression)return this._validateExpression===context;if(this._validateExpression instanceof RegExp)return this._validateExpression.test(context);if(this._validateExpression instanceof Function)return this._validateExpression(context);if(this._validateExpression instanceof _VoterInterface2.VoterInterface)return this._validateExpression.vote(context);throw new _deepCore2.default.Exception.InvalidArgumentException(this._validateExpression,"String, Number, Function, BaseVoter")}}],[{key:"createFromAction",value:function(actionIdentifier){let actionsParts=actionIdentifier.split(":"),escapePart=part=>part&&"*"!==part?part.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"):"[a-zA-Z\\d+\\-_\\.]+",microservice=escapePart(actionsParts[0]),resource=escapePart(actionsParts[1]),action=escapePart(actionsParts[2]);return new BaseVoter(new RegExp(`^\\s*${microservice}:${resource}:${action}\\s*$`))}}]),BaseVoter}(_VoterInterface2.VoterInterface)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoleVoter=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_VoterInterface2=__webpack_require__(180),_BaseVoter=__webpack_require__(434);exports.RoleVoter=function(_VoterInterface){function RoleVoter(role){_classCallCheck(this,RoleVoter);var _this=_possibleConstructorReturn(this,(RoleVoter.__proto__||Object.getPrototypeOf(RoleVoter)).call(this));return _this._role=role,_this}return _inherits(RoleVoter,_VoterInterface),_createClass(RoleVoter,[{key:"vote",value:function(context){for(let voter of this._negativeVoters)if(voter.vote(context))return!1;for(let voter of this._positiveVoters)if(voter.vote(context))return!0;return!1}},{key:"_positiveVoters",get:function(){return this._role.Policy.Statement.filter(s=>s.Effect===_VoterInterface2.VoterInterface.ALLOW).reduce((voters,statement)=>voters.concat(statement.Action.map(_BaseVoter.BaseVoter.createFromAction)),[])}},{key:"_negativeVoters",get:function(){return this._role.Policy.Statement.filter(s=>s.Effect===_VoterInterface2.VoterInterface.DENY).reduce((voters,statement)=>voters.concat(statement.Action.map(_BaseVoter.BaseVoter.createFromAction)),[])}},{key:"role",get:function(){return this._role}}]),RoleVoter}(_VoterInterface2.VoterInterface)},function(module,exports,__webpack_require__){"use strict";var _Security=__webpack_require__(177);module.exports=_Security.Security},function(module,exports){function webpackEmptyContext(req){throw new Error("Cannot find module '"+req+"'.")}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=437},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidJoiSchemaException=void 0;var _Exception2=__webpack_require__(68);exports.InvalidJoiSchemaException=function(_Exception){function InvalidJoiSchemaException(schemaName){return _classCallCheck(this,InvalidJoiSchemaException),_possibleConstructorReturn(this,(InvalidJoiSchemaException.__proto__||Object.getPrototypeOf(InvalidJoiSchemaException)).call(this,`Invalid validation schema ${schemaName}. Object must be a Joi instance!`))}return _inherits(InvalidJoiSchemaException,_Exception),InvalidJoiSchemaException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidSchemaException=void 0;var _Exception2=__webpack_require__(68);exports.InvalidSchemaException=function(_Exception){function InvalidSchemaException(model,errorString){return _classCallCheck(this,InvalidSchemaException),_possibleConstructorReturn(this,(InvalidSchemaException.__proto__||Object.getPrototypeOf(InvalidSchemaException)).call(this,`deep-db model ${JSON.stringify(model)} validation schema fails: ${errorString}`))}return _inherits(InvalidSchemaException,_Exception),InvalidSchemaException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectValidationFailedException=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Exception2=__webpack_require__(68);exports.ObjectValidationFailedException=function(_Exception){function ObjectValidationFailedException(schemaName,error){_classCallCheck(this,ObjectValidationFailedException);var _this=_possibleConstructorReturn(this,(ObjectValidationFailedException.__proto__||Object.getPrototypeOf(ObjectValidationFailedException)).call(this,`Object validation failed on schema ${schemaName}: ${error}`));return _this._originalError=error,_this}return _inherits(ObjectValidationFailedException,_Exception),_createClass(ObjectValidationFailedException,[{key:"originalError",get:function(){return this._originalError}}]),ObjectValidationFailedException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValidationSchemaNotFoundException=void 0;var _Exception2=__webpack_require__(68);exports.ValidationSchemaNotFoundException=function(_Exception){function ValidationSchemaNotFoundException(schemaName){return _classCallCheck(this,ValidationSchemaNotFoundException),_possibleConstructorReturn(this,(ValidationSchemaNotFoundException.__proto__||Object.getPrototypeOf(ValidationSchemaNotFoundException)).call(this,`Missing validation schema '${schemaName}'`))}return _inherits(ValidationSchemaNotFoundException,_Exception),ValidationSchemaNotFoundException}(_Exception2.Exception)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Joi=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_joi=__webpack_require__(24),_joi2=_interopRequireDefault(_joi),_vogelsPolyfill=__webpack_require__(445),_vogelsPolyfill2=_interopRequireDefault(_vogelsPolyfill),_uriRegexp=__webpack_require__(444),_uriRegexp2=_interopRequireDefault(_uriRegexp);exports.Joi=function(){function Joi(){_classCallCheck(this,Joi)}return _createClass(Joi,null,[{key:"uuid",get:function(){return _vogelsPolyfill2.default.types.uuid()}},{key:"timeUUID",get:function(){return _vogelsPolyfill2.default.types.timeUUID()}},{key:"stringSet",get:function(){return _vogelsPolyfill2.default.types.stringSet()}},{key:"numberSet",get:function(){return _vogelsPolyfill2.default.types.numberSet()}},{key:"binarySet",get:function(){return _vogelsPolyfill2.default.types.binarySet()}},{key:"binary",get:function(){return _joi2.default.binary()}},{key:"number",get:function(){return _joi2.default.number()}},{key:"string",get:function(){return _joi2.default.string()}},{key:"boolean",get:function(){return _joi2.default.boolean()}},{key:"email",get:function(){return _joi2.default.string().email()}},{key:"website",get:function(){let strJoiObj=_joi2.default.string();return strJoiObj.hasOwnProperty("uri")?strJoiObj.uri():strJoiObj.regex(_uriRegexp2.default.createUriRegex())}},{key:"map",get:function(){return _joi2.default.object()}},{key:"mapSet",get:function(){let array=_joi2.default.array();return array.includes?array.includes(_joi2.default.object()):array.items(_joi2.default.object())}}]),Joi}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});let internals={rfc3986:{}};internals.generate=function(){const or="|";internals.rfc3986.cidr="[0-9]|[1-2][0-9]|3[0-2]";const subDelims="!\\$&'\\(\\)\\*\\+,;=",pchar="a-zA-Z0-9-\\._~%0-9A-Fa-f"+subDelims+":@",decOctect="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";internals.rfc3986.IPv4address="(?:"+decOctect+"\\.){3}"+decOctect;const h16="[0-9A-Fa-f]{1,4}",ls32="(?:"+h16+":"+h16+"|"+internals.rfc3986.IPv4address+")",IPv6SixHex="(?:"+h16+":){6}"+ls32,IPv6FiveHex="::(?:"+h16+":){5}"+ls32,IPv6FourHex=h16+"::(?:"+h16+":){4}"+ls32,IPv6ThreeHex="(?:"+h16+":){0,1}"+h16+"::(?:"+h16+":){3}"+ls32,IPv6TwoHex="(?:"+h16+":){0,2}"+h16+"::(?:"+h16+":){2}"+ls32,IPv6OneHex="(?:"+h16+":){0,3}"+h16+"::"+h16+":"+ls32,IPv6NoneHex="(?:"+h16+":){0,4}"+h16+"::"+ls32;internals.rfc3986.IPv6address="(?:"+IPv6SixHex+or+IPv6FiveHex+or+IPv6FourHex+or+IPv6ThreeHex+or+IPv6TwoHex+or+IPv6OneHex+or+IPv6NoneHex+or+"(?:"+h16+":){0,5}"+h16+"::"+h16+or+"(?:"+h16+":){0,6}"+h16+"::)",internals.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.[a-zA-Z0-9-\\._~"+subDelims+":]+",internals.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";const IPLiteral="\\[(?:"+internals.rfc3986.IPv6address+or+internals.rfc3986.IPvFuture+")\\]",host="(?:"+IPLiteral+or+internals.rfc3986.IPv4address+or+"[a-zA-Z0-9-\\._~%0-9A-Fa-f"+subDelims+"]{0,255})",authority="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f"+subDelims+":]*@)?"+host+"(?::[0-9]*)?";internals.rfc3986.hierPart="(?:\\/\\/"+authority+"(?:\\/["+pchar+"]*)*"+or+"\\/(?:["+pchar+"]+(?:\\/["+pchar+"]*)*)?"+or+"["+pchar+"]+(?:\\/["+pchar+"]*)*)",internals.rfc3986.query="["+pchar+"\\/\\?]*(?=#|$)",internals.rfc3986.fragment="["+pchar+"\\/\\?]*"},internals.generate(),exports.default=internals.rfc3986,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _rfc=__webpack_require__(443),_rfc2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_rfc);exports.default={createUriRegex:optionalScheme=>{let scheme=_rfc2.default.scheme;optionalScheme&&(scheme="(?:"+optionalScheme+")");return new RegExp(`^${scheme}:${_rfc2.default.hierPart}(?:\\?${_rfc2.default.query})?(?:#${_rfc2.default.fragment})?$`)}},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _joiVector(proto){let arr=_joi2.default.array();return arr.includes?arr.includes(proto):arr.items(proto)}Object.defineProperty(exports,"__esModule",{value:!0});var _joi=__webpack_require__(24),_joi2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_joi);let UUID_REGEXP=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;exports.default="undefined"!=typeof window?{types:{uuid:function(){return _joi2.default.string().regex(UUID_REGEXP)},timeUUID:function(){return _joi2.default.string().regex(UUID_REGEXP)},stringSet:function(){return _joiVector(_joi2.default.string())},numberSet:function(){return _joiVector(_joi2.default.number())},binarySet:function(){return _joiVector(_joi2.default.string())}}}:__webpack_require__(664),module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectToJoi=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Joi=__webpack_require__(442),_joi=__webpack_require__(24),_joi2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_joi),_InvalidSchemaException=__webpack_require__(439);exports.ObjectToJoi=function(){function ObjectToJoi(baseObject){_classCallCheck(this,ObjectToJoi),this._baseObject=baseObject}return _createClass(ObjectToJoi,[{key:"transform",value:function(){try{return ObjectToJoi._transform(this._baseObject)}catch(e){throw new _InvalidSchemaException.InvalidSchemaException(this._baseObject,e)}}},{key:"baseObject",get:function(){return this._baseObject}}],[{key:"_transform",value:function(obj){let transObj={};for(let property in obj)if(obj.hasOwnProperty(property)){let value=obj[property];if("object"==typeof value)transObj[property]=ObjectToJoi._transform(value);else{let validationSchema=_Joi.Joi[value];if(void 0===validationSchema)throw new _InvalidSchemaException.InvalidSchemaException(obj,`Unknown field type ${value}`);transObj[property]=validationSchema}}return _joi2.default.object().keys(transObj)}}]),ObjectToJoi}()},function(module,exports,__webpack_require__){"use strict";(function(process){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Validation=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_deepKernel=__webpack_require__(21),_deepKernel2=_interopRequireDefault(_deepKernel),_ObjectToJoi=__webpack_require__(446),_ValidationSchemaNotFoundException=__webpack_require__(441),_InvalidJoiSchemaException=__webpack_require__(438),_joi=__webpack_require__(24),_joi2=_interopRequireDefault(_joi),_ObjectValidationFailedException=__webpack_require__(440),_path=__webpack_require__(57),_path2=_interopRequireDefault(_path),_deepCore=__webpack_require__(3),_deepCore2=_interopRequireDefault(_deepCore);exports.Validation=function(_Kernel$ContainerAwar){function Validation(){let models=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],forcePartitionField=arguments.length>1&&void 0!==arguments[1]&&arguments[1],nonPartitionedModels=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,Validation);var _this=_possibleConstructorReturn(this,(Validation.__proto__||Object.getPrototypeOf(Validation)).call(this));return _this._forcePartitionField=forcePartitionField,_this._nonPartitionedModels=nonPartitionedModels||[],_this._schemas=_this._rawModelsToSchemas(models),_this}return _inherits(Validation,_Kernel$ContainerAwar),_createClass(Validation,[{key:"validateRuntimeInput",value:function(lambdaRuntime,schemaName,cb){if(!this.hasSchema(schemaName))return lambdaRuntime.createError(new _ValidationSchemaNotFoundException.ValidationSchemaNotFoundException(schemaName)).send(),this;let validationResult=this.validate(schemaName,lambdaRuntime.request.data,!0);return validationResult.error?(lambdaRuntime.createError(validationResult.error).send(),this):(cb(validationResult.value),this)}},{key:"validate",value:function(schemaName,valueObject){let returnRaw=arguments.length>2&&void 0!==arguments[2]&&arguments[2],validationSchema=this.getSchema(schemaName),result=_joi2.default.validate(valueObject,validationSchema,{stripUnknown:!0,convert:!0,abortEarly:!1});if(returnRaw)return result;if(result.error)throw new _ObjectValidationFailedException.ObjectValidationFailedException(schemaName,result.error);return result.value}},{key:"schemaFromValidationCb",value:function(cb){return cb(_joi2.default)}},{key:"setSchemaRaw",value:function(schemaName,schema){return this._schemas[schemaName]=Validation.normalizeSchema(schema),this}},{key:"setSchema",value:function(schemaName,schema){if(!schema.isJoi)throw new _InvalidJoiSchemaException.InvalidJoiSchemaException(schemaName);return this._schemas[schemaName]=schema,this}},{key:"setGuessSchema",value:function(schemaName,schema){return"function"==typeof schema&&(schema=this.schemaFromValidationCb(schema)),this[schema.isJoi?"setSchema":"setSchemaRaw"](schemaName,schema)}},{key:"hasSchema",value:function(schemaName){return void 0!==this._schemas[schemaName]}},{key:"getSchema",value:function(schemaName){if(!this.hasSchema(schemaName))throw new _ValidationSchemaNotFoundException.ValidationSchemaNotFoundException(schemaName);let schema=this._schemas[schemaName];return"string"==typeof schema?this.setGuessSchema(schemaName,!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}()).getSchema(schemaName):schema}},{key:"boot",value:function(kernel,callback){this._nonPartitionedModels=kernel.config.nonPartitionedModels||[],this._schemas=this._rawModelsToSchemas(kernel.config.models);let universalRequire=new _deepCore2.default.Generic.UniversalRequire,remainingSchemas=kernel.config.validationSchemas.length;kernel.config.validationSchemas.forEach(schemaName=>{let relativeSchemaPath=_path2.default.join(_deepCore2.default.AWS.Lambda.Runtime.VALIDATION_SCHEMAS_DIR,`${schemaName}.js`);if(kernel.isBackend)this._schemas[schemaName]=_path2.default.join(process.cwd(),relativeSchemaPath),remainingSchemas--;else{let schemaUrl=_path2.default.join(_path2.default.sep,relativeSchemaPath);universalRequire.require(schemaUrl,(error,schemaObj)=>{error?console.error(`Error while loading schema ${schemaName}: ${error}`):this.setGuessSchema(schemaName,schemaObj);remainingSchemas--})}});let checkRemainingSchemas=onFail=>{remainingSchemas<=0?callback():setTimeout(()=>{onFail(onFail)},50)};checkRemainingSchemas(checkRemainingSchemas)}},{key:"_rawModelsToSchemas",value:function(rawModels){let modelsSchema={};for(let modelKey in rawModels)if(rawModels.hasOwnProperty(modelKey)){let backendModels=rawModels[modelKey];for(let schemaName in backendModels)if(backendModels.hasOwnProperty(schemaName)){let schema=backendModels[schemaName];schema.Id=schema.Id||"timeUUID",modelsSchema[schemaName]=Validation.normalizeSchema(schema),!schema.AccountId&&this._usePartitionField&&this.isPartitionedModel(schemaName)&&(modelsSchema[schemaName]=modelsSchema[schemaName].keys({AccountId:_joi2.default.string().default("anonymous")}))}}return modelsSchema}},{key:"isPartitionedModel",value:function(modelName){return-1===this._nonPartitionedModels.indexOf(modelName)}},{key:"schemas",get:function(){return this._schemas}},{key:"schemasNames",get:function(){return Object.keys(this._schemas)}},{key:"_usePartitionField",get:function(){return this._forcePartitionField||this.kernel&&this.kernel.accountMicroservice}}],[{key:"normalizeSchema",value:function(rawSchema){return new _ObjectToJoi.ObjectToJoi(rawSchema).transform()}}]),Validation}(_deepKernel2.default.ContainerAware)}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){"use strict";var _Validation=__webpack_require__(447);module.exports=_Validation.Validation},function(module,exports,__webpack_require__){"use strict";function CBCState(iv){assert.equal(iv.length,8,"Invalid IV length"),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=iv[i]}function instantiate(Base){function CBC(options){Base.call(this,options),this._cbcInit()}inherits(CBC,Base);for(var keys=Object.keys(proto),i=0;i<keys.length;i++){var key=keys[i];CBC.prototype[key]=proto[key]}return CBC.create=function(options){return new CBC(options)},CBC}var assert=__webpack_require__(26),inherits=__webpack_require__(2),proto={};exports.instantiate=instantiate,proto._cbcInit=function(){var state=new CBCState(this.options.iv);this._cbcState=state},proto._update=function(inp,inOff,out,outOff){var state=this._cbcState,superProto=this.constructor.super_.prototype,iv=state.iv;if("encrypt"===this.type){for(var i=0;i<this.blockSize;i++)iv[i]^=inp[inOff+i];superProto._update.call(this,iv,0,out,outOff);for(var i=0;i<this.blockSize;i++)iv[i]=out[outOff+i]}else{superProto._update.call(this,inp,inOff,out,outOff);for(var i=0;i<this.blockSize;i++)out[outOff+i]^=iv[i];for(var i=0;i<this.blockSize;i++)iv[i]=inp[inOff+i]}}},function(module,exports,__webpack_require__){"use strict";function Cipher(options){this.options=options,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var assert=__webpack_require__(26);module.exports=Cipher,Cipher.prototype._init=function(){},Cipher.prototype.update=function(data){return 0===data.length?[]:"decrypt"===this.type?this._updateDecrypt(data):this._updateEncrypt(data)},Cipher.prototype._buffer=function(data,off){for(var min=Math.min(this.buffer.length-this.bufferOff,data.length-off),i=0;i<min;i++)this.buffer[this.bufferOff+i]=data[off+i];return this.bufferOff+=min,min},Cipher.prototype._flushBuffer=function(out,off){return this._update(this.buffer,0,out,off),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function(data){var inputOff=0,outputOff=0,count=(this.bufferOff+data.length)/this.blockSize|0,out=new Array(count*this.blockSize);0!==this.bufferOff&&(inputOff+=this._buffer(data,inputOff),this.bufferOff===this.buffer.length&&(outputOff+=this._flushBuffer(out,outputOff)));for(var max=data.length-(data.length-inputOff)%this.blockSize;inputOff<max;inputOff+=this.blockSize)this._update(data,inputOff,out,outputOff),outputOff+=this.blockSize;for(;inputOff<data.length;inputOff++,this.bufferOff++)this.buffer[this.bufferOff]=data[inputOff];return out},Cipher.prototype._updateDecrypt=function(data){for(var inputOff=0,outputOff=0,count=Math.ceil((this.bufferOff+data.length)/this.blockSize)-1,out=new Array(count*this.blockSize);count>0;count--)inputOff+=this._buffer(data,inputOff),outputOff+=this._flushBuffer(out,outputOff);return inputOff+=this._buffer(data,inputOff),out},Cipher.prototype.final=function(buffer){var first;buffer&&(first=this.update(buffer));var last;return last="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),first?first.concat(last):last},Cipher.prototype._pad=function(buffer,off){if(0===off)return!1;for(;off<buffer.length;)buffer[off++]=0;return!0},Cipher.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var out=new Array(this.blockSize);return this._update(this.buffer,0,out,0),out},Cipher.prototype._unpad=function(buffer){return buffer},Cipher.prototype._finalDecrypt=function(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var out=new Array(this.blockSize);return this._flushBuffer(out,0),this._unpad(out)}},function(module,exports,__webpack_require__){"use strict";function DESState(){this.tmp=new Array(2),this.keys=null}function DES(options){Cipher.call(this,options);var state=new DESState;this._desState=state,this.deriveKeys(state,options.key)}var assert=__webpack_require__(26),inherits=__webpack_require__(2),des=__webpack_require__(101),utils=des.utils,Cipher=des.Cipher;inherits(DES,Cipher),module.exports=DES,DES.create=function(options){return new DES(options)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function(state,key){state.keys=new Array(32),assert.equal(key.length,this.blockSize,"Invalid key length");var kL=utils.readUInt32BE(key,0),kR=utils.readUInt32BE(key,4);utils.pc1(kL,kR,state.tmp,0),kL=state.tmp[0],kR=state.tmp[1];for(var i=0;i<state.keys.length;i+=2){var shift=shiftTable[i>>>1];kL=utils.r28shl(kL,shift),kR=utils.r28shl(kR,shift),utils.pc2(kL,kR,state.keys,i)}},DES.prototype._update=function(inp,inOff,out,outOff){var state=this._desState,l=utils.readUInt32BE(inp,inOff),r=utils.readUInt32BE(inp,inOff+4);utils.ip(l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],"encrypt"===this.type?this._encrypt(state,l,r,state.tmp,0):this._decrypt(state,l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],utils.writeUInt32BE(out,l,outOff),utils.writeUInt32BE(out,r,outOff+4)},DES.prototype._pad=function(buffer,off){for(var value=buffer.length-off,i=off;i<buffer.length;i++)buffer[i]=value;return!0},DES.prototype._unpad=function(buffer){for(var pad=buffer[buffer.length-1],i=buffer.length-pad;i<buffer.length;i++)assert.equal(buffer[i],pad);return buffer.slice(0,buffer.length-pad)},DES.prototype._encrypt=function(state,lStart,rStart,out,off){for(var l=lStart,r=rStart,i=0;i<state.keys.length;i+=2){var keyL=state.keys[i],keyR=state.keys[i+1];utils.expand(r,state.tmp,0),keyL^=state.tmp[0],keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR),f=utils.permute(s),t=r;r=(l^f)>>>0,l=t}utils.rip(r,l,out,off)},DES.prototype._decrypt=function(state,lStart,rStart,out,off){for(var l=rStart,r=lStart,i=state.keys.length-2;i>=0;i-=2){var keyL=state.keys[i],keyR=state.keys[i+1];utils.expand(l,state.tmp,0),keyL^=state.tmp[0],keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR),f=utils.permute(s),t=l;l=(r^f)>>>0,r=t}utils.rip(l,r,out,off)}},function(module,exports,__webpack_require__){"use strict";function EDEState(type,key){assert.equal(key.length,24,"Invalid key length");var k1=key.slice(0,8),k2=key.slice(8,16),k3=key.slice(16,24);this.ciphers="encrypt"===type?[DES.create({type:"encrypt",key:k1}),DES.create({type:"decrypt",key:k2}),DES.create({type:"encrypt",key:k3})]:[DES.create({type:"decrypt",key:k3}),DES.create({type:"encrypt",key:k2}),DES.create({type:"decrypt",key:k1})]}function EDE(options){Cipher.call(this,options);var state=new EDEState(this.type,this.options.key);this._edeState=state}var assert=__webpack_require__(26),inherits=__webpack_require__(2),des=__webpack_require__(101),Cipher=des.Cipher,DES=des.DES;inherits(EDE,Cipher),module.exports=EDE,EDE.create=function(options){return new EDE(options)},EDE.prototype._update=function(inp,inOff,out,outOff){var state=this._edeState;state.ciphers[0]._update(inp,inOff,out,outOff),state.ciphers[1]._update(out,outOff,out,outOff),state.ciphers[2]._update(out,outOff,out,outOff)},EDE.prototype._pad=DES.prototype._pad,EDE.prototype._unpad=DES.prototype._unpad},function(module,exports,__webpack_require__){"use strict";exports.readUInt32BE=function(bytes,off){return(bytes[0+off]<<24|bytes[1+off]<<16|bytes[2+off]<<8|bytes[3+off])>>>0},exports.writeUInt32BE=function(bytes,value,off){bytes[0+off]=value>>>24,bytes[1+off]=value>>>16&255,bytes[2+off]=value>>>8&255,bytes[3+off]=255&value},exports.ip=function(inL,inR,out,off){for(var outL=0,outR=0,i=6;i>=0;i-=2){for(var j=0;j<=24;j+=8)outL<<=1,outL|=inR>>>j+i&1;for(var j=0;j<=24;j+=8)outL<<=1,outL|=inL>>>j+i&1}for(var i=6;i>=0;i-=2){for(var j=1;j<=25;j+=8)outR<<=1,outR|=inR>>>j+i&1;for(var j=1;j<=25;j+=8)outR<<=1,outR|=inL>>>j+i&1}out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.rip=function(inL,inR,out,off){for(var outL=0,outR=0,i=0;i<4;i++)for(var j=24;j>=0;j-=8)outL<<=1,outL|=inR>>>j+i&1,outL<<=1,outL|=inL>>>j+i&1;for(var i=4;i<8;i++)for(var j=24;j>=0;j-=8)outR<<=1,outR|=inR>>>j+i&1,outR<<=1,outR|=inL>>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.pc1=function(inL,inR,out,off){for(var outL=0,outR=0,i=7;i>=5;i--){for(var j=0;j<=24;j+=8)outL<<=1,outL|=inR>>j+i&1;for(var j=0;j<=24;j+=8)outL<<=1,outL|=inL>>j+i&1}for(var j=0;j<=24;j+=8)outL<<=1,outL|=inR>>j+i&1;for(var i=1;i<=3;i++){for(var j=0;j<=24;j+=8)outR<<=1,outR|=inR>>j+i&1;for(var j=0;j<=24;j+=8)outR<<=1,outR|=inL>>j+i&1}for(var j=0;j<=24;j+=8)outR<<=1,outR|=inL>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.r28shl=function(num,shift){return num<<shift&268435455|num>>>28-shift};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(inL,inR,out,off){for(var outL=0,outR=0,len=pc2table.length>>>1,i=0;i<len;i++)outL<<=1,outL|=inL>>>pc2table[i]&1;for(var i=len;i<pc2table.length;i++)outR<<=1,outR|=inR>>>pc2table[i]&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.expand=function(r,out,off){var outL=0,outR=0;outL=(1&r)<<5|r>>>27;for(var i=23;i>=15;i-=4)outL<<=6,outL|=r>>>i&63;for(var i=11;i>=3;i-=4)outR|=r>>>i&63,outR<<=6;outR|=(31&r)<<1|r>>>31,out[off+0]=outL>>>0,out[off+1]=outR>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(inL,inR){for(var out=0,i=0;i<4;i++){var b=inL>>>18-6*i&63,sb=sTable[64*i+b];out<<=4,out|=sb}for(var i=0;i<4;i++){var b=inR>>>18-6*i&63,sb=sTable[256+64*i+b];out<<=4,out|=sb}return out>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(num){for(var out=0,i=0;i<permuteTable.length;i++)out<<=1,out|=num>>>permuteTable[i]&1;return out>>>0},exports.padSplit=function(num,size,group){for(var str=num.toString(2);str.length<size;)str="0"+str;for(var out=[],i=0;i<size;i+=group)out.push(str.slice(i,i+group));return out.join(" ")}},function(module,exports,__webpack_require__){(function(Buffer){function getDiffieHellman(mod){var prime=new Buffer(primes[mod].prime,"hex"),gen=new Buffer(primes[mod].gen,"hex");return new DH(prime,gen)}function createDiffieHellman(prime,enc,generator,genc){return Buffer.isBuffer(enc)||void 0===ENCODINGS[enc]?createDiffieHellman(prime,"binary",enc,generator):(enc=enc||"binary",genc=genc||"binary",generator=generator||new Buffer([2]),Buffer.isBuffer(generator)||(generator=new Buffer(generator,genc)),"number"==typeof prime?new DH(generatePrime(prime,generator),generator,!0):(Buffer.isBuffer(prime)||(prime=new Buffer(prime,enc)),new DH(prime,generator,!0)))}var generatePrime=__webpack_require__(181),primes=__webpack_require__(456),DH=__webpack_require__(455),ENCODINGS={binary:!0,hex:!0,base64:!0};exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman,exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function setPublicKey(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this._pub=new BN(pub),this}function setPrivateKey(priv,enc){return enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc)),this._priv=new BN(priv),this}function checkPrime(prime,generator){var gen=generator.toString("hex"),hex=[gen,prime.toString(16)].join("_");if(hex in primeCache)return primeCache[hex];var error=0;if(prime.isEven()||!primes.simpleSieve||!primes.fermatTest(prime)||!millerRabin.test(prime))return error+=1,error+="02"===gen||"05"===gen?8:4,primeCache[hex]=error,error;millerRabin.test(prime.shrn(1))||(error+=2);var rem;switch(gen){case"02":prime.mod(TWENTYFOUR).cmp(ELEVEN)&&(error+=8);break;case"05":rem=prime.mod(TEN),rem.cmp(THREE)&&rem.cmp(SEVEN)&&(error+=8);break;default:error+=4}return primeCache[hex]=error,error}function DH(prime,generator,malleable){this.setGenerator(generator),this.__prime=new BN(prime),this._prime=BN.mont(this.__prime),this._primeLen=prime.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,malleable?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(bn,enc){var buf=new Buffer(bn.toArray());return enc?buf.toString(enc):buf}var BN=__webpack_require__(6),MillerRabin=__webpack_require__(203),millerRabin=new MillerRabin,TWENTYFOUR=new BN(24),ELEVEN=new BN(11),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),primes=__webpack_require__(181),randomBytes=__webpack_require__(58);module.exports=DH;var primeCache={};Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=checkPrime(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new BN(randomBytes(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(other){other=new BN(other),other=other.toRed(this._prime);var secret=other.redPow(this._priv).fromRed(),out=new Buffer(secret.toArray()),prime=this.getPrime();if(out.length<prime.length){var front=new Buffer(prime.length-out.length);front.fill(0),out=Buffer.concat([front,out])}return out},DH.prototype.getPublicKey=function(enc){return formatReturnValue(this._pub,enc)},DH.prototype.getPrivateKey=function(enc){return formatReturnValue(this._priv,enc)},DH.prototype.getPrime=function(enc){return formatReturnValue(this.__prime,enc)},DH.prototype.getGenerator=function(enc){return formatReturnValue(this._gen,enc)},DH.prototype.setGenerator=function(gen,enc){return enc=enc||"utf8",Buffer.isBuffer(gen)||(gen=new Buffer(gen,enc)),this.__gen=gen,this._gen=new BN(gen),this}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var events=__webpack_require__(50),domain={};return domain.createDomain=domain.create=function(){function emitError(e){d.emit("error",e)}var d=new events.EventEmitter;return d.add=function(emitter){emitter.on("error",emitError)},d.remove=function(emitter){emitter.removeListener("error",emitError)},d.bind=function(fn){return function(){var args=Array.prototype.slice.call(arguments);try{fn.apply(null,args)}catch(err){emitError(err)}}},d.intercept=function(fn){return function(err){if(err)emitError(err);else{var args=Array.prototype.slice.call(arguments,1);try{fn.apply(null,args)}catch(err){emitError(err)}}}},d.run=function(fn){try{fn()}catch(err){emitError(err)}return this},d.dispose=function(){return this.removeAllListeners(),this},d.enter=d.exit=function(){return this},d},domain}.call(this)},function(module,exports,__webpack_require__){var net=__webpack_require__(210),Step=__webpack_require__(625),retry=__webpack_require__(615),Ecad=function(options){return options.timeout=options.timeout||3e3,options.minTimeout=options.minTimeout||1e3,options.maxTimeout=options.maxTimeout||2e3,options.retries=options.retries||0,options.endpoints=Array.isArray(options.endpoints)?options.endpoints:[options.endpoints],this.config=options,this};Ecad.prototype.fetch=function(fn){var that=this,opts=this.config,list=[],attempt=function(endpoint,cb){var operation=retry.operation({retries:opts.retries,minTimout:opts.minTimeout,maxTimeout:opts.maxTimeout});operation.attempt(function(attempts){that._fetch(endpoint,function(err,result){if(!operation.retry(err))return err?cb(operation.mainError(),attempts):cb(null,result)})})};Step(function(){var group=this.group();opts.endpoints.forEach(function(endpoint){attempt(endpoint,group())})},function(err,res){if(err)return fn(err,res);list=list.concat.apply(list,res),fn(null,list)})},Ecad.prototype._fetch=function(endpoint,fn){var that=this,opts=this.config,res=[];if(!~endpoint.indexOf(":"))return fn(new Error("Not a valid Elasticache endpoint. Endpoint: "+endpoint));var parts=endpoint.split(":"),client=net.connect({host:parts[0],port:parts[1]},function(){client.write("config get cluster\r\n")});client.setTimeout(opts.timeout),client.setEncoding("utf8"),client.on("data",function(chunk){res.push(chunk),~chunk.indexOf("END")&&client.end()}),client.on("end",function(){var result=that._parse(res);return result instanceof Error?fn(new Error(result.message+" Endpoint: "+endpoint)):fn(null,result)}),client.on("timeout",function(){return client.removeAllListeners(),client.end(),client.destroy(),fn(new Error("Elasticache auto-discovery request timed out. Endpoint: "+endpoint))}),client.on("error",function(err){return fn(new Error("Elasticache auto-discovery request error: "+err+" Endpoint: "+endpoint))})},Ecad.prototype._parse=function(res){var hosts=[],payload=res.join(""),lines=payload.split("\n");if(!lines[2])return new Error("Bad response from Elasticache.");var list=lines[2].split(" ");return list.length?(list.forEach(function(item){var parts=item.split("|");if(parts.length<2)return new Error("Malformed host list from Elasticache.");hosts.push(parts[0]+":"+parts[2])}),hosts):new Error("No Elasticache hosts found.")},module.exports=Ecad},function(module,exports,__webpack_require__){"use strict";function BaseCurve(type,conf){this.type=type,this.p=new BN(conf.p,16),this.red=conf.prime?BN.red(conf.prime):BN.mont(this.p),this.zero=new BN(0).toRed(this.red),this.one=new BN(1).toRed(this.red),this.two=new BN(2).toRed(this.red),this.n=conf.n&&new BN(conf.n,16),this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var adjustCount=this.n&&this.p.div(this.n);!adjustCount||adjustCount.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(curve,type){this.curve=curve,this.type=type,this.precomputed=null}var BN=__webpack_require__(6),elliptic=__webpack_require__(10),utils=elliptic.utils,getNAF=utils.getNAF,getJSF=utils.getJSF,assert=utils.assert;module.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(p,k){assert(p.precomputed);var doubles=p._getDoubles(),naf=getNAF(k,1),I=(1<<doubles.step+1)-(doubles.step%2==0?2:1);I/=3;for(var repr=[],j=0;j<naf.length;j+=doubles.step){for(var nafW=0,k=j+doubles.step-1;k>=j;k--)nafW=(nafW<<1)+naf[k];repr.push(nafW)}for(var a=this.jpoint(null,null,null),b=this.jpoint(null,null,null),i=I;i>0;i--){for(var j=0;j<repr.length;j++){var nafW=repr[j];nafW===i?b=b.mixedAdd(doubles.points[j]):nafW===-i&&(b=b.mixedAdd(doubles.points[j].neg()))}a=a.add(b)}return a.toP()},BaseCurve.prototype._wnafMul=function(p,k){var w=4,nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;for(var wnd=nafPoints.points,naf=getNAF(k,w),acc=this.jpoint(null,null,null),i=naf.length-1;i>=0;i--){for(var k=0;i>=0&&0===naf[i];i--)k++;if(i>=0&&k++,acc=acc.dblp(k),i<0)break;var z=naf[i];assert(0!==z),acc="affine"===p.type?z>0?acc.mixedAdd(wnd[z-1>>1]):acc.mixedAdd(wnd[-z-1>>1].neg()):z>0?acc.add(wnd[z-1>>1]):acc.add(wnd[-z-1>>1].neg())}return"affine"===p.type?acc.toP():acc},BaseCurve.prototype._wnafMulAdd=function(defW,points,coeffs,len,jacobianResult){for(var wndWidth=this._wnafT1,wnd=this._wnafT2,naf=this._wnafT3,max=0,i=0;i<len;i++){var p=points[i],nafPoints=p._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd,wnd[i]=nafPoints.points}for(var i=len-1;i>=1;i-=2){var a=i-1,b=i;if(1===wndWidth[a]&&1===wndWidth[b]){var comb=[points[a],null,null,points[b]];0===points[a].y.cmp(points[b].y)?(comb[1]=points[a].add(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg())):0===points[a].y.cmp(points[b].y.redNeg())?(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].add(points[b].neg())):(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg()));var index=[-3,-1,-5,-7,0,7,5,1,3],jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max),naf[a]=new Array(max),naf[b]=new Array(max);for(var j=0;j<max;j++){var ja=0|jsf[0][j],jb=0|jsf[1][j];naf[a][j]=index[3*(ja+1)+(jb+1)],naf[b][j]=0,wnd[a]=comb}}else naf[a]=getNAF(coeffs[a],wndWidth[a]),naf[b]=getNAF(coeffs[b],wndWidth[b]),max=Math.max(naf[a].length,max),max=Math.max(naf[b].length,max)}for(var acc=this.jpoint(null,null,null),tmp=this._wnafT4,i=max;i>=0;i--){for(var k=0;i>=0;){for(var zero=!0,j=0;j<len;j++)tmp[j]=0|naf[j][i],0!==tmp[j]&&(zero=!1);if(!zero)break;k++,i--}if(i>=0&&k++,acc=acc.dblp(k),i<0)break;for(var j=0;j<len;j++){var p,z=tmp[j];0!==z&&(z>0?p=wnd[j][z-1>>1]:z<0&&(p=wnd[j][-z-1>>1].neg()),acc="affine"===p.type?acc.mixedAdd(p):acc.add(p))}}for(var i=0;i<len;i++)wnd[i]=null;return jacobianResult?acc:acc.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(bytes,enc){bytes=utils.toArray(bytes,enc);var len=this.p.byteLength();if((4===bytes[0]||6===bytes[0]||7===bytes[0])&&bytes.length-1==2*len){6===bytes[0]?assert(bytes[bytes.length-1]%2==0):7===bytes[0]&&assert(bytes[bytes.length-1]%2==1);return this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len))}if((2===bytes[0]||3===bytes[0])&&bytes.length-1===len)return this.pointFromX(bytes.slice(1,1+len),3===bytes[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(enc){return this.encode(enc,!0)},BasePoint.prototype._encode=function(compact){var len=this.curve.p.byteLength(),x=this.getX().toArray("be",len);return compact?[this.getY().isEven()?2:3].concat(x):[4].concat(x,this.getY().toArray("be",len))},BasePoint.prototype.encode=function(enc,compact){return utils.encode(this._encode(compact),enc)},BasePoint.prototype.precompute=function(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};return precomputed.naf=this._getNAFPoints(8),precomputed.doubles=this._getDoubles(4,power),precomputed.beta=this._getBeta(),this.precomputed=precomputed,this},BasePoint.prototype._hasDoubles=function(k){if(!this.precomputed)return!1;var doubles=this.precomputed.doubles;return!!doubles&&doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step)},BasePoint.prototype._getDoubles=function(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var doubles=[this],acc=this,i=0;i<power;i+=step){for(var j=0;j<step;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}},BasePoint.prototype._getNAFPoints=function(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var res=[this],max=(1<<wnd)-1,dbl=1===max?null:this.dbl(),i=1;i<max;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(k){for(var r=this,i=0;i<k;i++)r=r.dbl();return r}},function(module,exports,__webpack_require__){"use strict";function EdwardsCurve(conf){this.twisted=1!=(0|conf.a),this.mOneA=this.twisted&&-1==(0|conf.a),this.extended=this.mOneA,Base.call(this,"edwards",conf),this.a=new BN(conf.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN(conf.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN(conf.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|conf.c)}function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective"),null===x&&null===y&&null===z?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=z?new BN(z,16):this.curve.one,this.t=t&&new BN(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var curve=__webpack_require__(69),elliptic=__webpack_require__(10),BN=__webpack_require__(6),inherits=__webpack_require__(2),Base=curve.base,assert=elliptic.utils.assert;inherits(EdwardsCurve,Base),module.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(num){return this.mOneA?num.redNeg():this.a.redMul(num)},EdwardsCurve.prototype._mulC=function(num){return this.oneC?num:this.c.redMul(num)},EdwardsCurve.prototype.jpoint=function(x,y,z,t){return this.point(x,y,z,t)},EdwardsCurve.prototype.pointFromX=function(x,odd){x=new BN(x,16),x.red||(x=x.toRed(this.red));var x2=x.redSqr(),rhs=this.c2.redSub(this.a.redMul(x2)),lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2)),y2=rhs.redMul(lhs.redInvm()),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},EdwardsCurve.prototype.pointFromY=function(y,odd){y=new BN(y,16),y.red||(y=y.toRed(this.red));var y2=y.redSqr(),lhs=y2.redSub(this.one),rhs=y2.redMul(this.d).redAdd(this.one),x2=lhs.redMul(rhs.redInvm());if(0===x2.cmp(this.zero)){if(odd)throw new Error("invalid point");return this.point(this.zero,y)}var x=x2.redSqrt();if(0!==x.redSqr().redSub(x2).cmp(this.zero))throw new Error("invalid point");return x.isOdd()!==odd&&(x=x.redNeg()),this.point(x,y)},EdwardsCurve.prototype.validate=function(point){if(point.isInfinity())return!0;point.normalize();var x2=point.x.redSqr(),y2=point.y.redSqr(),lhs=x2.redMul(this.a).redAdd(y2),rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return 0===lhs.cmp(rhs)},inherits(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},EdwardsCurve.prototype.point=function(x,y,z,t){return new Point(this,x,y,z,t)},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var a=this.x.redSqr(),b=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a),e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b),g=d.redAdd(b),f=g.redSub(c),h=d.redSub(b),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projDbl=function(){var nx,ny,nz,b=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var e=this.curve._mulA(c),f=e.redAdd(d);if(this.zOne)nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two)),ny=f.redMul(e.redSub(d)),nz=f.redSqr().redSub(f).redSub(f);else{var h=this.z.redSqr(),j=f.redSub(h).redISub(h);nx=b.redSub(c).redISub(d).redMul(j),ny=f.redMul(e.redSub(d)),nz=f.redMul(j)}}else{var e=c.redAdd(d),h=this.curve._mulC(this.c.redMul(this.z)).redSqr(),j=e.redSub(h).redSub(h);nx=this.curve._mulC(b.redISub(e)).redMul(j),ny=this.curve._mulC(e).redMul(c.redISub(d)),nz=e.redMul(j)}return this.curve.point(nx,ny,nz)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x)),b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x)),c=this.t.redMul(this.curve.dd).redMul(p.t),d=this.z.redMul(p.z.redAdd(p.z)),e=b.redSub(a),f=d.redSub(c),g=d.redAdd(c),h=b.redAdd(a),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projAdd=function(p){var ny,nz,a=this.z.redMul(p.z),b=a.redSqr(),c=this.x.redMul(p.x),d=this.y.redMul(p.y),e=this.curve.d.redMul(c).redMul(d),f=b.redSub(e),g=b.redAdd(e),tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d),nx=a.redMul(f).redMul(tmp);return this.curve.twisted?(ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c))),nz=f.redMul(g)):(ny=a.redMul(g).redMul(d.redSub(c)),nz=this.curve._mulC(f).redMul(g)),this.curve.point(nx,ny,nz)},Point.prototype.add=function(p){return this.isInfinity()?p:p.isInfinity()?this:this.curve.extended?this._extAdd(p):this._projAdd(p)},Point.prototype.mul=function(k){return this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!1)},Point.prototype.jmulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var zi=this.z.redInvm();return this.x=this.x.redMul(zi),this.y=this.y.redMul(zi),this.t&&(this.t=this.t.redMul(zi)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(other){return this===other||0===this.getX().cmp(other.getX())&&0===this.getY().cmp(other.getY())},Point.prototype.eqXToP=function(x){var rx=x.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(this.z);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}return!1},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},function(module,exports,__webpack_require__){"use strict";function MontCurve(conf){Base.call(this,"mont",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.i4=new BN(4).toRed(this.red).redInvm(),this.two=new BN(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective"),null===x&&null===z?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN(x,16),this.z=new BN(z,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var curve=__webpack_require__(69),BN=__webpack_require__(6),inherits=__webpack_require__(2),Base=curve.base,elliptic=__webpack_require__(10),utils=elliptic.utils;inherits(MontCurve,Base),module.exports=MontCurve,MontCurve.prototype.validate=function(point){var x=point.normalize().x,x2=x.redSqr(),rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);return 0===rhs.redSqrt().redSqr().cmp(rhs)},inherits(Point,Base.BasePoint),MontCurve.prototype.decodePoint=function(bytes,enc){return this.point(utils.toArray(bytes,enc),1)},MontCurve.prototype.point=function(x,z){return new Point(this,x,z)},MontCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var a=this.x.redAdd(this.z),aa=a.redSqr(),b=this.x.redSub(this.z),bb=b.redSqr(),c=aa.redSub(bb),nx=aa.redMul(bb),nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(p,diff){var a=this.x.redAdd(this.z),b=this.x.redSub(this.z),c=p.x.redAdd(p.z),d=p.x.redSub(p.z),da=d.redMul(a),cb=c.redMul(b),nx=diff.z.redMul(da.redAdd(cb).redSqr()),nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz)},Point.prototype.mul=function(k){for(var t=k.clone(),a=this,b=this.curve.point(null,null),c=this,bits=[];0!==t.cmpn(0);t.iushrn(1))bits.push(t.andln(1));for(var i=bits.length-1;i>=0;i--)0===bits[i]?(a=a.diffAdd(b,c),b=b.dbl()):(b=a.diffAdd(b,c),a=a.dbl());return b},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(other){return 0===this.getX().cmp(other.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(module,exports,__webpack_require__){"use strict";function ShortCurve(conf){Base.call(this,"short",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(conf),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine"),null===x&&null===y?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN(x,16),this.y=new BN(y,16),isRed&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian"),null===x&&null===y&&null===z?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN(0)):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=new BN(z,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var curve=__webpack_require__(69),elliptic=__webpack_require__(10),BN=__webpack_require__(6),inherits=__webpack_require__(2),Base=curve.base,assert=elliptic.utils.assert;inherits(ShortCurve,Base),module.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(conf){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var beta,lambda;if(conf.beta)beta=new BN(conf.beta,16).toRed(this.red);else{var betas=this._getEndoRoots(this.p);beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1],beta=beta.toRed(this.red)}if(conf.lambda)lambda=new BN(conf.lambda,16);else{var lambdas=this._getEndoRoots(this.n);0===this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))?lambda=lambdas[0]:(lambda=lambdas[1],assert(0===this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))))}var basis;return basis=conf.basis?conf.basis.map(function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}}):this._getEndoBasis(lambda),{beta:beta,lambda:lambda,basis:basis}}},ShortCurve.prototype._getEndoRoots=function(num){var red=num===this.p?this.red:BN.mont(num),tinv=new BN(2).toRed(red).redInvm(),ntinv=tinv.redNeg(),s=new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);return[ntinv.redAdd(s).fromRed(),ntinv.redSub(s).fromRed()]},ShortCurve.prototype._getEndoBasis=function(lambda){for(var a0,b0,a1,b1,a2,b2,prevR,r,x,aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=lambda,v=this.n.clone(),x1=new BN(1),y1=new BN(0),x2=new BN(0),y2=new BN(1),i=0;0!==u.cmpn(0);){var q=v.div(u);r=v.sub(q.mul(u)),x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0)a0=prevR.neg(),b0=x1,a1=r.neg(),b1=x;else if(a1&&2==++i)break;prevR=r,v=u,u=r,x2=x1,x1=x,y2=y1,y1=y}a2=r.neg(),b2=x;var len1=a1.sqr().add(b1.sqr());return a2.sqr().add(b2.sqr()).cmp(len1)>=0&&(a2=a0,b2=b0),a1.negative&&(a1=a1.neg(),b1=b1.neg()),a2.negative&&(a2=a2.neg(),b2=b2.neg()),[{a:a1,b:b1},{a:a2,b:b2}]},ShortCurve.prototype._endoSplit=function(k){var basis=this.endo.basis,v1=basis[0],v2=basis[1],c1=v2.b.mul(k).divRound(this.n),c2=v1.b.neg().mul(k).divRound(this.n),p1=c1.mul(v1.a),p2=c2.mul(v2.a),q1=c1.mul(v1.b),q2=c2.mul(v2.b);return{k1:k.sub(p1).sub(p2),k2:q1.add(q2).neg()}},ShortCurve.prototype.pointFromX=function(x,odd){x=new BN(x,16),x.red||(x=x.toRed(this.red));var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},ShortCurve.prototype.validate=function(point){if(point.inf)return!0;var x=point.x,y=point.y,ax=this.a.redMul(x),rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return 0===y.redSqr().redISub(rhs).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(points,coeffs,jacobianResult){for(var npoints=this._endoWnafT1,ncoeffs=this._endoWnafT2,i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]),p=points[i],beta=p._getBeta();split.k1.negative&&(split.k1.ineg(),p=p.neg(!0)),split.k2.negative&&(split.k2.ineg(),beta=beta.neg(!0)),npoints[2*i]=p,npoints[2*i+1]=beta,ncoeffs[2*i]=split.k1,ncoeffs[2*i+1]=split.k2}for(var res=this._wnafMulAdd(1,npoints,ncoeffs,2*i,jacobianResult),j=0;j<2*i;j++)npoints[j]=null,ncoeffs[j]=null;return res},inherits(Point,Base.BasePoint),ShortCurve.prototype.point=function(x,y,isRed){return new Point(this,x,y,isRed)},ShortCurve.prototype.pointFromJSON=function(obj,red){return Point.fromJSON(this,obj,red)},Point.prototype._getBeta=function(){if(this.curve.endo){var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve,endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta,beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(curve,obj,red){function obj2point(obj){return curve.point(obj[0],obj[1],red)}"string"==typeof obj&&(obj=JSON.parse(obj));var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;var pre=obj[2];return res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}},res},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(0===this.x.cmp(p.x))return this.curve.point(null,null);var c=this.y.redSub(p.y);0!==c.cmpn(0)&&(c=c.redMul(this.x.redSub(p.x).redInvm()));var nx=c.redSqr().redISub(this.x).redISub(p.x),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.dbl=function(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(0===ys1.cmpn(0))return this.curve.point(null,null);var a=this.curve.a,x2=this.x.redSqr(),dyinv=ys1.redInvm(),c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv),nx=c.redSqr().redISub(this.x.redAdd(this.x)),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(k){return k=new BN(k,16),this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs):this.curve._wnafMulAdd(1,points,coeffs,2)},Point.prototype.jmulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs,!0):this.curve._wnafMulAdd(1,points,coeffs,2,!0)},Point.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||0===this.x.cmp(p.x)&&0===this.y.cmp(p.y))},Point.prototype.neg=function(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed,negate=function(p){return p.neg()};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res},Point.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits(JPoint,Base.BasePoint),ShortCurve.prototype.jpoint=function(x,y,z){return new JPoint(this,x,y,z)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm(),zinv2=zinv.redSqr(),ax=this.x.redMul(zinv2),ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr(),z2=this.z.redSqr(),u1=this.x.redMul(pz2),u2=p.x.redMul(z2),s1=this.y.redMul(pz2.redMul(p.z)),s2=p.y.redMul(z2.redMul(this.z)),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr(),u1=this.x,u2=p.x.redMul(z2),s1=this.y,s2=p.y.redMul(z2).redMul(this.z),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.dblp=function(pow){if(0===pow)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var r=this,i=0;i<pow;i++)r=r.dbl();return r}for(var a=this.curve.a,tinv=this.curve.tinv,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jyd=jy.redAdd(jy),i=0;i<pow;i++){var jx2=jx.redSqr(),jyd2=jyd.redSqr(),jyd4=jyd2.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),t1=jx.redMul(jyd2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);i+1<pow&&(jz4=jz4.redMul(jyd4)),jx=nx,jz=nz,jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx),t=m.redSqr().redISub(s).redISub(s),yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8),yyyy8=yyyy8.redIAdd(yyyy8),nx=t,ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr(),b=this.y.redSqr(),c=b.redSqr(),d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a),f=e.redSqr(),c8=c.redIAdd(c);c8=c8.redIAdd(c8),c8=c8.redIAdd(c8),nx=f.redISub(d).redISub(d),ny=e.redMul(d.redISub(nx)).redISub(c8),nz=this.y.redMul(this.z),nz=nz.redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._threeDbl=function(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a),t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8),yyyy8=yyyy8.redIAdd(yyyy8),ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr(),gamma=this.y.redSqr(),beta=this.x.redMul(gamma),alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta);beta4=beta4.redIAdd(beta4);var beta8=beta4.redAdd(beta4);nx=alpha.redSqr().redISub(beta8),nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=ggamma8.redIAdd(ggamma8),ggamma8=ggamma8.redIAdd(ggamma8),ggamma8=ggamma8.redIAdd(ggamma8),ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._dbl=function(){var a=this.curve.a,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jx2=jx.redSqr(),jy2=jy.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),jxd4=jx.redAdd(jx);jxd4=jxd4.redIAdd(jxd4);var t1=jxd4.redMul(jy2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),jyd8=jy2.redSqr();jyd8=jyd8.redIAdd(jyd8),jyd8=jyd8.redIAdd(jyd8),jyd8=jyd8.redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8),nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr(),yy=this.y.redSqr(),zz=this.z.redSqr(),yyyy=yy.redSqr(),m=xx.redAdd(xx).redIAdd(xx),mm=m.redSqr(),e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);e=e.redIAdd(e),e=e.redAdd(e).redIAdd(e),e=e.redISub(mm);var ee=e.redSqr(),t=yyyy.redIAdd(yyyy);t=t.redIAdd(t),t=t.redIAdd(t),t=t.redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t),yyu4=yy.redMul(u);yyu4=yyu4.redIAdd(yyu4),yyu4=yyu4.redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=nx.redIAdd(nx),nx=nx.redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=ny.redIAdd(ny),ny=ny.redIAdd(ny),ny=ny.redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mul=function(k,kbase){return k=new BN(k,kbase),this.curve._wnafMul(this,k)},JPoint.prototype.eq=function(p){if("affine"===p.type)return this.eq(p.toJ());if(this===p)return!0;var z2=this.z.redSqr(),pz2=p.z.redSqr();if(0!==this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0))return!1;var z3=z2.redMul(this.z),pz3=pz2.redMul(p.z);return 0===this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)},JPoint.prototype.eqXToP=function(x){var zs=this.z.redSqr(),rx=x.toRed(this.curve.red).redMul(zs);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(zs);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}return!1},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(module,exports,__webpack_require__){"use strict";function PresetCurve(options){"short"===options.type?this.curve=new elliptic.curve.short(options):"edwards"===options.type?this.curve=new elliptic.curve.edwards(options):this.curve=new elliptic.curve.mont(options),this.g=this.curve.g,this.n=this.curve.n,this.hash=options.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,get:function(){var curve=new PresetCurve(options);return Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,value:curve}),curve}})}var curves=exports,hash=__webpack_require__(23),elliptic=__webpack_require__(10),assert=elliptic.utils.assert;curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=__webpack_require__(470)}catch(e){pre=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},function(module,exports,__webpack_require__){"use strict";function EC(options){if(!(this instanceof EC))return new EC(options);"string"==typeof options&&(assert(elliptic.curves.hasOwnProperty(options),"Unknown curve "+options),options=elliptic.curves[options]),options instanceof elliptic.curves.PresetCurve&&(options={curve:options}),this.curve=options.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=options.curve.g,this.g.precompute(options.curve.n.bitLength()+1),this.hash=options.hash||options.curve.hash}var BN=__webpack_require__(6),HmacDRBG=__webpack_require__(478),elliptic=__webpack_require__(10),utils=elliptic.utils,assert=utils.assert,KeyPair=__webpack_require__(465),Signature=__webpack_require__(466);module.exports=EC,EC.prototype.keyPair=function(options){return new KeyPair(this,options)},EC.prototype.keyFromPrivate=function(priv,enc){return KeyPair.fromPrivate(this,priv,enc)},EC.prototype.keyFromPublic=function(pub,enc){return KeyPair.fromPublic(this,pub,enc)},EC.prototype.genKeyPair=function(options){options||(options={});for(var drbg=new HmacDRBG({hash:this.hash,pers:options.pers,persEnc:options.persEnc||"utf8",entropy:options.entropy||elliptic.rand(this.hash.hmacStrength),entropyEnc:options.entropy&&options.entropyEnc||"utf8",nonce:this.n.toArray()}),bytes=this.n.byteLength(),ns2=this.n.sub(new BN(2));;){var priv=new BN(drbg.generate(bytes));if(!(priv.cmp(ns2)>0))return priv.iaddn(1),this.keyFromPrivate(priv)}},EC.prototype._truncateToN=function(msg,truncOnly){var delta=8*msg.byteLength()-this.n.bitLength();return delta>0&&(msg=msg.ushrn(delta)),!truncOnly&&msg.cmp(this.n)>=0?msg.sub(this.n):msg},EC.prototype.sign=function(msg,key,enc,options){"object"==typeof enc&&(options=enc,enc=null),options||(options={}),key=this.keyFromPrivate(key,enc),msg=this._truncateToN(new BN(msg,16));for(var bytes=this.n.byteLength(),bkey=key.getPrivate().toArray("be",bytes),nonce=msg.toArray("be",bytes),drbg=new HmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc||"utf8"}),ns1=this.n.sub(new BN(1)),iter=0;!0;iter++){var k=options.k?options.k(iter):new BN(drbg.generate(this.n.byteLength()));if(k=this._truncateToN(k,!0),!(k.cmpn(1)<=0||k.cmp(ns1)>=0)){var kp=this.g.mul(k);if(!kp.isInfinity()){var kpX=kp.getX(),r=kpX.umod(this.n);if(0!==r.cmpn(0)){var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));if(s=s.umod(this.n),0!==s.cmpn(0)){var recoveryParam=(kp.getY().isOdd()?1:0)|(0!==kpX.cmp(r)?2:0);return options.canonical&&s.cmp(this.nh)>0&&(s=this.n.sub(s),recoveryParam^=1),new Signature({r:r,s:s,recoveryParam:recoveryParam})}}}}}},EC.prototype.verify=function(msg,signature,key,enc){msg=this._truncateToN(new BN(msg,16)),key=this.keyFromPublic(key,enc),signature=new Signature(signature,"hex");var r=signature.r,s=signature.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var sinv=s.invm(this.n),u1=sinv.mul(msg).umod(this.n),u2=sinv.mul(r).umod(this.n);if(!this.curve._maxwellTrick){var p=this.g.mulAdd(u1,key.getPublic(),u2);return!p.isInfinity()&&0===p.getX().umod(this.n).cmp(r)}var p=this.g.jmulAdd(u1,key.getPublic(),u2);return!p.isInfinity()&&p.eqXToP(r)},EC.prototype.recoverPubKey=function(msg,signature,j,enc){assert((3&j)===j,"The recovery param is more than two bits"),signature=new Signature(signature,enc);var n=this.n,e=new BN(msg),r=signature.r,s=signature.s,isYOdd=1&j,isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error("Unable to find sencond key candinate");r=isSecondKey?this.curve.pointFromX(r.add(this.curve.n),isYOdd):this.curve.pointFromX(r,isYOdd);var rInv=signature.r.invm(n),s1=n.sub(e).mul(rInv).umod(n),s2=s.mul(rInv).umod(n);return this.g.mulAdd(s1,r,s2)},EC.prototype.getKeyRecoveryParam=function(e,signature,Q,enc){if(signature=new Signature(signature,enc),null!==signature.recoveryParam)return signature.recoveryParam;for(var i=0;i<4;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")}},function(module,exports,__webpack_require__){"use strict";function KeyPair(ec,options){this.ec=ec,this.priv=null,this.pub=null,options.priv&&this._importPrivate(options.priv,options.privEnc),options.pub&&this._importPublic(options.pub,options.pubEnc)}var BN=__webpack_require__(6),elliptic=__webpack_require__(10),utils=elliptic.utils,assert=utils.assert;module.exports=KeyPair,KeyPair.fromPublic=function(ec,pub,enc){return pub instanceof KeyPair?pub:new KeyPair(ec,{pub:pub,pubEnc:enc})},KeyPair.fromPrivate=function(ec,priv,enc){return priv instanceof KeyPair?priv:new KeyPair(ec,{priv:priv,privEnc:enc})},KeyPair.prototype.validate=function(){var pub=this.getPublic();return pub.isInfinity()?{result:!1,reason:"Invalid public key"}:pub.validate()?pub.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(compact,enc){return"string"==typeof compact&&(enc=compact,compact=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),enc?this.pub.encode(enc,compact):this.pub},KeyPair.prototype.getPrivate=function(enc){return"hex"===enc?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(key,enc){this.priv=new BN(key,enc||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(key,enc){if(key.x||key.y)return"mont"===this.ec.curve.type?assert(key.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert(key.x&&key.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(key.x,key.y));this.pub=this.ec.curve.decodePoint(key,enc)},KeyPair.prototype.derive=function(pub){return pub.mul(this.priv).getX()},KeyPair.prototype.sign=function(msg,enc,options){return this.ec.sign(msg,this,enc,options)},KeyPair.prototype.verify=function(msg,signature){return this.ec.verify(msg,signature,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(module,exports,__webpack_require__){"use strict";function Signature(options,enc){if(options instanceof Signature)return options;this._importDER(options,enc)||(assert(options.r&&options.s,"Signature without r or s"),this.r=new BN(options.r,16),this.s=new BN(options.s,16),void 0===options.recoveryParam?this.recoveryParam=null:this.recoveryParam=options.recoveryParam)}function Position(){this.place=0}function getLength(buf,p){var initial=buf[p.place++];if(!(128&initial))return initial;for(var octetLen=15&initial,val=0,i=0,off=p.place;i<octetLen;i++,off++)val<<=8,val|=buf[off];return p.place=off,val}function rmPadding(buf){for(var i=0,len=buf.length-1;!buf[i]&&!(128&buf[i+1])&&i<len;)i++;return 0===i?buf:buf.slice(i)}function constructLength(arr,len){if(len<128)return void arr.push(len);var octets=1+(Math.log(len)/Math.LN2>>>3);for(arr.push(128|octets);--octets;)arr.push(len>>>(octets<<3)&255);arr.push(len)}var BN=__webpack_require__(6),elliptic=__webpack_require__(10),utils=elliptic.utils,assert=utils.assert;module.exports=Signature,Signature.prototype._importDER=function(data,enc){data=utils.toArray(data,enc);var p=new Position;if(48!==data[p.place++])return!1;if(getLength(data,p)+p.place!==data.length)return!1;if(2!==data[p.place++])return!1;var rlen=getLength(data,p),r=data.slice(p.place,rlen+p.place);if(p.place+=rlen,2!==data[p.place++])return!1;var slen=getLength(data,p);if(data.length!==slen+p.place)return!1;var s=data.slice(p.place,slen+p.place);return 0===r[0]&&128&r[1]&&(r=r.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new BN(r),this.s=new BN(s),this.recoveryParam=null,!0},Signature.prototype.toDER=function(enc){var r=this.r.toArray(),s=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s)),r=rmPadding(r),s=rmPadding(s);!(s[0]||128&s[1]);)s=s.slice(1);var arr=[2];constructLength(arr,r.length),arr=arr.concat(r),arr.push(2),constructLength(arr,s.length);var backHalf=arr.concat(s),res=[48];return constructLength(res,backHalf.length),res=res.concat(backHalf),utils.encode(res,enc)}},function(module,exports,__webpack_require__){"use strict";function EDDSA(curve){if(assert("ed25519"===curve,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(curve);var curve=elliptic.curves[curve].curve;this.curve=curve,this.g=curve.g,this.g.precompute(curve.n.bitLength()+1),this.pointClass=curve.point().constructor,this.encodingLength=Math.ceil(curve.n.bitLength()/8),this.hash=hash.sha512}var hash=__webpack_require__(23),elliptic=__webpack_require__(10),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=__webpack_require__(468),Signature=__webpack_require__(469);module.exports=EDDSA,EDDSA.prototype.sign=function(message,secret){message=parseBytes(message);var key=this.keyFromSecret(secret),r=this.hashInt(key.messagePrefix(),message),R=this.g.mul(r),Rencoded=this.encodePoint(R),s_=this.hashInt(Rencoded,key.pubBytes(),message).mul(key.priv()),S=r.add(s_).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded})},EDDSA.prototype.verify=function(message,sig,pub){message=parseBytes(message),sig=this.makeSignature(sig);var key=this.keyFromPublic(pub),h=this.hashInt(sig.Rencoded(),key.pubBytes(),message),SG=this.g.mul(sig.S());return sig.R().add(key.pub().mul(h)).eq(SG)},EDDSA.prototype.hashInt=function(){for(var hash=this.hash(),i=0;i<arguments.length;i++)hash.update(arguments[i]);return utils.intFromLE(hash.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(pub){return KeyPair.fromPublic(this,pub)},EDDSA.prototype.keyFromSecret=function(secret){return KeyPair.fromSecret(this,secret)},EDDSA.prototype.makeSignature=function(sig){return sig instanceof Signature?sig:new Signature(this,sig)},EDDSA.prototype.encodePoint=function(point){var enc=point.getY().toArray("le",this.encodingLength);return enc[this.encodingLength-1]|=point.getX().isOdd()?128:0,enc},EDDSA.prototype.decodePoint=function(bytes){bytes=utils.parseBytes(bytes);var lastIx=bytes.length-1,normed=bytes.slice(0,lastIx).concat(-129&bytes[lastIx]),xIsOdd=0!=(128&bytes[lastIx]),y=utils.intFromLE(normed);return this.curve.pointFromY(y,xIsOdd)},EDDSA.prototype.encodeInt=function(num){return num.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(bytes){return utils.intFromLE(bytes)},EDDSA.prototype.isPoint=function(val){return val instanceof this.pointClass}},function(module,exports,__webpack_require__){"use strict";function KeyPair(eddsa,params){this.eddsa=eddsa,this._secret=parseBytes(params.secret),eddsa.isPoint(params.pub)?this._pub=params.pub:this._pubBytes=parseBytes(params.pub)}var elliptic=__webpack_require__(10),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,cachedProperty=utils.cachedProperty;KeyPair.fromPublic=function(eddsa,pub){return pub instanceof KeyPair?pub:new KeyPair(eddsa,{pub:pub})},KeyPair.fromSecret=function(eddsa,secret){return secret instanceof KeyPair?secret:new KeyPair(eddsa,{secret:secret})},KeyPair.prototype.secret=function(){return this._secret},cachedProperty(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty(KeyPair,"privBytes",function(){var eddsa=this.eddsa,hash=this.hash(),lastIx=eddsa.encodingLength-1,a=hash.slice(0,eddsa.encodingLength);return a[0]&=248,a[lastIx]&=127,a[lastIx]|=64,a}),cachedProperty(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(message){return assert(this._secret,"KeyPair can only verify"),this.eddsa.sign(message,this)},KeyPair.prototype.verify=function(message,sig){return this.eddsa.verify(message,sig,this)},KeyPair.prototype.getSecret=function(enc){return assert(this._secret,"KeyPair is public only"),utils.encode(this.secret(),enc)},KeyPair.prototype.getPublic=function(enc){return utils.encode(this.pubBytes(),enc)},module.exports=KeyPair},function(module,exports,__webpack_require__){"use strict";function Signature(eddsa,sig){this.eddsa=eddsa,"object"!=typeof sig&&(sig=parseBytes(sig)),Array.isArray(sig)&&(sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)}),assert(sig.R&&sig.S,"Signature without R or S"),eddsa.isPoint(sig.R)&&(this._R=sig.R),sig.S instanceof BN&&(this._S=sig.S),this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded,this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded}var BN=__webpack_require__(6),elliptic=__webpack_require__(10),utils=elliptic.utils,assert=utils.assert,cachedProperty=utils.cachedProperty,parseBytes=utils.parseBytes;cachedProperty(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return utils.encode(this.toBytes(),"hex").toUpperCase()},module.exports=Signature},function(module,exports){module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(module,exports,__webpack_require__){"use strict";function getNAF(num,w){for(var naf=[],ws=1<<w+1,k=num.clone();k.cmpn(1)>=0;){var z;if(k.isOdd()){var mod=k.andln(ws-1);z=mod>(ws>>1)-1?(ws>>1)-mod:mod,k.isubn(z)}else z=0;naf.push(z);for(var shift=0!==k.cmpn(0)&&0===k.andln(ws-1)?w+1:1,i=1;i<shift;i++)naf.push(0);k.iushrn(shift)}return naf}function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone(),k2=k2.clone();for(var d1=0,d2=0;k1.cmpn(-d1)>0||k2.cmpn(-d2)>0;){var m14=k1.andln(3)+d1&3,m24=k2.andln(3)+d2&3;3===m14&&(m14=-1),3===m24&&(m24=-1);var u1;if(0==(1&m14))u1=0;else{var m8=k1.andln(7)+d1&7;u1=3!==m8&&5!==m8||2!==m24?m14:-m14}jsf[0].push(u1);var u2;if(0==(1&m24))u2=0;else{var m8=k2.andln(7)+d2&7;u2=3!==m8&&5!==m8||2!==m14?m24:-m24}jsf[1].push(u2),2*d1===u1+1&&(d1=1-d1),2*d2===u2+1&&(d2=1-d2),k1.iushrn(1),k2.iushrn(1)}return jsf}function cachedProperty(obj,name,computer){var key="_"+name;obj.prototype[name]=function(){return void 0!==this[key]?this[key]:this[key]=computer.call(this)}}function parseBytes(bytes){return"string"==typeof bytes?utils.toArray(bytes,"hex"):bytes}function intFromLE(bytes){return new BN(bytes,"hex","le")}var utils=exports,BN=__webpack_require__(6),minAssert=__webpack_require__(26),minUtils=__webpack_require__(204);utils.assert=minAssert,utils.toArray=minUtils.toArray,utils.zero2=minUtils.zero2,utils.toHex=minUtils.toHex,utils.encode=minUtils.encode,utils.getNAF=getNAF,utils.getJSF=getJSF,utils.cachedProperty=cachedProperty,utils.parseBytes=parseBytes,utils.intFromLE=intFromLE},function(module,exports){module.exports={_args:[[{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},"/Users/AlexanderC/Desktop/Projects/deep-framework/src/deep-framework/node_modules/browserify-sign"]],_from:"elliptic@>=6.0.0 <7.0.0",_id:"elliptic@6.4.0",_inCache:!0,_location:"/elliptic",_nodeVersion:"7.0.0",_npmOperationalInternal:{host:"packages-18-east.internal.npmjs.com",tmp:"tmp/elliptic-6.4.0.tgz_1487798866428_0.30510620190761983"},_npmUser:{name:"indutny",email:"fedor@indutny.com"},_npmVersion:"3.10.8",_phantomChildren:{},_requested:{raw:"elliptic@^6.0.0",scope:null,escapedName:"elliptic",name:"elliptic",rawSpec:"^6.0.0",spec:">=6.0.0 <7.0.0",type:"range"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_shrinkwrap:null,_spec:"elliptic@^6.0.0",_where:"/Users/AlexanderC/Desktop/Projects/deep-framework/src/deep-framework/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},directories:{},dist:{shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz"},files:["lib"],gitHead:"6b0d2b76caae91471649c8e21f0b1d3ba0f96090",homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",maintainers:[{name:"indutny",email:"fedor@indutny.com"}],name:"elliptic",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},function(module,exports,__webpack_require__){function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var hash=__webpack_require__(23),utils=hash.utils,assert=utils.assert;exports.BlockHash=BlockHash,BlockHash.prototype.update=function(msg,enc){if(msg=utils.toArray(msg,enc),this.pending?this.pending=this.pending.concat(msg):this.pending=msg,this.pendingTotal+=msg.length,this.pending.length>=this._delta8){msg=this.pending;var r=msg.length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length),0===this.pending.length&&(this.pending=null),msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32)this._update(msg,i,i+this._delta32)}return this},BlockHash.prototype.digest=function(enc){return this.update(this._pad()),assert(null===this.pending),this._digest(enc)},BlockHash.prototype._pad=function(){var len=this.pendingTotal,bytes=this._delta8,k=bytes-(len+this.padLength)%bytes,res=new Array(k+this.padLength);res[0]=128;for(var i=1;i<k;i++)res[i]=0;if(len<<=3,"big"===this.endian){for(var t=8;t<this.padLength;t++)res[i++]=0;res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=len>>>24&255,res[i++]=len>>>16&255,res[i++]=len>>>8&255,res[i++]=255&len}else{res[i++]=255&len,res[i++]=len>>>8&255,res[i++]=len>>>16&255,res[i++]=len>>>24&255,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0;for(var t=8;t<this.padLength;t++)res[i++]=0}return res}},function(module,exports,__webpack_require__){function Hmac(hash,key,enc){if(!(this instanceof Hmac))return new Hmac(hash,key,enc);this.Hash=hash,this.blockSize=hash.blockSize/8,this.outSize=hash.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(key,enc))}var hash=__webpack_require__(23),utils=hash.utils,assert=utils.assert;module.exports=Hmac,Hmac.prototype._init=function(key){key.length>this.blockSize&&(key=(new this.Hash).update(key).digest()),assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++)key.push(0);for(var i=0;i<key.length;i++)key[i]^=54;this.inner=(new this.Hash).update(key);for(var i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)},Hmac.prototype.update=function(msg,enc){return this.inner.update(msg,enc),this},Hmac.prototype.digest=function(enc){return this.outer.update(this.inner.digest()),this.outer.digest(enc)}},function(module,exports,__webpack_require__){function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(j,x,y,z){return j<=15?x^y^z:j<=31?x&y|~x&z:j<=47?(x|~y)^z:j<=63?x&z|y&~z:x^(y|~z)}function K(j){return j<=15?0:j<=31?1518500249:j<=47?1859775393:j<=63?2400959708:2840853838}function Kh(j){return j<=15?1352829926:j<=31?1548603684:j<=47?1836072691:j<=63?2053994217:0}var hash=__webpack_require__(23),utils=hash.utils,rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=hash.common.BlockHash;utils.inherits(RIPEMD160,BlockHash),exports.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(msg,start){for(var A=this.h[0],B=this.h[1],C=this.h[2],D=this.h[3],E=this.h[4],Ah=A,Bh=B,Ch=C,Dh=D,Eh=E,j=0;j<80;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],K(j)),s[j]),E);A=E,E=D,D=rotl32(C,10),C=B,B=T,T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh),Ah=Eh,Eh=Dh,Dh=rotl32(Ch,10),Ch=Bh,Bh=T}T=sum32_3(this.h[1],C,Dh),this.h[1]=sum32_3(this.h[2],D,Eh),this.h[2]=sum32_3(this.h[3],E,Ah),this.h[3]=sum32_3(this.h[4],A,Bh),this.h[4]=sum32_3(this.h[0],B,Ch),this.h[0]=T},RIPEMD160.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(module,exports,__webpack_require__){function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}function ch32(x,y,z){return x&y^~x&z}function maj32(x,y,z){return x&y^x&z^y&z}function p32(x,y,z){return x^y^z}function s0_256(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)}function s1_256(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)}function g0_256(x){return rotr32(x,7)^rotr32(x,18)^x>>>3}function g1_256(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}function ft_1(s,x,y,z){return 0===s?ch32(x,y,z):1===s||3===s?p32(x,y,z):2===s?maj32(x,y,z):void 0}function ch64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^~xh&zh;return r<0&&(r+=4294967296),r}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;return r<0&&(r+=4294967296),r}function maj64_hi(xh,xl,yh,yl,zh,zl){var r=xh&yh^xh&zh^yh&zh;return r<0&&(r+=4294967296),r}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;return r<0&&(r+=4294967296),r}function s0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,28),c1_hi=rotr64_hi(xl,xh,2),c2_hi=rotr64_hi(xl,xh,7),r=c0_hi^c1_hi^c2_hi;return r<0&&(r+=4294967296),r}function s0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,28),c1_lo=rotr64_lo(xl,xh,2),c2_lo=rotr64_lo(xl,xh,7),r=c0_lo^c1_lo^c2_lo;return r<0&&(r+=4294967296),r}function s1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,14),c1_hi=rotr64_hi(xh,xl,18),c2_hi=rotr64_hi(xl,xh,9),r=c0_hi^c1_hi^c2_hi;return r<0&&(r+=4294967296),r}function s1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,14),c1_lo=rotr64_lo(xh,xl,18),c2_lo=rotr64_lo(xl,xh,9),r=c0_lo^c1_lo^c2_lo;return r<0&&(r+=4294967296),r}function g0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,1),c1_hi=rotr64_hi(xh,xl,8),c2_hi=shr64_hi(xh,xl,7),r=c0_hi^c1_hi^c2_hi;return r<0&&(r+=4294967296),r}function g0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,1),c1_lo=rotr64_lo(xh,xl,8),c2_lo=shr64_lo(xh,xl,7),r=c0_lo^c1_lo^c2_lo;return r<0&&(r+=4294967296),r}function g1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,19),c1_hi=rotr64_hi(xl,xh,29),c2_hi=shr64_hi(xh,xl,6),r=c0_hi^c1_hi^c2_hi;return r<0&&(r+=4294967296),r}function g1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,19),c1_lo=rotr64_lo(xl,xh,29),c2_lo=shr64_lo(xh,xl,6),r=c0_lo^c1_lo^c2_lo;return r<0&&(r+=4294967296),r}var hash=__webpack_require__(23),utils=hash.utils,assert=utils.assert,rotr32=utils.rotr32,rotl32=utils.rotl32,sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=hash.common.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],sha1_K=[1518500249,1859775393,2400959708,3395469782];utils.inherits(SHA256,BlockHash),exports.sha256=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(msg,start){for(var W=this.W,i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],f=this.h[5],g=this.h[6],h=this.h[7];assert(this.k.length===W.length);for(var i=0;i<W.length;i++){var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]),T2=sum32(s0_256(a),maj32(a,b,c));h=g,g=f,f=e,e=sum32(d,T1),d=c,c=b,b=a,a=sum32(T1,T2)}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e),this.h[5]=sum32(this.h[5],f),this.h[6]=sum32(this.h[6],g),this.h[7]=sum32(this.h[7],h)},SHA256.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA224,SHA256),exports.sha224=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,7),"big"):utils.split32(this.h.slice(0,7),"big")},utils.inherits(SHA512,BlockHash),exports.sha512=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(msg,start){for(var W=this.W,i=0;i<32;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]),c0_lo=g1_512_lo(W[i-4],W[i-3]),c1_hi=W[i-14],c1_lo=W[i-13],c2_hi=g0_512_hi(W[i-30],W[i-29]),c2_lo=g0_512_lo(W[i-30],W[i-29]),c3_hi=W[i-32],c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo),W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}},SHA512.prototype._update=function(msg,start){this._prepareBlock(msg,start);var W=this.W,ah=this.h[0],al=this.h[1],bh=this.h[2],bl=this.h[3],ch=this.h[4],cl=this.h[5],dh=this.h[6],dl=this.h[7],eh=this.h[8],el=this.h[9],fh=this.h[10],fl=this.h[11],gh=this.h[12],gl=this.h[13],hh=this.h[14],hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh,c0_lo=hl,c1_hi=s1_512_hi(eh,el),c1_lo=s1_512_lo(eh,el),c2_hi=ch64_hi(eh,el,fh,fl,gh,gl),c2_lo=ch64_lo(eh,el,fh,fl,gh,gl),c3_hi=this.k[i],c3_lo=this.k[i+1],c4_hi=W[i],c4_lo=W[i+1],T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),c0_hi=s0_512_hi(ah,al),c0_lo=s0_512_lo(ah,al),c1_hi=maj64_hi(ah,al,bh,bl,ch,cl),c1_lo=maj64_lo(ah,al,bh,bl,ch,cl),T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,c1_lo),T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=sum64_hi(dh,dl,T1_hi,T1_lo),el=sum64_lo(dl,dl,T1_hi,T1_lo),dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo),al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo)}sum64(this.h,0,ah,al),sum64(this.h,2,bh,bl),sum64(this.h,4,ch,cl),sum64(this.h,6,dh,dl),sum64(this.h,8,eh,el),sum64(this.h,10,fh,fl),sum64(this.h,12,gh,gl),sum64(this.h,14,hh,hl)},SHA512.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA384,SHA512),exports.sha384=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,12),"big"):utils.split32(this.h.slice(0,12),"big")},utils.inherits(SHA1,BlockHash),exports.sha1=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(msg,start){for(var W=this.W,i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);for(var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],i=0;i<W.length;i++){var s=~~(i/20),t=sum32_5(rotl32(a,5),ft_1(s,b,c,d),e,W[i],sha1_K[s]);e=d,d=c,c=rotl32(b,30),b=a,a=t}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e)},SHA1.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},function(module,exports,__webpack_require__){function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"==typeof msg)if(enc){if("hex"===enc){msg=msg.replace(/[^a-z0-9]+/gi,""),msg.length%2!=0&&(msg="0"+msg);for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}else for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}function htonl(w){return(w>>>24|w>>>8&65280|w<<8&16711680|(255&w)<<24)>>>0}function toHex32(msg,endian){for(var res="",i=0;i<msg.length;i++){var w=msg[i];"little"===endian&&(w=htonl(w)),res+=zero8(w.toString(16))}return res}function zero2(word){return 1===word.length?"0"+word:word}function zero8(word){return 7===word.length?"0"+word:6===word.length?"00"+word:5===word.length?"000"+word:4===word.length?"0000"+word:3===word.length?"00000"+word:2===word.length?"000000"+word:1===word.length?"0000000"+word:word}function join32(msg,start,end,endian){var len=end-start;assert(len%4==0);for(var res=new Array(len/4),i=0,k=start;i<res.length;i++,k+=4){var w;w="big"===endian?msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3]:msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k],res[i]=w>>>0}return res}function split32(msg,endian){for(var res=new Array(4*msg.length),i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];"big"===endian?(res[k]=m>>>24,res[k+1]=m>>>16&255,res[k+2]=m>>>8&255,res[k+3]=255&m):(res[k+3]=m>>>24,res[k+2]=m>>>16&255,res[k+1]=m>>>8&255,res[k]=255&m)}return res}function rotr32(w,b){return w>>>b|w<<32-b}function rotl32(w,b){return w<<b|w>>>32-b}function sum32(a,b){return a+b>>>0}function sum32_3(a,b,c){return a+b+c>>>0}function sum32_4(a,b,c,d){return a+b+c+d>>>0}function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0}function assert(cond,msg){if(!cond)throw new Error(msg||"Assertion failed")}function sum64(buf,pos,ah,al){var bh=buf[pos],bl=buf[pos+1],lo=al+bl>>>0,hi=(lo<al?1:0)+ah+bh;buf[pos]=hi>>>0,buf[pos+1]=lo}function sum64_hi(ah,al,bh,bl){return(al+bl>>>0<al?1:0)+ah+bh>>>0}function sum64_lo(ah,al,bh,bl){return al+bl>>>0}function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0,lo=al;return lo=lo+bl>>>0,carry+=lo<al?1:0,lo=lo+cl>>>0,carry+=lo<cl?1:0,lo=lo+dl>>>0,carry+=lo<dl?1:0,ah+bh+ch+dh+carry>>>0}function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){return al+bl+cl+dl>>>0}function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0,lo=al;return lo=lo+bl>>>0,carry+=lo<al?1:0,lo=lo+cl>>>0,carry+=lo<cl?1:0,lo=lo+dl>>>0,carry+=lo<dl?1:0,lo=lo+el>>>0,carry+=lo<el?1:0,ah+bh+ch+dh+eh+carry>>>0}function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){return al+bl+cl+dl+el>>>0}function rotr64_hi(ah,al,num){return(al<<32-num|ah>>>num)>>>0}function rotr64_lo(ah,al,num){return(ah<<32-num|al>>>num)>>>0}function shr64_hi(ah,al,num){return ah>>>num}function shr64_lo(ah,al,num){return(ah<<32-num|al>>>num)>>>0}var utils=exports,inherits=__webpack_require__(2);utils.toArray=toArray,utils.toHex=toHex,utils.htonl=htonl,utils.toHex32=toHex32,utils.zero2=zero2,utils.zero8=zero8,utils.join32=join32,utils.split32=split32,utils.rotr32=rotr32,utils.rotl32=rotl32,utils.sum32=sum32,utils.sum32_3=sum32_3,utils.sum32_4=sum32_4,utils.sum32_5=sum32_5,utils.assert=assert,utils.inherits=inherits,exports.sum64=sum64,exports.sum64_hi=sum64_hi,exports.sum64_lo=sum64_lo,exports.sum64_4_hi=sum64_4_hi,exports.sum64_4_lo=sum64_4_lo,exports.sum64_5_hi=sum64_5_hi,exports.sum64_5_lo=sum64_5_lo,exports.rotr64_hi=rotr64_hi,exports.rotr64_lo=rotr64_lo,exports.shr64_hi=shr64_hi,exports.shr64_lo=shr64_lo},function(module,exports,__webpack_require__){"use strict";function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash,this.predResist=!!options.predResist,this.outLen=this.hash.outSize,this.minEntropy=options.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var entropy=utils.toArray(options.entropy,options.entropyEnc||"hex"),nonce=utils.toArray(options.nonce,options.nonceEnc||"hex"),pers=utils.toArray(options.pers,options.persEnc||"hex");assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(entropy,nonce,pers)}var hash=__webpack_require__(23),utils=__webpack_require__(204),assert=__webpack_require__(26);module.exports=HmacDRBG,HmacDRBG.prototype._init=function(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(seed),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(seed){var kmac=this._hmac().update(this.V).update([0]);seed&&(kmac=kmac.update(seed)),this.K=kmac.digest(),this.V=this._hmac().update(this.V).digest(),seed&&(this.K=this._hmac().update(this.V).update([1]).update(seed).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(entropy,entropyEnc,add,addEnc){"string"!=typeof entropyEnc&&(addEnc=add,add=entropyEnc,entropyEnc=null),entropy=utils.toArray(entropy,entropyEnc),add=utils.toArray(add,addEnc),assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(entropy.concat(add||[])),this._reseed=1},HmacDRBG.prototype.generate=function(len,enc,add,addEnc){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof enc&&(addEnc=add,add=enc,enc=null),add&&(add=utils.toArray(add,addEnc||"hex"),this._update(add));for(var temp=[];temp.length<len;)this.V=this._hmac().update(this.V).digest(),temp=temp.concat(this.V);var res=temp.slice(0,len);return this._update(add),this._reseed++,utils.encode(res,enc)}},function(module,exports,__webpack_require__){(function(Buffer){var internals={};exports.escapeJavaScript=function(input){if(!input)return"";for(var escaped="",i=0,il=input.length;i<il;++i){var charCode=input.charCodeAt(i);internals.isSafe(charCode)?escaped+=input[i]:escaped+=internals.escapeJavaScriptChar(charCode)}return escaped},exports.escapeHtml=function(input){if(!input)return"";for(var escaped="",i=0,il=input.length;i<il;++i){var charCode=input.charCodeAt(i);internals.isSafe(charCode)?escaped+=input[i]:escaped+=internals.escapeHtmlChar(charCode)}return escaped},internals.escapeJavaScriptChar=function(charCode){if(charCode>=256)return"\\u"+internals.padLeft(""+charCode,4);var hexValue=new Buffer(String.fromCharCode(charCode),"ascii").toString("hex");return"\\x"+internals.padLeft(hexValue,2)},internals.escapeHtmlChar=function(charCode){var namedEscape=internals.namedHtml[charCode];if(void 0!==namedEscape)return namedEscape;if(charCode>=256)return"&#"+charCode+";";var hexValue=new Buffer(String.fromCharCode(charCode),"ascii").toString("hex");return"&#x"+internals.padLeft(hexValue,2)+";"},internals.padLeft=function(str,len){for(;str.length<len;)str="0"+str;return str},internals.isSafe=function(charCode){return void 0!==internals.safeCharCodes[charCode]},internals.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},internals.safeCharCodes=function(){for(var safe={},i=32;i<123;++i)(i>=97||i>=65&&i<=90||i>=48&&i<=57||32===i||46===i||44===i||45===i||58===i||95===i)&&(safe[i]=null);return safe}()}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i)if(arr[i]===obj)return i;return-1}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(483)},function(module,exports,__webpack_require__){(function(process){var Dns=__webpack_require__(586),internals={defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,dnsWarnNoMXRecord:5,dnsWarnNoRecord:6,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};internals.defer=void 0!==process&&process&&"function"==typeof process.nextTick?process.nextTick.bind(process):function(callback){return setTimeout(callback,0)};var specialsLookup=function(string){for(var lookup=new Array(256),i=255;i>=0;--i)lookup[i]=!1;for(var il=string.length;i<il;++i)lookup[string.charCodeAt(i)]=!0;var body="return function (code) {\n";return body+="  return lookup[code];\n",body+="}",new Function("lookup",body)(lookup)}('()<>[]:;@\\,."'),IPv4_REGEX=/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,IPv6_REGEX=/^[a-fA-F\d]{0,4}$/,IPv6_REGEX_TEST=IPv6_REGEX.test.bind(IPv6_REGEX),hasOwn=Object.prototype.hasOwnProperty,isEmail=function(email,options,callback){if("function"==typeof options&&(callback=options,options={}),options||(options={}),"function"!=typeof callback){if(options.checkDNS)throw new TypeError("expected callback function for checkDNS option");callback=null}var diagnose,threshold;if("number"==typeof options.errorLevel?(diagnose=!0,threshold=options.errorLevel):(diagnose=!!options.errorLevel,threshold=internals.diagnoses.valid),options.tldWhitelist)if("string"==typeof options.tldWhitelist)options.tldWhitelist=[options.tldWhitelist];else if("object"!=typeof options.tldWhitelist)throw new TypeError("expected array or object tldWhitelist");if(options.minDomainAtoms&&(options.minDomainAtoms!==(0|+options.minDomainAtoms)||options.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");for(var token,maxResult=internals.diagnoses.valid,updateResult=function(value){value>maxResult&&(maxResult=value)},context={now:internals.components.localpart,prev:internals.components.localpart,stack:[internals.components.localpart]},prevToken="",charCode=0,parseData={local:"",domain:""},atomData={locals:[""],domains:[""]},elementCount=0,elementLength=0,crlfCount=0,hyphenFlag=!1,assertEnd=!1,emailLength=email.length,i=0,il=emailLength;i<il;++i){switch(token=email[i],context.now){case internals.components.localpart:switch(token){case"(":0===elementLength?updateResult(0===elementCount?internals.diagnoses.cfwsComment:internals.diagnoses.deprecatedComment):(updateResult(internals.diagnoses.cfwsComment),assertEnd=!0),context.stack.push(context.now),context.now=internals.components.contextComment;break;case".":0===elementLength?updateResult(0===elementCount?internals.diagnoses.errDotStart:internals.diagnoses.errConsecutiveDots):(assertEnd&&updateResult(internals.diagnoses.deprecatedLocalPart),assertEnd=!1,elementLength=0,++elementCount,parseData.local+=token,atomData.locals[elementCount]="");break;case'"':0===elementLength?(updateResult(0===elementCount?internals.diagnoses.rfc5321QuotedString:internals.diagnoses.deprecatedLocalPart),parseData.local+=token,atomData.locals[elementCount]+=token,++elementLength,assertEnd=!0,context.stack.push(context.now),context.now=internals.components.contextQuotedString):updateResult(internals.diagnoses.errExpectingATEXT);break;case"\r":if(emailLength===++i||"\n"!==email[i]){updateResult(internals.diagnoses.errCRNoLF);break}case" ":case"\t":0===elementLength?updateResult(0===elementCount?internals.diagnoses.cfwsFWS:internals.diagnoses.deprecatedFWS):assertEnd=!0,context.stack.push(context.now),context.now=internals.components.contextFWS,prevToken=token;break;case"@":if(1!==context.stack.length)throw new Error("unexpected item on context stack");0===parseData.local.length?updateResult(internals.diagnoses.errNoLocalPart):0===elementLength?updateResult(internals.diagnoses.errDotEnd):parseData.local.length>64?updateResult(internals.diagnoses.rfc5322LocalTooLong):context.prev!==internals.components.contextComment&&context.prev!==internals.components.contextFWS||updateResult(internals.diagnoses.deprecatedCFWSNearAt),context.now=internals.components.domain,context.stack[0]=internals.components.domain,elementCount=0,elementLength=0,assertEnd=!1;break;default:if(assertEnd)switch(context.prev){case internals.components.contextComment:case internals.components.contextFWS:updateResult(internals.diagnoses.errATEXTAfterCFWS);break;case internals.components.contextQuotedString:updateResult(internals.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+context.prev)}else context.prev=context.now,charCode=token.charCodeAt(0),(charCode<33||charCode>126||specialsLookup(charCode))&&updateResult(internals.diagnoses.errExpectingATEXT),parseData.local+=token,atomData.locals[elementCount]+=token,++elementLength}break;case internals.components.domain:switch(token){case"(":0===elementLength?updateResult(0===elementCount?internals.diagnoses.deprecatedCFWSNearAt:internals.diagnoses.deprecatedComment):(assertEnd=!0,updateResult(internals.diagnoses.cfwsComment)),context.stack.push(context.now),context.now=internals.components.contextComment;break;case".":0===elementLength?updateResult(0===elementCount?internals.diagnoses.errDotStart:internals.diagnoses.errConsecutiveDots):hyphenFlag?updateResult(internals.diagnoses.errDomainHyphenEnd):elementLength>63&&updateResult(internals.diagnoses.rfc5322LabelTooLong),assertEnd=!1,elementLength=0,++elementCount,atomData.domains[elementCount]="",parseData.domain+=token;break;case"[":0===parseData.domain.length?(assertEnd=!0,++elementLength,context.stack.push(context.now),context.now=internals.components.literal,parseData.domain+=token,atomData.domains[elementCount]+=token,parseData.literal=""):updateResult(internals.diagnoses.errExpectingATEXT);break;case"\r":if(emailLength===++i||"\n"!==email[i]){updateResult(internals.diagnoses.errCRNoLF);break}case" ":case"\t":0===elementLength?updateResult(0===elementCount?internals.diagnoses.deprecatedCFWSNearAt:internals.diagnoses.deprecatedFWS):(updateResult(internals.diagnoses.cfwsFWS),assertEnd=!0),context.stack.push(context.now),context.now=internals.components.contextFWS,prevToken=token;break;default:if(assertEnd)switch(context.prev){case internals.components.contextComment:case internals.components.contextFWS:updateResult(internals.diagnoses.errATEXTAfterCFWS);break;case internals.components.literal:updateResult(internals.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+context.prev)}charCode=token.charCodeAt(0),hyphenFlag=!1,charCode<33||charCode>126||specialsLookup(charCode)?updateResult(internals.diagnoses.errExpectingATEXT):"-"===token?(0===elementLength&&updateResult(internals.diagnoses.errDomainHyphenStart),hyphenFlag=!0):(charCode<48||charCode>122||charCode>57&&charCode<65||charCode>90&&charCode<97)&&updateResult(internals.diagnoses.rfc5322Domain),parseData.domain+=token,atomData.domains[elementCount]+=token,++elementLength}break;case internals.components.literal:switch(token){case"]":if(maxResult<internals.categories.deprecated){var index=-1,addressLiteral=parseData.literal,matchesIP=IPv4_REGEX.exec(addressLiteral);if(matchesIP&&0!==(index=matchesIP.index)&&(addressLiteral=addressLiteral.slice(0,index)+"0:0"),0===index)updateResult(internals.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==addressLiteral.slice(0,5).toLowerCase())updateResult(internals.diagnoses.rfc5322DomainLiteral);else{var match=addressLiteral.slice(5),maxGroups=internals.maxIPv6Groups,groups=match.split(":");index=match.indexOf("::"),~index?index!==match.lastIndexOf("::")?updateResult(internals.diagnoses.rfc5322IPv62x2xColon):(0!==index&&index!==match.length-2||++maxGroups,groups.length>maxGroups?updateResult(internals.diagnoses.rfc5322IPv6MaxGroups):groups.length===maxGroups&&updateResult(internals.diagnoses.deprecatedIPv6)):groups.length!==maxGroups&&updateResult(internals.diagnoses.rfc5322IPv6GroupCount),updateResult(":"===match[0]&&":"!==match[1]?internals.diagnoses.rfc5322IPv6ColonStart:":"===match[match.length-1]&&":"!==match[match.length-2]?internals.diagnoses.rfc5322IPv6ColonEnd:groups.every(IPv6_REGEX_TEST)?internals.diagnoses.rfc5321AddressLiteral:internals.diagnoses.rfc5322IPv6BadCharacter)}}else updateResult(internals.diagnoses.rfc5322DomainLiteral);parseData.domain+=token,atomData.domains[elementCount]+=token,++elementLength,context.prev=context.now,context.now=context.stack.pop();break;case"\\":updateResult(internals.diagnoses.rfc5322DomainLiteralOBSDText),context.stack.push(context.now),context.now=internals.components.contextQuotedPair;break;case"\r":if(emailLength===++i||"\n"!==email[i]){updateResult(internals.diagnoses.errCRNoLF);break}case" ":case"\t":updateResult(internals.diagnoses.cfwsFWS),context.stack.push(context.now),context.now=internals.components.contextFWS,prevToken=token;break;default:if((charCode=token.charCodeAt(0))>127||0===charCode||"["===token){updateResult(internals.diagnoses.errExpectingDTEXT);break}(charCode<33||127===charCode)&&updateResult(internals.diagnoses.rfc5322DomainLiteralOBSDText),parseData.literal+=token,parseData.domain+=token,atomData.domains[elementCount]+=token,++elementLength}break;case internals.components.contextQuotedString:switch(token){case"\\":context.stack.push(context.now),context.now=internals.components.contextQuotedPair;break;case"\r":if(emailLength===++i||"\n"!==email[i]){updateResult(internals.diagnoses.errCRNoLF);break}case"\t":parseData.local+=" ",atomData.locals[elementCount]+=" ",++elementLength,updateResult(internals.diagnoses.cfwsFWS),context.stack.push(context.now),context.now=internals.components.contextFWS,prevToken=token;break;case'"':parseData.local+=token,atomData.locals[elementCount]+=token,++elementLength,context.prev=context.now,context.now=context.stack.pop();break;default:charCode=token.charCodeAt(0),charCode>127||0===charCode||10===charCode?updateResult(internals.diagnoses.errExpectingQTEXT):(charCode<32||127===charCode)&&updateResult(internals.diagnoses.deprecatedQTEXT),parseData.local+=token,atomData.locals[elementCount]+=token,++elementLength}break;case internals.components.contextQuotedPair:switch(charCode=token.charCodeAt(0),charCode>127?updateResult(internals.diagnoses.errExpectingQPair):(charCode<31&&9!==charCode||127===charCode)&&updateResult(internals.diagnoses.deprecatedQP),context.prev=context.now,context.now=context.stack.pop(),token="\\"+token,context.now){case internals.components.contextComment:break;case internals.components.contextQuotedString:parseData.local+=token,atomData.locals[elementCount]+=token,elementLength+=2;break;case internals.components.literal:parseData.domain+=token,atomData.domains[elementCount]+=token,elementLength+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+context.now)}break;case internals.components.contextComment:switch(token){case"(":context.stack.push(context.now),context.now=internals.components.contextComment;break;case")":context.prev=context.now,context.now=context.stack.pop();break;case"\\":context.stack.push(context.now),context.now=internals.components.contextQuotedPair;break;case"\r":if(emailLength===++i||"\n"!==email[i]){updateResult(internals.diagnoses.errCRNoLF);break}case" ":case"\t":updateResult(internals.diagnoses.cfwsFWS),context.stack.push(context.now),context.now=internals.components.contextFWS,prevToken=token;break;default:if((charCode=token.charCodeAt(0))>127||0===charCode||10===charCode){updateResult(internals.diagnoses.errExpectingCTEXT);break}(charCode<32||127===charCode)&&updateResult(internals.diagnoses.deprecatedCTEXT)}break;case internals.components.contextFWS:if("\r"===prevToken){if("\r"===token){updateResult(internals.diagnoses.errFWSCRLFx2);break}++crlfCount>1?updateResult(internals.diagnoses.deprecatedFWS):crlfCount=1}switch(token){case"\r":emailLength!==++i&&"\n"===email[i]||updateResult(internals.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===prevToken&&updateResult(internals.diagnoses.errFWSCRLFEnd),crlfCount=0,context.prev=context.now,context.now=context.stack.pop(),--i}prevToken=token;break;default:throw new Error("unknown context: "+context.now)}if(maxResult>internals.categories.rfc5322)break}if(maxResult<internals.categories.rfc5322)if(context.now===internals.components.contextQuotedString)updateResult(internals.diagnoses.errUnclosedQuotedString);else if(context.now===internals.components.contextQuotedPair)updateResult(internals.diagnoses.errBackslashEnd);else if(context.now===internals.components.contextComment)updateResult(internals.diagnoses.errUnclosedComment);else if(context.now===internals.components.literal)updateResult(internals.diagnoses.errUnclosedDomainLiteral);else if("\r"===token)updateResult(internals.diagnoses.errFWSCRLFEnd);else if(0===parseData.domain.length)updateResult(internals.diagnoses.errNoDomain);else if(0===elementLength)updateResult(internals.diagnoses.errDotEnd);else if(hyphenFlag)updateResult(internals.diagnoses.errDomainHyphenEnd);else if(parseData.domain.length>255)updateResult(internals.diagnoses.rfc5322DomainTooLong);else if(parseData.local.length+parseData.domain.length+1>254)updateResult(internals.diagnoses.rfc5322TooLong);else if(elementLength>63)updateResult(internals.diagnoses.rfc5322LabelTooLong);else if(options.minDomainAtoms&&atomData.domains.length<options.minDomainAtoms)updateResult(internals.diagnoses.errDomainTooShort);else if(options.tldWhitelist){var tldAtom=atomData.domains[elementCount];if(Array.isArray(options.tldWhitelist)){var tldValid=!1;for(i=0,il=options.tldWhitelist.length;i<il;++i)if(tldAtom===options.tldWhitelist[i]){tldValid=!0;break}tldValid||updateResult(internals.diagnoses.errUnknownTLD)}else hasOwn.call(options.tldWhitelist,tldAtom)||updateResult(internals.diagnoses.errUnknownTLD)}var dnsPositive=!1,finishImmediately=!1,finish=function(){if(!dnsPositive&&maxResult<internals.categories.dnsWarn){atomData.domains[elementCount].charCodeAt(0)<=57?updateResult(internals.diagnoses.rfc5321TLDNumeric):0===elementCount&&updateResult(internals.diagnoses.rfc5321TLD)}maxResult<threshold&&(maxResult=internals.diagnoses.valid);var finishResult=diagnose?maxResult:maxResult<internals.defaultThreshold;return callback&&(finishImmediately?callback(finishResult):internals.defer(callback.bind(null,finishResult))),finishResult};if(!(options.checkDNS&&maxResult<internals.categories.dnsWarn)){var result=finish();return finishImmediately=!0,result}0===elementCount&&(parseData.domain+=".");var dnsDomain=parseData.domain;Dns.resolveMx(dnsDomain,function(err,mxRecords){if(err&&err.code!==Dns.NODATA)return updateResult(internals.diagnoses.dnsWarnNoRecord),finish();if(mxRecords&&mxRecords.length)return dnsPositive=!0,finish();var count=3,done=!1;updateResult(internals.diagnoses.dnsWarnNoMXRecord);var handleRecords=function(err,records){if(!done){if(--count,records&&records.length)return done=!0,finish();0===count&&(updateResult(internals.diagnoses.dnsWarnNoRecord),done=!0,finish())}};Dns.resolveCname(dnsDomain,handleRecords),Dns.resolve4(dnsDomain,handleRecords),Dns.resolve6(dnsDomain,handleRecords)}),finishImmediately=!0};isEmail.diagnoses=function(){var diag={};for(var key in internals.diagnoses)diag[key]=internals.diagnoses[key];return diag}(),module.exports=isEmail}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){var Any=__webpack_require__(13),Cast=__webpack_require__(51),Errors=__webpack_require__(15),Hoek=__webpack_require__(9),internals={};internals.Array=function(){Any.call(this),this._type="array",this._inner.inclusions=[],this._inner.exclusions=[],this._flags.sparse=!1},Hoek.inherits(internals.Array,Any),internals.Array.prototype._base=function(value,state,options){var result={value:value};if("string"==typeof value&&options.convert)try{var converted=JSON.parse(value);Array.isArray(converted)&&(result.value=converted)}catch(e){}var isArray=Array.isArray(result.value),wasArray=isArray;if(options.convert&&this._flags.single&&!isArray&&(result.value=[result.value],isArray=!0),!isArray)return result.errors=Errors.create("array.base",null,state,options),result;if(this._inner.inclusions.length||this._inner.exclusions.length||!this._flags.sparse){wasArray&&(result.value=result.value.slice(0));var check=function(){for(var v=0,vl=result.value.length;v<vl;++v){var item=result.value[v],isValid=!1,localState={key:v,path:(state.path?state.path+".":"")+v,parent:result.value,reference:state.reference};if(!this._flags.sparse&&void 0===item)return result.errors=Errors.create("array.sparse",null,{key:state.key,path:localState.path},options),result;for(var i=0,il=this._inner.exclusions.length;i<il;++i){var res=this._inner.exclusions[i]._validate(item,localState,{});if(!res.errors)return result.errors=Errors.create(wasArray?"array.excludes":"array.excludesSingle",{pos:v},{key:state.key,path:localState.path},options),result}for(i=0,il=this._inner.inclusions.length;i<il;++i){var res=this._inner.inclusions[i]._validate(item,localState,options);if(!res.errors){result.value[v]=res.value,isValid=!0;break}if(1===il)return result.errors=Errors.create(wasArray?"array.includesOne":"array.includesOneSingle",{pos:v,reason:res.errors},{key:state.key,path:localState.path},options),result}if(this._inner.inclusions.length&&!isValid)return result.errors=Errors.create(wasArray?"array.includes":"array.includesSingle",{pos:v},{key:state.key,path:localState.path},options),result}return result};if(check.call(this).errors&&wasArray&&options.convert&&this._flags.single){var previousErrors=result.errors;delete result.errors,result.value=[result.value],check.call(this).errors&&(result.errors=previousErrors,result.value=result.value[0])}}return result},internals.Array.prototype.describe=function(){var description=Any.prototype.describe.call(this);if(this._inner.inclusions.length){description.includes=[];for(var i=0,il=this._inner.inclusions.length;i<il;++i)description.includes.push(this._inner.inclusions[i].describe())}if(this._inner.exclusions.length){description.excludes=[];for(var i=0,il=this._inner.exclusions.length;i<il;++i)description.excludes.push(this._inner.exclusions[i].describe())}return description},internals.Array.prototype.includes=function(){var inclusions=Hoek.flatten(Array.prototype.slice.call(arguments)).map(function(type){return Cast.schema(type)}),obj=this.clone();return obj._inner.inclusions=obj._inner.inclusions.concat(inclusions),obj},internals.Array.prototype.excludes=function(){var exclusions=Hoek.flatten(Array.prototype.slice.call(arguments)).map(function(type){return Cast.schema(type)}),obj=this.clone();return obj._inner.exclusions=obj._inner.exclusions.concat(exclusions),obj},internals.Array.prototype.min=function(limit){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("min",limit,function(value,state,options){return value.length>=limit?null:Errors.create("array.min",{limit:limit},state,options)})},internals.Array.prototype.max=function(limit){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("max",limit,function(value,state,options){return value.length<=limit?null:Errors.create("array.max",{limit:limit},state,options)})},internals.Array.prototype.length=function(limit){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("length",limit,function(value,state,options){return value.length===limit?null:Errors.create("array.length",{limit:limit},state,options)})},internals.Array.prototype.unique=function(){return this._test("unique",void 0,function(value,state,options){for(var found={string:{},number:{},undefined:{},boolean:{},object:[],function:[]},i=0,il=value.length;i<il;++i){var item=value[i],type=typeof item,records=found[type];if(records)if(Array.isArray(records)){for(var r=0,rl=records.length;r<rl;++r)if(Hoek.deepEqual(records[r],item))return Errors.create("array.unique",{pos:i},state,options);records.push(item)}else{if(records[item])return Errors.create("array.unique",{pos:i},state,options);records[item]=!0}}})},internals.Array.prototype.sparse=function(enabled){var obj=this.clone();return obj._flags.sparse=void 0===enabled||!!enabled,obj},internals.Array.prototype.single=function(enabled){var obj=this.clone();return obj._flags.single=void 0===enabled||!!enabled,obj},module.exports=new internals.Array},function(module,exports,__webpack_require__){(function(Buffer){var Any=__webpack_require__(13),Errors=__webpack_require__(15),Hoek=__webpack_require__(9),internals={};internals.Binary=function(){Any.call(this),this._type="binary"},Hoek.inherits(internals.Binary,Any),internals.Binary.prototype._base=function(value,state,options){var result={value:value};if("string"==typeof value&&options.convert)try{var converted=new Buffer(value,this._flags.encoding);result.value=converted}catch(e){}return result.errors=Buffer.isBuffer(result.value)?null:Errors.create("binary.base",null,state,options),result},internals.Binary.prototype.encoding=function(encoding){Hoek.assert(Buffer.isEncoding(encoding),"Invalid encoding:",encoding);var obj=this.clone();return obj._flags.encoding=encoding,obj},internals.Binary.prototype.min=function(limit){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("min",limit,function(value,state,options){return value.length>=limit?null:Errors.create("binary.min",{limit:limit},state,options)})},internals.Binary.prototype.max=function(limit){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("max",limit,function(value,state,options){return value.length<=limit?null:Errors.create("binary.max",{limit:limit},state,options)})},internals.Binary.prototype.length=function(limit){return Hoek.assert(Hoek.isInteger(limit)&&limit>=0,"limit must be a positive integer"),this._test("length",limit,function(value,state,options){return value.length===limit?null:Errors.create("binary.length",{limit:limit},state,options)})},module.exports=new internals.Binary}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){var Any=__webpack_require__(13),Errors=__webpack_require__(15),Hoek=__webpack_require__(9),internals={};internals.Function=function(){Any.call(this),this._type="func"},Hoek.inherits(internals.Function,Any),internals.Function.prototype._base=function(value,state,options){return{value:value,errors:"function"==typeof value?null:Errors.create("function.base",null,state,options)}},module.exports=new internals.Function},function(module,exports,__webpack_require__){var Any=(__webpack_require__(9),__webpack_require__(13)),Cast=__webpack_require__(51),Ref=__webpack_require__(52),internals={alternatives:__webpack_require__(103),array:__webpack_require__(484),boolean:__webpack_require__(183),binary:__webpack_require__(485),date:__webpack_require__(104),func:__webpack_require__(486),number:__webpack_require__(184),object:__webpack_require__(185),string:__webpack_require__(186)};internals.root=function(){var any=new Any,root=any.clone();return root.any=function(){return any},root.alternatives=root.alt=function(){return arguments.length?internals.alternatives.try.apply(internals.alternatives,arguments):internals.alternatives},root.array=function(){return internals.array},root.boolean=root.bool=function(){return internals.boolean},root.binary=function(){return internals.binary},root.date=function(){return internals.date},root.func=function(){return internals.func},root.number=function(){return internals.number},root.object=function(){return arguments.length?internals.object.keys.apply(internals.object,arguments):internals.object},root.string=function(){return internals.string},root.ref=function(){return Ref.create.apply(null,arguments)},root.isRef=function(ref){return Ref.isRef(ref)},root.validate=function(value){var last=arguments[arguments.length-1],callback="function"==typeof last?last:null,count=arguments.length-(callback?1:0);if(1===count)return any.validate(value,callback);var options=3===count?arguments[2]:{};return Cast.schema(arguments[1])._validateWithOptions(value,options,callback)},root.describe=function(){return(arguments.length?Cast.schema(arguments[0]):any).describe()},root.compile=function(schema){return Cast.schema(schema)},root.assert=function(value,schema,message){message=message?message+" ":"";var error=root.validate(value,schema).error;if(error)throw new Error(message+error.annotate())},root},module.exports=internals.root()},function(module,exports){exports.errors={root:"value",any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}"},alternatives:{base:"not matching any of the allowed alternatives"},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:"single value of {{!key}} does not match any of the allowed types",includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:"single value of {{!key}} fails because {{reason}}",excludes:"at position {{pos}} contains an excluded value",excludesSingle:"single value of {{!key}} contains an excluded value",min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",isoDate:"must be a valid ISO 8601 date",ref:"references {{ref}} which is not a date"},function:{base:"must be a Function"},object:{base:"must be an object",min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:"is not allowed",with:"missing required peer {{peer}}",without:"conflict with forbidden peer {{peer}}",missing:"must contain at least one of {{peers}}",xor:"contains a conflict between exclusive peers {{peers}}",or:"must contain at least one of {{peers}}",and:"contains {{present}} without its required peers {{missing}}",nand:"{{main}} must not exist simultaneously with {{peers}}",assert:"validation failed because {{ref}} failed to {{message}}",rename:{multiple:"cannot rename child {{from}} because multiple renames are disabled and another key was already renamed to {{to}}",override:"cannot rename child {{from}} because override is disabled and target {{to}} exists"},type:"must be an instance of {{type}}"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:"fails to match the required pattern",name:"fails to match the {{name}} pattern"},email:"must be a valid email",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hostname:"must be a valid hostname",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card"}}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(25),root=__webpack_require__(19),DataView=getNative(root,"DataView");module.exports=DataView},function(module,exports,__webpack_require__){function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var hashClear=__webpack_require__(539),hashDelete=__webpack_require__(540),hashGet=__webpack_require__(541),hashHas=__webpack_require__(542),hashSet=__webpack_require__(543);Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},function(module,exports,__webpack_require__){var getNative=__webpack_require__(25),root=__webpack_require__(19),Promise=getNative(root,"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var getNative=__webpack_require__(25),root=__webpack_require__(19),Set=getNative(root,"Set");module.exports=Set},function(module,exports,__webpack_require__){function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}var MapCache=__webpack_require__(106),setCacheAdd=__webpack_require__(563),setCacheHas=__webpack_require__(564);SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},function(module,exports,__webpack_require__){var root=__webpack_require__(19),Uint8Array=root.Uint8Array;module.exports=Uint8Array},function(module,exports,__webpack_require__){var getNative=__webpack_require__(25),root=__webpack_require__(19),WeakMap=getNative(root,"WeakMap");module.exports=WeakMap},function(module,exports){function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}module.exports=apply},function(module,exports){function arrayEvery(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}module.exports=arrayEvery},function(module,exports){function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}module.exports=arrayFilter},function(module,exports,__webpack_require__){function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}var baseTimes=__webpack_require__(523),isArguments=__webpack_require__(111),isArray=__webpack_require__(16),isBuffer=__webpack_require__(112),isIndex=__webpack_require__(107),isTypedArray=__webpack_require__(115),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=arrayLikeKeys},function(module,exports){function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}module.exports=arrayMap},function(module,exports){function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}module.exports=arrayPush},function(module,exports){function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}module.exports=arraySome},function(module,exports,__webpack_require__){function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}var copyObject=__webpack_require__(194),keys=__webpack_require__(56);module.exports=baseAssign},function(module,exports,__webpack_require__){var isObject=__webpack_require__(17),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},function(module,exports,__webpack_require__){var baseForOwn=__webpack_require__(508),createBaseEach=__webpack_require__(529),baseEach=createBaseEach(baseForOwn);module.exports=baseEach},function(module,exports,__webpack_require__){function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}var baseEach=__webpack_require__(505);module.exports=baseEvery},function(module,exports,__webpack_require__){var createBaseFor=__webpack_require__(530),baseFor=createBaseFor();module.exports=baseFor},function(module,exports,__webpack_require__){function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}var baseFor=__webpack_require__(507),keys=__webpack_require__(56);module.exports=baseForOwn},function(module,exports,__webpack_require__){function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}var arrayPush=__webpack_require__(501),isArray=__webpack_require__(16);module.exports=baseGetAllKeys},function(module,exports){function baseHasIn(object,key){return null!=object&&key in Object(object)}module.exports=baseHasIn},function(module,exports,__webpack_require__){function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}var baseGetTag=__webpack_require__(53),isObjectLike=__webpack_require__(55),argsTag="[object Arguments]";module.exports=baseIsArguments},function(module,exports,__webpack_require__){function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag,othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}var Stack=__webpack_require__(187),equalArrays=__webpack_require__(196),equalByTag=__webpack_require__(531),equalObjects=__webpack_require__(532),getTag=__webpack_require__(198),isArray=__webpack_require__(16),isBuffer=__webpack_require__(112),isTypedArray=__webpack_require__(115),COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=baseIsEqualDeep},function(module,exports,__webpack_require__){function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return!1}}return!0}var Stack=__webpack_require__(187),baseIsEqual=__webpack_require__(191),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=baseIsMatch},function(module,exports,__webpack_require__){function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}var isFunction=__webpack_require__(78),isMasked=__webpack_require__(545),isObject=__webpack_require__(17),toSource=__webpack_require__(202),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=baseIsNative},function(module,exports,__webpack_require__){function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}var baseGetTag=__webpack_require__(53),isLength=__webpack_require__(113),isObjectLike=__webpack_require__(55),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=baseIsTypedArray},function(module,exports,__webpack_require__){function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}var baseMatches=__webpack_require__(517),baseMatchesProperty=__webpack_require__(518),identity=__webpack_require__(110),isArray=__webpack_require__(16),property=__webpack_require__(581);module.exports=baseIteratee},function(module,exports,__webpack_require__){function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}var baseIsMatch=__webpack_require__(513),getMatchData=__webpack_require__(534),matchesStrictComparable=__webpack_require__(201);module.exports=baseMatches},function(module,exports,__webpack_require__){function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var baseIsEqual=__webpack_require__(191),get=__webpack_require__(577),hasIn=__webpack_require__(578),isKey=__webpack_require__(108),isStrictComparable=__webpack_require__(200),matchesStrictComparable=__webpack_require__(201),toKey=__webpack_require__(76),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=baseMatchesProperty},function(module,exports){function baseProperty(key){return function(object){return null==object?void 0:object[key]}}module.exports=baseProperty},function(module,exports,__webpack_require__){function basePropertyDeep(path){return function(object){return baseGet(object,path)}}var baseGet=__webpack_require__(190);module.exports=basePropertyDeep},function(module,exports,__webpack_require__){function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}var identity=__webpack_require__(110),overRest=__webpack_require__(562),setToString=__webpack_require__(566);module.exports=baseRest},function(module,exports,__webpack_require__){var constant=__webpack_require__(575),defineProperty=__webpack_require__(195),identity=__webpack_require__(110),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},function(module,exports){function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}module.exports=baseTimes},function(module,exports,__webpack_require__){function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}var Symbol=__webpack_require__(72),arrayMap=__webpack_require__(500),isArray=__webpack_require__(16),isSymbol=__webpack_require__(114),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=baseToString},function(module,exports){function baseUnary(func){return function(value){return func(value)}}module.exports=baseUnary},function(module,exports){function cacheHas(cache,key){return cache.has(key)}module.exports=cacheHas},function(module,exports,__webpack_require__){var root=__webpack_require__(19),coreJsData=root["__core-js_shared__"];module.exports=coreJsData},function(module,exports,__webpack_require__){function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}var baseRest=__webpack_require__(521),isIterateeCall=__webpack_require__(199);module.exports=createAssigner},function(module,exports,__webpack_require__){function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}var isArrayLike=__webpack_require__(54);module.exports=createBaseEach},function(module,exports){function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}module.exports=createBaseFor},function(module,exports,__webpack_require__){function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}var Symbol=__webpack_require__(72),Uint8Array=__webpack_require__(494),eq=__webpack_require__(77),equalArrays=__webpack_require__(196),mapToArray=__webpack_require__(556),setToArray=__webpack_require__(565),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=equalByTag},function(module,exports,__webpack_require__){function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}var getAllKeys=__webpack_require__(533),COMPARE_PARTIAL_FLAG=1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=equalObjects},function(module,exports,__webpack_require__){function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}var baseGetAllKeys=__webpack_require__(509),getSymbols=__webpack_require__(536),keys=__webpack_require__(56);module.exports=getAllKeys},function(module,exports,__webpack_require__){function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}var isStrictComparable=__webpack_require__(200),keys=__webpack_require__(56);module.exports=getMatchData},function(module,exports,__webpack_require__){function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0}catch(e){}var result=nativeObjectToString.call(value);return isOwn?value[symToStringTag]=tag:delete value[symToStringTag],result}var Symbol=__webpack_require__(72),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=getRawTag},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(498),stubArray=__webpack_require__(582),objectProto=Object.prototype,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray;module.exports=getSymbols},function(module,exports){function getValue(object,key){return null==object?void 0:object[key]}module.exports=getValue},function(module,exports,__webpack_require__){function hasPath(object,path,hasFunc){path=castPath(path,object);for(var index=-1,length=path.length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}var castPath=__webpack_require__(193),isArguments=__webpack_require__(111),isArray=__webpack_require__(16),isIndex=__webpack_require__(107),isLength=__webpack_require__(113),toKey=__webpack_require__(76);module.exports=hasPath},function(module,exports,__webpack_require__){function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}var nativeCreate=__webpack_require__(75);module.exports=hashClear},function(module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}module.exports=hashDelete},function(module,exports,__webpack_require__){function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}var nativeCreate=__webpack_require__(75),HASH_UNDEFINED="__lodash_hash_undefined__",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=hashGet},function(module,exports,__webpack_require__){function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}var nativeCreate=__webpack_require__(75),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=hashHas},function(module,exports,__webpack_require__){function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}var nativeCreate=__webpack_require__(75),HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=hashSet},function(module,exports){function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}module.exports=isKeyable},function(module,exports,__webpack_require__){function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var coreJsData=__webpack_require__(527),maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();module.exports=isMasked},function(module,exports){function listCacheClear(){this.__data__=[],this.size=0}module.exports=listCacheClear},function(module,exports,__webpack_require__){function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}var assocIndexOf=__webpack_require__(73),arrayProto=Array.prototype,splice=arrayProto.splice;module.exports=listCacheDelete},function(module,exports,__webpack_require__){function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}var assocIndexOf=__webpack_require__(73);module.exports=listCacheGet},function(module,exports,__webpack_require__){function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}var assocIndexOf=__webpack_require__(73);module.exports=listCacheHas},function(module,exports,__webpack_require__){function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}var assocIndexOf=__webpack_require__(73);module.exports=listCacheSet},function(module,exports,__webpack_require__){function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}var Hash=__webpack_require__(490),ListCache=__webpack_require__(71),Map=__webpack_require__(105);module.exports=mapCacheClear},function(module,exports,__webpack_require__){function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}var getMapData=__webpack_require__(74);module.exports=mapCacheDelete},function(module,exports,__webpack_require__){function mapCacheGet(key){return getMapData(this,key).get(key)}var getMapData=__webpack_require__(74);module.exports=mapCacheGet},function(module,exports,__webpack_require__){function mapCacheHas(key){return getMapData(this,key).has(key)}var getMapData=__webpack_require__(74);module.exports=mapCacheHas},function(module,exports,__webpack_require__){function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}var getMapData=__webpack_require__(74);module.exports=mapCacheSet},function(module,exports){function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}module.exports=mapToArray},function(module,exports,__webpack_require__){function memoizeCapped(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}var memoize=__webpack_require__(580),MAX_MEMOIZE_SIZE=500;module.exports=memoizeCapped},function(module,exports,__webpack_require__){var overArg=__webpack_require__(561),nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(197),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(exports,__webpack_require__(29)(module))},function(module,exports){function objectToString(value){return nativeObjectToString.call(value)}var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;module.exports=objectToString},function(module,exports){function overArg(func,transform){return function(arg){return func(transform(arg))}}module.exports=overArg},function(module,exports,__webpack_require__){function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}var apply=__webpack_require__(496),nativeMax=Math.max;module.exports=overRest},function(module,exports){function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}var HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=setCacheAdd},function(module,exports){function setCacheHas(value){return this.__data__.has(value)}module.exports=setCacheHas},function(module,exports){function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}module.exports=setToArray},function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__(522),shortOut=__webpack_require__(567),setToString=shortOut(baseSetToString);module.exports=setToString},function(module,exports){function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;module.exports=shortOut},function(module,exports,__webpack_require__){function stackClear(){this.__data__=new ListCache,this.size=0}var ListCache=__webpack_require__(71);module.exports=stackClear},function(module,exports){function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}module.exports=stackDelete},function(module,exports){function stackGet(key){return this.__data__.get(key)}module.exports=stackGet},function(module,exports){function stackHas(key){return this.__data__.has(key)}module.exports=stackHas},function(module,exports,__webpack_require__){function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}var ListCache=__webpack_require__(71),Map=__webpack_require__(105),MapCache=__webpack_require__(106),LARGE_ARRAY_SIZE=200;module.exports=stackSet},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(557),reLeadingDot=/^\./,stringToPath=memoizeCapped(function(string){var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(match,number,quote,string){result.push(quote?string.replace(/\\(\\)?/g,"$1"):number||match)}),result});module.exports=stringToPath},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(188),copyObject=__webpack_require__(194),createAssigner=__webpack_require__(528),isArrayLike=__webpack_require__(54),isPrototype=__webpack_require__(109),keys=__webpack_require__(56),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source))return void copyObject(source,keys(source),object);for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])});module.exports=assign},function(module,exports){function constant(value){return function(){return value}}module.exports=constant},function(module,exports,__webpack_require__){function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,baseIteratee(predicate,3))}var arrayEvery=__webpack_require__(497),baseEvery=__webpack_require__(506),baseIteratee=__webpack_require__(516),isArray=__webpack_require__(16),isIterateeCall=__webpack_require__(199);module.exports=every},function(module,exports,__webpack_require__){function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}var baseGet=__webpack_require__(190);module.exports=get},function(module,exports,__webpack_require__){function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var baseHasIn=__webpack_require__(510),hasPath=__webpack_require__(538);module.exports=hasIn},function(module,exports,__webpack_require__){function isEmpty(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}var baseKeys=__webpack_require__(192),getTag=__webpack_require__(198),isArguments=__webpack_require__(111),isArray=__webpack_require__(16),isArrayLike=__webpack_require__(54),isBuffer=__webpack_require__(112),isPrototype=__webpack_require__(109),isTypedArray=__webpack_require__(115),mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=isEmpty},function(module,exports,__webpack_require__){function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}var MapCache=__webpack_require__(106),FUNC_ERROR_TEXT="Expected a function";memoize.Cache=MapCache,module.exports=memoize},function(module,exports,__webpack_require__){function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}var baseProperty=__webpack_require__(519),basePropertyDeep=__webpack_require__(520),isKey=__webpack_require__(108),toKey=__webpack_require__(76);module.exports=property},function(module,exports){function stubArray(){return[]}module.exports=stubArray},function(module,exports){function stubFalse(){return!1}module.exports=stubFalse},function(module,exports,__webpack_require__){function toString(value){return null==value?"":baseToString(value)}var baseToString=__webpack_require__(524);module.exports=toString},function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./en-au":205,"./en-au.js":205,"./en-ca":206,"./en-ca.js":206,"./en-gb":207,"./en-gb.js":207,"./en-ie":208,"./en-ie.js":208,"./en-nz":209,"./en-nz.js":209};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=585},function(module,exports){exports.lookup=exports.resolve4=exports.resolve6=exports.resolveCname=exports.resolveMx=exports.resolveNs=exports.resolveTxt=exports.resolveSrv=exports.resolveNaptr=exports.reverse=exports.resolve=function(){if(arguments.length){var callback=arguments[arguments.length-1];callback&&"function"==typeof callback&&callback(null,"0.0.0.0")}}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},function(module,exports){module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(module,exports,__webpack_require__){"use strict";var asn1=__webpack_require__(41);exports.certificate=__webpack_require__(591);var RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=DSAPrivateKey,exports.DSAparam=asn1.define("DSAparam",function(){this.int()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(module,exports,__webpack_require__){"use strict";var asn=__webpack_require__(41),Time=asn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AttributeTypeValue=asn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),AlgorithmIdentifier=asn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),SubjectPublicKeyInfo=asn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())}),RelativeDistinguishedName=asn.define("RelativeDistinguishedName",function(){this.setof(AttributeTypeValue)}),RDNSequence=asn.define("RDNSequence",function(){this.seqof(RelativeDistinguishedName)}),Name=asn.define("Name",function(){this.choice({rdnSequence:this.use(RDNSequence)})}),Validity=asn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Time),this.key("notAfter").use(Time))}),Extension=asn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),TBSCertificate=asn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier),this.key("issuer").use(Name),this.key("validity").use(Validity),this.key("subject").use(Name),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}),X509Certificate=asn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier),this.key("signatureValue").bitstr())});module.exports=X509Certificate},function(module,exports,__webpack_require__){(function(Buffer){var evp=__webpack_require__(70),ciphers=__webpack_require__(83);module.exports=function(okey,password){var decrypted,key=okey.toString(),match=key.match(/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m);if(match){var suite="aes"+match[1],iv=new Buffer(match[2],"hex"),cipherText=new Buffer(match[3].replace(/\r?\n/g,""),"base64"),cipherKey=evp(password,iv.slice(0,8),parseInt(match[1],10)).key,out=[],cipher=ciphers.createDecipheriv(suite,cipherKey,iv);out.push(cipher.update(cipherText)),out.push(cipher.final()),decrypted=Buffer.concat(out)}else{var match2=key.match(/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m);decrypted=new Buffer(match2[2].replace(/\r?\n/g,""),"base64")}return{tag:key.match(/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m)[1],data:decrypted}}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports){var MAX_ALLOC=Math.pow(2,30)-1;module.exports=function(iterations,keylen){if("number"!=typeof iterations)throw new TypeError("Iterations not a number");if(iterations<0)throw new TypeError("Bad iterations");if("number"!=typeof keylen)throw new TypeError("Key length not a number");if(keylen<0||keylen>MAX_ALLOC||keylen!==keylen)throw new TypeError("Bad key length")}},function(module,exports,__webpack_require__){exports.publicEncrypt=__webpack_require__(596),exports.privateDecrypt=__webpack_require__(595),exports.privateEncrypt=function(key,buf){return exports.publicEncrypt(key,buf,!0)},exports.publicDecrypt=function(key,buf){return exports.privateDecrypt(key,buf,!0)}},function(module,exports,__webpack_require__){(function(Buffer){function oaep(key,msg){var k=(key.modulus,key.modulus.byteLength()),iHash=(msg.length,createHash("sha1").update(new Buffer("")).digest()),hLen=iHash.length;if(0!==msg[0])throw new Error("decryption error");var maskedSeed=msg.slice(1,hLen+1),maskedDb=msg.slice(hLen+1),seed=xor(maskedSeed,mgf(maskedDb,hLen)),db=xor(maskedDb,mgf(seed,k-hLen-1));if(compare(iHash,db.slice(0,hLen)))throw new Error("decryption error");for(var i=hLen;0===db[i];)i++;if(1!==db[i++])throw new Error("decryption error");return db.slice(i)}function pkcs1(key,msg,reverse){for(var p1=msg.slice(0,2),i=2,status=0;0!==msg[i++];)if(i>=msg.length){status++;break}var ps=msg.slice(2,i-1);msg.slice(i-1,i);if(("0002"!==p1.toString("hex")&&!reverse||"0001"!==p1.toString("hex")&&reverse)&&status++,ps.length<8&&status++,status)throw new Error("decryption error");return msg.slice(i)}function compare(a,b){a=new Buffer(a),b=new Buffer(b);var dif=0,len=a.length;a.length!==b.length&&(dif++,len=Math.min(a.length,b.length));for(var i=-1;++i<len;)dif+=a[i]^b[i];return dif}var parseKeys=__webpack_require__(79),mgf=__webpack_require__(212),xor=__webpack_require__(214),bn=__webpack_require__(6),crt=__webpack_require__(84),createHash=__webpack_require__(34),withPublic=__webpack_require__(213);module.exports=function(private_key,enc,reverse){var padding;padding=private_key.padding?private_key.padding:reverse?1:4;var key=parseKeys(private_key),k=key.modulus.byteLength();if(enc.length>k||new bn(enc).cmp(key.modulus)>=0)throw new Error("decryption error");var msg;msg=reverse?withPublic(new bn(enc),key):crt(enc,key);var zBuffer=new Buffer(k-msg.length);if(zBuffer.fill(0),msg=Buffer.concat([zBuffer,msg],k),4===padding)return oaep(key,msg);if(1===padding)return pkcs1(key,msg,reverse);if(3===padding)return msg;throw new Error("unknown padding")}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function oaep(key,msg){var k=key.modulus.byteLength(),mLen=msg.length,iHash=createHash("sha1").update(new Buffer("")).digest(),hLen=iHash.length,hLen2=2*hLen;if(mLen>k-hLen2-2)throw new Error("message too long");var ps=new Buffer(k-mLen-hLen2-2);ps.fill(0);var dblen=k-hLen-1,seed=randomBytes(hLen),maskedDb=xor(Buffer.concat([iHash,ps,new Buffer([1]),msg],dblen),mgf(seed,dblen)),maskedSeed=xor(seed,mgf(maskedDb,hLen));return new bn(Buffer.concat([new Buffer([0]),maskedSeed,maskedDb],k))}function pkcs1(key,msg,reverse){var mLen=msg.length,k=key.modulus.byteLength();if(mLen>k-11)throw new Error("message too long");var ps;return reverse?(ps=new Buffer(k-mLen-3),ps.fill(255)):ps=nonZero(k-mLen-3),new bn(Buffer.concat([new Buffer([0,reverse?1:2]),ps,new Buffer([0]),msg],k))}function nonZero(len,crypto){for(var num,out=new Buffer(len),i=0,cache=randomBytes(2*len),cur=0;i<len;)cur===cache.length&&(cache=randomBytes(2*len),cur=0),(num=cache[cur++])&&(out[i++]=num);return out}var parseKeys=__webpack_require__(79),randomBytes=__webpack_require__(58),createHash=__webpack_require__(34),mgf=__webpack_require__(212),xor=__webpack_require__(214),bn=__webpack_require__(6),withPublic=__webpack_require__(213),crt=__webpack_require__(84);module.exports=function(public_key,msg,reverse){var padding;padding=public_key.padding?public_key.padding:reverse?1:4;var paddedMsg,key=parseKeys(public_key);if(4===padding)paddedMsg=oaep(key,msg);else if(1===padding)paddedMsg=pkcs1(key,msg,reverse);else{if(3!==padding)throw new Error("unknown padding");if(paddedMsg=new bn(msg),paddedMsg.cmp(key.modulus)>=0)throw new Error("data too long for modulus")}return reverse?crt(paddedMsg,key):withPublic(paddedMsg,key)}}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(root){function error(type){throw RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),string=string.replace(regexSeparators,"."),result+map(string.split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)value=string.charCodeAt(counter++),value>=55296&&value<=56319&&counter<length?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(value-=65536,output+=stringFromCharCode(value>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function basicToDigit(codePoint){return codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for(basic=input.lastIndexOf(delimiter),basic<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),digit=basicToDigit(input.charCodeAt(index++)),(digit>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(digit<t);k+=base)baseMinusT=base-t,w>floor(maxInt/baseMinusT)&&error("overflow"),w*=baseMinusT;out=output.length+1,bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(input=ucs2decode(input),inputLength=input.length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(handledCPCountPlusOne=handledCPCount+1,m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if(currentValue=input[j],currentValue<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(q<t);k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}var freeGlobal=("object"==typeof exports&&exports&&exports.nodeType,"object"==typeof module&&module&&module.nodeType,"object"==typeof global&&global);var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;punycode={version:"1.3.2",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}).call(exports,__webpack_require__(29)(module),__webpack_require__(4))},function(module,exports,__webpack_require__){var Utils=__webpack_require__(216),internals={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1};internals.parseValues=function(str,options){for(var obj={},parts=str.split(options.delimiter,options.parameterLimit===1/0?void 0:options.parameterLimit),i=0,il=parts.length;i<il;++i){var key,val,part=parts[i],pos=-1===part.indexOf("]=")?part.indexOf("="):part.indexOf("]=")+1;-1===pos?(key=Utils.decode(part),val=options.strictNullHandling?null:""):(key=Utils.decode(part.slice(0,pos)),val=Utils.decode(part.slice(pos+1))),Object.prototype.hasOwnProperty.call(obj,key)?obj[key]=[].concat(obj[key]).concat(val):obj[key]=val}return obj},internals.parseObject=function(chain,val,options){if(!chain.length)return val;var obj,root=chain.shift();if("[]"===root)obj=[],obj=obj.concat(internals.parseObject(chain,val,options));else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root[0]&&"]"===root[root.length-1]?root.slice(1,root.length-1):root,index=parseInt(cleanRoot,10),indexString=""+index;!isNaN(index)&&root!==cleanRoot&&indexString===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[],obj[index]=internals.parseObject(chain,val,options)):obj[cleanRoot]=internals.parseObject(chain,val,options)}return obj},internals.parseKeys=function(key,val,options){if(key){options.allowDots&&(key=key.replace(/\.([^\.\[]+)/g,"[$1]"));var parent=/^([^\[\]]*)/,child=/(\[[^\[\]]*\])/g,segment=parent.exec(key),keys=[];if(segment[1]){if(!options.plainObjects&&Object.prototype.hasOwnProperty(segment[1])&&!options.allowPrototypes)return;keys.push(segment[1])}for(var i=0;null!==(segment=child.exec(key))&&i<options.depth;)++i,(options.plainObjects||!Object.prototype.hasOwnProperty(segment[1].replace(/\[|\]/g,""))||options.allowPrototypes)&&keys.push(segment[1]);return segment&&keys.push("["+key.slice(segment.index)+"]"),internals.parseObject(keys,val,options)}},module.exports=function(str,options){if(options=options||{},options.delimiter="string"==typeof options.delimiter||Utils.isRegExp(options.delimiter)?options.delimiter:internals.delimiter,options.depth="number"==typeof options.depth?options.depth:internals.depth,options.arrayLimit="number"==typeof options.arrayLimit?options.arrayLimit:internals.arrayLimit,options.parseArrays=!1!==options.parseArrays,options.allowDots="boolean"==typeof options.allowDots?options.allowDots:internals.allowDots,options.plainObjects="boolean"==typeof options.plainObjects?options.plainObjects:internals.plainObjects,options.allowPrototypes="boolean"==typeof options.allowPrototypes?options.allowPrototypes:internals.allowPrototypes,options.parameterLimit="number"==typeof options.parameterLimit?options.parameterLimit:internals.parameterLimit,options.strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:internals.strictNullHandling,""===str||null===str||void 0===str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?internals.parseValues(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0,il=keys.length;i<il;++i){var key=keys[i],newObj=internals.parseKeys(key,tempObj[key],options);obj=Utils.merge(obj,newObj,options)}return Utils.compact(obj)}},function(module,exports,__webpack_require__){var Utils=__webpack_require__(216),internals={delimiter:"&",arrayPrefixGenerators:{brackets:function(prefix,key){return prefix+"[]"},indices:function(prefix,key){return prefix+"["+key+"]"},repeat:function(prefix,key){return prefix}},strictNullHandling:!1,skipNulls:!1,encode:!0};internals.stringify=function(obj,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encode,filter,sort){if("function"==typeof filter)obj=filter(prefix,obj);else if(Utils.isBuffer(obj))obj=obj.toString();else if(obj instanceof Date)obj=obj.toISOString();else if(null===obj){if(strictNullHandling)return encode?Utils.encode(prefix):prefix;obj=""}if("string"==typeof obj||"number"==typeof obj||"boolean"==typeof obj)return encode?[Utils.encode(prefix)+"="+Utils.encode(obj)]:[prefix+"="+obj];var values=[];if(void 0===obj)return values;var objKeys;if(Array.isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0,il=objKeys.length;i<il;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(values=Array.isArray(obj)?values.concat(internals.stringify(obj[key],generateArrayPrefix(prefix,key),generateArrayPrefix,strictNullHandling,skipNulls,encode,filter)):values.concat(internals.stringify(obj[key],prefix+"["+key+"]",generateArrayPrefix,strictNullHandling,skipNulls,encode,filter)))}return values},module.exports=function(obj,options){options=options||{};var objKeys,filter,delimiter=void 0===options.delimiter?internals.delimiter:options.delimiter,strictNullHandling="boolean"==typeof options.strictNullHandling?options.strictNullHandling:internals.strictNullHandling,skipNulls="boolean"==typeof options.skipNulls?options.skipNulls:internals.skipNulls,encode="boolean"==typeof options.encode?options.encode:internals.encode,sort="function"==typeof options.sort?options.sort:null;"function"==typeof options.filter?(filter=options.filter,obj=filter("",obj)):Array.isArray(options.filter)&&(objKeys=filter=options.filter);var keys=[];if("object"!=typeof obj||null===obj)return"";var arrayFormat;arrayFormat=options.arrayFormat in internals.arrayPrefixGenerators?options.arrayFormat:"indices"in options?options.indices?"indices":"repeat":"indices";var generateArrayPrefix=internals.arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),sort&&objKeys.sort(sort);for(var i=0,il=objKeys.length;i<il;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(keys=keys.concat(internals.stringify(obj[key],key,generateArrayPrefix,strictNullHandling,skipNulls,encode,filter,sort)))}return keys.join(delimiter)}},function(module,exports,__webpack_require__){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(/\+/g,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},function(module,exports,__webpack_require__){"use strict";function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},function(module,exports,__webpack_require__){"use strict";function querystring(query){for(var part,parser=/([^=?&]+)=?([^&]*)/g,result={};part=parser.exec(query);result[decodeURIComponent(part[1])]=decodeURIComponent(part[2]));return result}function querystringify(obj,prefix){prefix=prefix||"";var pairs=[];"string"!=typeof prefix&&(prefix="?");for(var key in obj)has.call(obj,key)&&pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(obj[key]));return pairs.length?prefix+pairs.join("&"):""}var has=Object.prototype.hasOwnProperty;exports.stringify=querystringify,exports.parse=querystring},function(module,exports,__webpack_require__){"use strict";function RavenConfigError(message){this.name="RavenConfigError",this.message=message}RavenConfigError.prototype=new Error,RavenConfigError.prototype.constructor=RavenConfigError,module.exports=RavenConfigError},function(module,exports,__webpack_require__){"use strict";var wrapMethod=function(console,level,callback){var originalConsoleLevel=console[level],originalConsole=console;if(level in console){var sentryLevel="warn"===level?"warning":level;console[level]=function(){var args=[].slice.call(arguments),msg=""+args.join(" "),data={level:sentryLevel,logger:"console",extra:{arguments:args}};callback&&callback(msg,data),originalConsoleLevel&&Function.prototype.apply.call(originalConsoleLevel,originalConsole,args)}}};module.exports={wrapMethod:wrapMethod}},function(module,exports,__webpack_require__){"use strict";(function(global){function now(){return+new Date}function Raven(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!isUndefined(_document),this._hasNavigator=!isUndefined(_navigator),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,sampleRate:1},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=_window.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=now(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=_window.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var method in this._originalConsole)this._originalConsoleMethods[method]=this._originalConsole[method]}function isUndefined(what){return void 0===what}function isFunction(what){return"function"==typeof what}function isString(what){return"[object String]"===objectPrototype.toString.call(what)}function isEmptyObject(what){for(var _ in what)return!1;return!0}function each(obj,callback){var i,j;if(isUndefined(obj.length))for(i in obj)hasKey(obj,i)&&callback.call(null,i,obj[i]);else if(j=obj.length)for(i=0;i<j;i++)callback.call(null,i,obj[i])}function objectMerge(obj1,obj2){return obj2?(each(obj2,function(key,value){obj1[key]=value}),obj1):obj1}function truncate(str,max){return!max||str.length<=max?str:str.substr(0,max)+"…"}function hasKey(object,key){return objectPrototype.hasOwnProperty.call(object,key)}function joinRegExp(patterns){for(var pattern,sources=[],i=0,len=patterns.length;i<len;i++)pattern=patterns[i],isString(pattern)?sources.push(pattern.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):pattern&&pattern.source&&sources.push(pattern.source);return new RegExp(sources.join("|"),"i")}function urlencode(o){var pairs=[];return each(o,function(key,value){pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(value))}),pairs.join("&")}function parseUrl(url){var match=url.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!match)return{};var query=match[6]||"",fragment=match[8]||"";return{protocol:match[2],host:match[4],path:match[5],relative:match[5]+query+fragment}}function uuid4(){var crypto=_window.crypto||_window.msCrypto;if(!isUndefined(crypto)&&crypto.getRandomValues){var arr=new Uint16Array(8);crypto.getRandomValues(arr),arr[3]=4095&arr[3]|16384,arr[4]=16383&arr[4]|32768;var pad=function(num){for(var v=num.toString(16);v.length<4;)v="0"+v;return v};return pad(arr[0])+pad(arr[1])+pad(arr[2])+pad(arr[3])+pad(arr[4])+pad(arr[5])+pad(arr[6])+pad(arr[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)})}function htmlTreeAsString(elem){for(var nextStr,out=[],height=0,len=0,sepLength=" > ".length;elem&&height++<5&&!("html"===(nextStr=htmlElementAsString(elem))||height>1&&len+out.length*sepLength+nextStr.length>=80);)out.push(nextStr),len+=nextStr.length,elem=elem.parentNode;return out.reverse().join(" > ")}function htmlElementAsString(elem){var className,classes,key,attr,i,out=[];if(!elem||!elem.tagName)return"";if(out.push(elem.tagName.toLowerCase()),elem.id&&out.push("#"+elem.id),(className=elem.className)&&isString(className))for(classes=className.split(/\s+/),i=0;i<classes.length;i++)out.push("."+classes[i]);var attrWhitelist=["type","name","title","alt"];for(i=0;i<attrWhitelist.length;i++)key=attrWhitelist[i],(attr=elem.getAttribute(key))&&out.push("["+key+'="'+attr+'"]');return out.join("")}function isOnlyOneTruthy(a,b){return!!(!!a^!!b)}function isSameException(ex1,ex2){return!isOnlyOneTruthy(ex1,ex2)&&(ex1=ex1.values[0],ex2=ex2.values[0],ex1.type===ex2.type&&ex1.value===ex2.value&&isSameStacktrace(ex1.stacktrace,ex2.stacktrace))}function isSameStacktrace(stack1,stack2){if(isOnlyOneTruthy(stack1,stack2))return!1;var frames1=stack1.frames,frames2=stack2.frames;if(frames1.length!==frames2.length)return!1;for(var a,b,i=0;i<frames1.length;i++)if(a=frames1[i],b=frames2[i],a.filename!==b.filename||a.lineno!==b.lineno||a.colno!==b.colno||a.function!==b.function)return!1;return!0}function fill(obj,name,replacement,track){var orig=obj[name];obj[name]=replacement(orig),track&&track.push([obj,name,orig])}var TraceKit=__webpack_require__(606),stringify=__webpack_require__(607),RavenConfigError=__webpack_require__(603),utils=__webpack_require__(218),isError=utils.isError,isObject=utils.isObject,wrapConsoleMethod=__webpack_require__(604).wrapMethod,dsnKeys="source protocol user pass host port path".split(" "),dsnPattern=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,_window="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},_document=_window.document,_navigator=_window.navigator;Raven.prototype={VERSION:"3.14.2",debug:!1,TraceKit:TraceKit,config:function(dsn,options){var self=this;if(self._globalServer)return this._logDebug("error","Error: Raven has already been configured"),self;if(!dsn)return self;var globalOptions=self._globalOptions;options&&each(options,function(key,value){"tags"===key||"extra"===key||"user"===key?self._globalContext[key]=value:globalOptions[key]=value}),self.setDSN(dsn),globalOptions.ignoreErrors.push(/^Script error\.?$/),globalOptions.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),globalOptions.ignoreErrors=joinRegExp(globalOptions.ignoreErrors),globalOptions.ignoreUrls=!!globalOptions.ignoreUrls.length&&joinRegExp(globalOptions.ignoreUrls),globalOptions.whitelistUrls=!!globalOptions.whitelistUrls.length&&joinRegExp(globalOptions.whitelistUrls),globalOptions.includePaths=joinRegExp(globalOptions.includePaths),globalOptions.maxBreadcrumbs=Math.max(0,Math.min(globalOptions.maxBreadcrumbs||100,100));var autoBreadcrumbDefaults={xhr:!0,console:!0,dom:!0,location:!0},autoBreadcrumbs=globalOptions.autoBreadcrumbs;return"[object Object]"==={}.toString.call(autoBreadcrumbs)?autoBreadcrumbs=objectMerge(autoBreadcrumbDefaults,autoBreadcrumbs):!1!==autoBreadcrumbs&&(autoBreadcrumbs=autoBreadcrumbDefaults),globalOptions.autoBreadcrumbs=autoBreadcrumbs,TraceKit.collectWindowErrors=!!globalOptions.collectWindowErrors,self},install:function(){var self=this;return self.isSetup()&&!self._isRavenInstalled&&(TraceKit.report.subscribe(function(){self._handleOnErrorStackInfo.apply(self,arguments)}),self._instrumentTryCatch(),self._globalOptions.autoBreadcrumbs&&self._instrumentBreadcrumbs(),self._drainPlugins(),self._isRavenInstalled=!0),Error.stackTraceLimit=self._globalOptions.stackTraceLimit,this},setDSN:function(dsn){var self=this,uri=self._parseDSN(dsn),lastSlash=uri.path.lastIndexOf("/"),path=uri.path.substr(1,lastSlash);self._dsn=dsn,self._globalKey=uri.user,self._globalSecret=uri.pass&&uri.pass.substr(1),self._globalProject=uri.path.substr(lastSlash+1),self._globalServer=self._getGlobalServer(uri),self._globalEndpoint=self._globalServer+"/"+path+"api/"+self._globalProject+"/store/",this._resetBackoff()},context:function(options,func,args){return isFunction(options)&&(args=func||[],func=options,options=void 0),this.wrap(options,func).apply(this,args)},wrap:function(options,func,_before){function wrapped(){var args=[],i=arguments.length,deep=!options||options&&!1!==options.deep;for(_before&&isFunction(_before)&&_before.apply(this,arguments);i--;)args[i]=deep?self.wrap(options,arguments[i]):arguments[i];try{return func.apply(this,args)}catch(e){throw self._ignoreNextOnError(),self.captureException(e,options),e}}var self=this;if(isUndefined(func)&&!isFunction(options))return options;if(isFunction(options)&&(func=options,options=void 0),!isFunction(func))return func;try{if(func.__raven__)return func;if(func.__raven_wrapper__)return func.__raven_wrapper__}catch(e){return func}for(var property in func)hasKey(func,property)&&(wrapped[property]=func[property]);return wrapped.prototype=func.prototype,func.__raven_wrapper__=wrapped,wrapped.__raven__=!0,wrapped.__inner__=func,wrapped},uninstall:function(){return TraceKit.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(ex,options){if(!isError(ex))return this.captureMessage(ex,objectMerge({trimHeadFrames:1,stacktrace:!0},options));this._lastCapturedException=ex;try{var stack=TraceKit.computeStackTrace(ex);this._handleStackInfo(stack,options)}catch(ex1){if(ex!==ex1)throw ex1}return this},captureMessage:function(msg,options){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(msg)){options=options||{};var data=objectMerge({message:msg+""},options);if(this._globalOptions.stacktrace||options&&options.stacktrace){var ex;try{throw new Error(msg)}catch(ex1){ex=ex1}ex.name=null,options=objectMerge({fingerprint:msg,trimHeadFrames:(options.trimHeadFrames||0)+1},options);var stack=TraceKit.computeStackTrace(ex),frames=this._prepareFrames(stack,options);data.stacktrace={frames:frames.reverse()}}return this._send(data),this}},captureBreadcrumb:function(obj){var crumb=objectMerge({timestamp:now()/1e3},obj);if(isFunction(this._globalOptions.breadcrumbCallback)){var result=this._globalOptions.breadcrumbCallback(crumb);if(isObject(result)&&!isEmptyObject(result))crumb=result;else if(!1===result)return this}return this._breadcrumbs.push(crumb),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(plugin){var pluginArgs=[].slice.call(arguments,1);return this._plugins.push([plugin,pluginArgs]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(user){return this._globalContext.user=user,this},setExtraContext:function(extra){return this._mergeContext("extra",extra),this},setTagsContext:function(tags){return this._mergeContext("tags",tags),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(stringify(this._globalContext))},setEnvironment:function(environment){return this._globalOptions.environment=environment,this},setRelease:function(release){return this._globalOptions.release=release,this},setDataCallback:function(callback){var original=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=isFunction(callback)?function(data){return callback(data,original)}:callback,this},setBreadcrumbCallback:function(callback){var original=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=isFunction(callback)?function(data){return callback(data,original)}:callback,this},setShouldSendCallback:function(callback){var original=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=isFunction(callback)?function(data){return callback(data,original)}:callback,this},setTransport:function(transport){return this._globalOptions.transport=transport,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var RavenConfig=_window.RavenConfig;RavenConfig&&this.config(RavenConfig.dsn,RavenConfig.config).install()},showReportDialog:function(options){if(_document){options=options||{};var lastEventId=options.eventId||this.lastEventId();if(!lastEventId)throw new RavenConfigError("Missing eventId");var dsn=options.dsn||this._dsn;if(!dsn)throw new RavenConfigError("Missing DSN");var encode=encodeURIComponent,qs="";qs+="?eventId="+encode(lastEventId),qs+="&dsn="+encode(dsn);var user=options.user||this._globalContext.user;user&&(user.name&&(qs+="&name="+encode(user.name)),user.email&&(qs+="&email="+encode(user.email)));var globalServer=this._getGlobalServer(this._parseDSN(dsn)),script=_document.createElement("script");script.async=!0,script.src=globalServer+"/api/embed/error-page/"+qs,(_document.head||_document.body).appendChild(script)}},_ignoreNextOnError:function(){var self=this;this._ignoreOnError+=1,setTimeout(function(){self._ignoreOnError-=1})},_triggerEvent:function(eventType,options){var evt,key;if(this._hasDocument){options=options||{},eventType="raven"+eventType.substr(0,1).toUpperCase()+eventType.substr(1),_document.createEvent?(evt=_document.createEvent("HTMLEvents"),evt.initEvent(eventType,!0,!0)):(evt=_document.createEventObject(),evt.eventType=eventType);for(key in options)hasKey(options,key)&&(evt[key]=options[key]);if(_document.createEvent)_document.dispatchEvent(evt);else try{_document.fireEvent("on"+evt.eventType.toLowerCase(),evt)}catch(e){}}},_breadcrumbEventHandler:function(evtName){var self=this;return function(evt){if(self._keypressTimeout=null,self._lastCapturedEvent!==evt){self._lastCapturedEvent=evt;var target;try{target=htmlTreeAsString(evt.target)}catch(e){target="<unknown>"}self.captureBreadcrumb({category:"ui."+evtName,message:target})}}},_keypressEventHandler:function(){var self=this;return function(evt){var target;try{target=evt.target}catch(e){return}var tagName=target&&target.tagName;if(tagName&&("INPUT"===tagName||"TEXTAREA"===tagName||target.isContentEditable)){var timeout=self._keypressTimeout;timeout||self._breadcrumbEventHandler("input")(evt),clearTimeout(timeout),self._keypressTimeout=setTimeout(function(){self._keypressTimeout=null},1e3)}}},_captureUrlChange:function(from,to){var parsedLoc=parseUrl(this._location.href),parsedTo=parseUrl(to),parsedFrom=parseUrl(from);this._lastHref=to,parsedLoc.protocol===parsedTo.protocol&&parsedLoc.host===parsedTo.host&&(to=parsedTo.relative),parsedLoc.protocol===parsedFrom.protocol&&parsedLoc.host===parsedFrom.host&&(from=parsedFrom.relative),this.captureBreadcrumb({category:"navigation",data:{to:to,from:from}})},_instrumentTryCatch:function(){function wrapTimeFn(orig){return function(fn,t){for(var args=new Array(arguments.length),i=0;i<args.length;++i)args[i]=arguments[i];var originalCallback=args[0];return isFunction(originalCallback)&&(args[0]=self.wrap(originalCallback)),orig.apply?orig.apply(this,args):orig(args[0],args[1])}}var self=this,wrappedBuiltIns=self._wrappedBuiltIns,autoBreadcrumbs=this._globalOptions.autoBreadcrumbs;fill(_window,"setTimeout",wrapTimeFn,wrappedBuiltIns),fill(_window,"setInterval",wrapTimeFn,wrappedBuiltIns),_window.requestAnimationFrame&&fill(_window,"requestAnimationFrame",function(orig){return function(cb){return orig(self.wrap(cb))}},wrappedBuiltIns);for(var eventTargets=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=0;i<eventTargets.length;i++)!function(global){var proto=_window[global]&&_window[global].prototype;proto&&proto.hasOwnProperty&&proto.hasOwnProperty("addEventListener")&&(fill(proto,"addEventListener",function(orig){return function(evtName,fn,capture,secure){try{fn&&fn.handleEvent&&(fn.handleEvent=self.wrap(fn.handleEvent))}catch(err){}var before,clickHandler,keypressHandler;return autoBreadcrumbs&&autoBreadcrumbs.dom&&("EventTarget"===global||"Node"===global)&&(clickHandler=self._breadcrumbEventHandler("click"),keypressHandler=self._keypressEventHandler(),before=function(evt){if(evt){var eventType;try{eventType=evt.type}catch(e){return}return"click"===eventType?clickHandler(evt):"keypress"===eventType?keypressHandler(evt):void 0}}),orig.call(this,evtName,self.wrap(fn,void 0,before),capture,secure)}},wrappedBuiltIns),fill(proto,"removeEventListener",function(orig){return function(evt,fn,capture,secure){try{fn=fn&&(fn.__raven_wrapper__?fn.__raven_wrapper__:fn)}catch(e){}return orig.call(this,evt,fn,capture,secure)}},wrappedBuiltIns))}(eventTargets[i])},_instrumentBreadcrumbs:function(){function wrapProp(prop,xhr){prop in xhr&&isFunction(xhr[prop])&&fill(xhr,prop,function(orig){return self.wrap(orig)})}var self=this,autoBreadcrumbs=this._globalOptions.autoBreadcrumbs,wrappedBuiltIns=self._wrappedBuiltIns;if(autoBreadcrumbs.xhr&&"XMLHttpRequest"in _window){var xhrproto=XMLHttpRequest.prototype;fill(xhrproto,"open",function(origOpen){return function(method,url){return isString(url)&&-1===url.indexOf(self._globalKey)&&(this.__raven_xhr={method:method,url:url,status_code:null}),origOpen.apply(this,arguments)}},wrappedBuiltIns),fill(xhrproto,"send",function(origSend){return function(data){function onreadystatechangeHandler(){if(xhr.__raven_xhr&&(1===xhr.readyState||4===xhr.readyState)){try{xhr.__raven_xhr.status_code=xhr.status}catch(e){}self.captureBreadcrumb({type:"http",category:"xhr",data:xhr.__raven_xhr})}}for(var xhr=this,props=["onload","onerror","onprogress"],j=0;j<props.length;j++)wrapProp(props[j],xhr);return"onreadystatechange"in xhr&&isFunction(xhr.onreadystatechange)?fill(xhr,"onreadystatechange",function(orig){return self.wrap(orig,void 0,onreadystatechangeHandler)}):xhr.onreadystatechange=onreadystatechangeHandler,origSend.apply(this,arguments)}},wrappedBuiltIns)}autoBreadcrumbs.xhr&&"fetch"in _window&&fill(_window,"fetch",function(origFetch){return function(fn,t){for(var args=new Array(arguments.length),i=0;i<args.length;++i)args[i]=arguments[i];var url,fetchInput=args[0],method="GET";"string"==typeof fetchInput?url=fetchInput:(url=fetchInput.url,fetchInput.method&&(method=fetchInput.method)),args[1]&&args[1].method&&(method=args[1].method);var fetchData={method:method,url:url,status_code:null};return self.captureBreadcrumb({type:"http",category:"fetch",data:fetchData}),origFetch.apply(this,args).then(function(response){return fetchData.status_code=response.status,response})}},wrappedBuiltIns),autoBreadcrumbs.dom&&this._hasDocument&&(_document.addEventListener?(_document.addEventListener("click",self._breadcrumbEventHandler("click"),!1),_document.addEventListener("keypress",self._keypressEventHandler(),!1)):(_document.attachEvent("onclick",self._breadcrumbEventHandler("click")),_document.attachEvent("onkeypress",self._keypressEventHandler())));var chrome=_window.chrome,isChromePackagedApp=chrome&&chrome.app&&chrome.app.runtime,hasPushState=!isChromePackagedApp&&_window.history&&history.pushState;if(autoBreadcrumbs.location&&hasPushState){var oldOnPopState=_window.onpopstate;_window.onpopstate=function(){var currentHref=self._location.href;if(self._captureUrlChange(self._lastHref,currentHref),oldOnPopState)return oldOnPopState.apply(this,arguments)},fill(history,"pushState",function(origPushState){return function(){var url=arguments.length>2?arguments[2]:void 0;return url&&self._captureUrlChange(self._lastHref,url+""),origPushState.apply(this,arguments)}},wrappedBuiltIns)}if(autoBreadcrumbs.console&&"console"in _window&&console.log){var consoleMethodCallback=function(msg,data){self.captureBreadcrumb({message:msg,level:data.level,category:"console"})};each(["debug","info","warn","error","log"],function(_,level){wrapConsoleMethod(console,level,consoleMethodCallback)})}},_restoreBuiltIns:function(){for(var builtin;this._wrappedBuiltIns.length;){builtin=this._wrappedBuiltIns.shift();var obj=builtin[0],name=builtin[1],orig=builtin[2];obj[name]=orig}},_drainPlugins:function(){var self=this;each(this._plugins,function(_,plugin){var installer=plugin[0],args=plugin[1];installer.apply(self,[self].concat(args))})},_parseDSN:function(str){var m=dsnPattern.exec(str),dsn={},i=7;try{for(;i--;)dsn[dsnKeys[i]]=m[i]||""}catch(e){throw new RavenConfigError("Invalid DSN: "+str)}if(dsn.pass&&!this._globalOptions.allowSecretKey)throw new RavenConfigError("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return dsn},_getGlobalServer:function(uri){var globalServer="//"+uri.host+(uri.port?":"+uri.port:"");return uri.protocol&&(globalServer=uri.protocol+":"+globalServer),globalServer},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(stackInfo,options){var frames=this._prepareFrames(stackInfo,options);this._triggerEvent("handle",{stackInfo:stackInfo,options:options}),this._processException(stackInfo.name,stackInfo.message,stackInfo.url,stackInfo.lineno,frames,options)},_prepareFrames:function(stackInfo,options){var self=this,frames=[];if(stackInfo.stack&&stackInfo.stack.length&&(each(stackInfo.stack,function(i,stack){var frame=self._normalizeFrame(stack);frame&&frames.push(frame)}),options&&options.trimHeadFrames))for(var j=0;j<options.trimHeadFrames&&j<frames.length;j++)frames[j].in_app=!1;return frames=frames.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(frame){if(frame.url){var normalized={filename:frame.url,lineno:frame.line,colno:frame.column,function:frame.func||"?"};return normalized.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(normalized.filename)||/(Raven|TraceKit)\./.test(normalized.function)||/raven\.(min\.)?js$/.test(normalized.filename)),normalized}},_processException:function(type,message,fileurl,lineno,frames,options){var stacktrace;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(message))&&(message+="",frames&&frames.length?(fileurl=frames[0].filename||fileurl,frames.reverse(),stacktrace={frames:frames}):fileurl&&(stacktrace={frames:[{filename:fileurl,lineno:lineno,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(fileurl))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(fileurl)))){var data=objectMerge({exception:{values:[{type:type,value:message,stacktrace:stacktrace}]},culprit:fileurl},options);this._send(data)}},_trimPacket:function(data){var max=this._globalOptions.maxMessageLength;if(data.message&&(data.message=truncate(data.message,max)),data.exception){var exception=data.exception.values[0];exception.value=truncate(exception.value,max)}var request=data.request;return request&&(request.url&&(request.url=truncate(request.url,this._globalOptions.maxUrlLength)),request.Referer&&(request.Referer=truncate(request.Referer,this._globalOptions.maxUrlLength))),data.breadcrumbs&&data.breadcrumbs.values&&this._trimBreadcrumbs(data.breadcrumbs),data},_trimBreadcrumbs:function(breadcrumbs){for(var urlProp,crumb,data,urlProps=["to","from","url"],i=0;i<breadcrumbs.values.length;++i)if(crumb=breadcrumbs.values[i],crumb.hasOwnProperty("data")&&isObject(crumb.data)){data=crumb.data;for(var j=0;j<urlProps.length;++j)urlProp=urlProps[j],data.hasOwnProperty(urlProp)&&(data[urlProp]=truncate(data[urlProp],this._globalOptions.maxUrlLength))}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var httpData={};return this._hasNavigator&&_navigator.userAgent&&(httpData.headers={"User-Agent":navigator.userAgent}),this._hasDocument&&(_document.location&&_document.location.href&&(httpData.url=_document.location.href),_document.referrer&&(httpData.headers||(httpData.headers={}),httpData.headers.Referer=_document.referrer)),httpData}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&now()-this._backoffStart<this._backoffDuration},_isRepeatData:function(current){var last=this._lastData;return!(!last||current.message!==last.message||current.culprit!==last.culprit)&&(current.stacktrace||last.stacktrace?isSameStacktrace(current.stacktrace,last.stacktrace):!current.exception&&!last.exception||isSameException(current.exception,last.exception))},_setBackoffState:function(request){if(!this._shouldBackoff()){var status=request.status;if(400===status||401===status||429===status){var retry;try{retry=request.getResponseHeader("Retry-After"),retry=1e3*parseInt(retry,10)}catch(e){}this._backoffDuration=retry||(2*this._backoffDuration||1e3),this._backoffStart=now()}}},_send:function(data){var globalOptions=this._globalOptions,baseData={project:this._globalProject,logger:globalOptions.logger,platform:"javascript"},httpData=this._getHttpData();if(httpData&&(baseData.request=httpData),data.trimHeadFrames&&delete data.trimHeadFrames,data=objectMerge(baseData,data),data.tags=objectMerge(objectMerge({},this._globalContext.tags),data.tags),data.extra=objectMerge(objectMerge({},this._globalContext.extra),data.extra),data.extra["session:duration"]=now()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(data.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),isEmptyObject(data.tags)&&delete data.tags,this._globalContext.user&&(data.user=this._globalContext.user),globalOptions.environment&&(data.environment=globalOptions.environment),globalOptions.release&&(data.release=globalOptions.release),globalOptions.serverName&&(data.server_name=globalOptions.serverName),isFunction(globalOptions.dataCallback)&&(data=globalOptions.dataCallback(data)||data),data&&!isEmptyObject(data)&&(!isFunction(globalOptions.shouldSendCallback)||globalOptions.shouldSendCallback(data)))return this._shouldBackoff()?void this._logDebug("warn","Raven dropped error due to backoff: ",data):void("number"==typeof globalOptions.sampleRate?Math.random()<globalOptions.sampleRate&&this._sendProcessedPayload(data):this._sendProcessedPayload(data))},_getUuid:function(){return uuid4()},_sendProcessedPayload:function(data,callback){var self=this,globalOptions=this._globalOptions;if(this.isSetup()){if(this._lastEventId=data.event_id||(data.event_id=this._getUuid()),data=this._trimPacket(data),!this._globalOptions.allowDuplicates&&this._isRepeatData(data))return void this._logDebug("warn","Raven dropped repeat event: ",data);this._lastData=data,this._logDebug("debug","Raven about to send:",data);var auth={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(auth.sentry_secret=this._globalSecret);var exception=data.exception&&data.exception.values[0];this.captureBreadcrumb({category:"sentry",message:exception?(exception.type?exception.type+": ":"")+exception.value:data.message,event_id:data.event_id,level:data.level||"error"});var url=this._globalEndpoint;(globalOptions.transport||this._makeRequest).call(this,{url:url,auth:auth,data:data,options:globalOptions,onSuccess:function(){self._resetBackoff(),self._triggerEvent("success",{data:data,src:url}),callback&&callback()},onError:function(error){self._logDebug("error","Raven transport failed to send: ",error),error.request&&self._setBackoffState(error.request),self._triggerEvent("failure",{data:data,src:url}),error=error||new Error("Raven send failed (no additional details provided)"),callback&&callback(error)}})}},_makeRequest:function(opts){var request=new XMLHttpRequest;if("withCredentials"in request||"undefined"!=typeof XDomainRequest){var url=opts.url;"withCredentials"in request?request.onreadystatechange=function(){if(4===request.readyState)if(200===request.status)opts.onSuccess&&opts.onSuccess();else if(opts.onError){var err=new Error("Sentry error code: "+request.status);err.request=request,opts.onError(err)}}:(request=new XDomainRequest,url=url.replace(/^https?:/,""),opts.onSuccess&&(request.onload=opts.onSuccess),opts.onError&&(request.onerror=function(){var err=new Error("Sentry error code: XDomainRequest");err.request=request,opts.onError(err)})),request.open("POST",url+"?"+urlencode(opts.auth)),request.send(stringify(opts.data))}},_logDebug:function(level){this._originalConsoleMethods[level]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[level],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(key,context){isUndefined(context)?delete this._globalContext[key]:this._globalContext[key]=objectMerge(this._globalContext[key]||{},context)}};var objectPrototype=Object.prototype;"undefined"!=typeof __DEV__&&__DEV__&&(Raven.utils={isUndefined:isUndefined,isFunction:isFunction,isString:isString,isObject:isObject,isEmptyObject:isEmptyObject,isError:isError,each:each,objectMerge:objectMerge,truncate:truncate,hasKey:hasKey,joinRegExp:joinRegExp,urlencode:urlencode,uuid4:uuid4,htmlTreeAsString:htmlTreeAsString,htmlElementAsString:htmlElementAsString,parseUrl:parseUrl,fill:fill}),Raven.prototype.setUser=Raven.prototype.setUserContext,Raven.prototype.setReleaseContext=Raven.prototype.setRelease,module.exports=Raven}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){"use strict";(function(global){function getLocationHref(){return"undefined"==typeof document||void 0===document.location?"":document.location.href}var utils=__webpack_require__(218),TraceKit={collectWindowErrors:!0,debug:!1},_window="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},_slice=[].slice,UNKNOWN_FUNCTION="?",ERROR_TYPES_RE=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;TraceKit.report=function(){function subscribe(handler){installGlobalHandler(),handlers.push(handler)}function unsubscribe(handler){for(var i=handlers.length-1;i>=0;--i)handlers[i]===handler&&handlers.splice(i,1)}function unsubscribeAll(){uninstallGlobalHandler(),handlers=[]}function notifyHandlers(stack,isWindowError){var exception=null;if(!isWindowError||TraceKit.collectWindowErrors){for(var i in handlers)if(handlers.hasOwnProperty(i))try{handlers[i].apply(null,[stack].concat(_slice.call(arguments,2)))}catch(inner){exception=inner}if(exception)throw exception}}function traceKitWindowOnError(message,url,lineNo,colNo,ex){var stack=null;if(lastExceptionStack)TraceKit.computeStackTrace.augmentStackTraceWithInitialElement(lastExceptionStack,url,lineNo,message),processLastException();else if(ex&&utils.isError(ex))stack=TraceKit.computeStackTrace(ex),notifyHandlers(stack,!0);else{var groups,location={url:url,line:lineNo,column:colNo},name=void 0,msg=message;if("[object String]"==={}.toString.call(message)){var groups=message.match(ERROR_TYPES_RE);groups&&(name=groups[1],msg=groups[2])}location.func=UNKNOWN_FUNCTION,stack={name:name,message:msg,url:getLocationHref(),stack:[location]},notifyHandlers(stack,!0)}return!!_oldOnerrorHandler&&_oldOnerrorHandler.apply(this,arguments)}function installGlobalHandler(){_onErrorHandlerInstalled||(_oldOnerrorHandler=_window.onerror,_window.onerror=traceKitWindowOnError,_onErrorHandlerInstalled=!0)}function uninstallGlobalHandler(){_onErrorHandlerInstalled&&(_window.onerror=_oldOnerrorHandler,_onErrorHandlerInstalled=!1,_oldOnerrorHandler=void 0)}function processLastException(){var _lastExceptionStack=lastExceptionStack,_lastArgs=lastArgs;lastArgs=null,lastExceptionStack=null,lastException=null,notifyHandlers.apply(null,[_lastExceptionStack,!1].concat(_lastArgs))}function report(ex,rethrow){var args=_slice.call(arguments,1);if(lastExceptionStack){if(lastException===ex)return;processLastException()}var stack=TraceKit.computeStackTrace(ex);if(lastExceptionStack=stack,lastException=ex,lastArgs=args,setTimeout(function(){lastException===ex&&processLastException()},stack.incomplete?2e3:0),!1!==rethrow)throw ex}var _oldOnerrorHandler,_onErrorHandlerInstalled,handlers=[],lastArgs=null,lastException=null,lastExceptionStack=null;return report.subscribe=subscribe,report.unsubscribe=unsubscribe,report.uninstall=unsubscribeAll,report}(),TraceKit.computeStackTrace=function(){function computeStackTraceFromStackProp(ex){if(void 0!==ex.stack&&ex.stack){for(var submatch,parts,element,chrome=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gecko=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,winjs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,geckoEval=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,chromeEval=/\((\S*)(?::(\d+))(?::(\d+))\)/,lines=ex.stack.split("\n"),stack=[],i=(/^(.*) is undefined$/.exec(ex.message),0),j=lines.length;i<j;++i){if(parts=chrome.exec(lines[i])){var isNative=parts[2]&&0===parts[2].indexOf("native"),isEval=parts[2]&&0===parts[2].indexOf("eval");isEval&&(submatch=chromeEval.exec(parts[2]))&&(parts[2]=submatch[1],parts[3]=submatch[2],parts[4]=submatch[3]),element={url:isNative?null:parts[2],func:parts[1]||UNKNOWN_FUNCTION,args:isNative?[parts[2]]:[],line:parts[3]?+parts[3]:null,column:parts[4]?+parts[4]:null}}else if(parts=winjs.exec(lines[i]))element={url:parts[2],func:parts[1]||UNKNOWN_FUNCTION,args:[],line:+parts[3],column:parts[4]?+parts[4]:null};else{if(!(parts=gecko.exec(lines[i])))continue;var isEval=parts[3]&&parts[3].indexOf(" > eval")>-1;isEval&&(submatch=geckoEval.exec(parts[3]))?(parts[3]=submatch[1],parts[4]=submatch[2],parts[5]=null):0!==i||parts[5]||void 0===ex.columnNumber||(stack[0].column=ex.columnNumber+1),element={url:parts[3],func:parts[1]||UNKNOWN_FUNCTION,args:parts[2]?parts[2].split(","):[],line:parts[4]?+parts[4]:null,column:parts[5]?+parts[5]:null}}!element.func&&element.line&&(element.func=UNKNOWN_FUNCTION),stack.push(element)}return stack.length?{name:ex.name,message:ex.message,url:getLocationHref(),stack:stack}:null}}function augmentStackTraceWithInitialElement(stackInfo,url,lineNo,message){var initial={url:url,line:lineNo};if(initial.url&&initial.line){if(stackInfo.incomplete=!1,initial.func||(initial.func=UNKNOWN_FUNCTION),stackInfo.stack.length>0&&stackInfo.stack[0].url===initial.url){if(stackInfo.stack[0].line===initial.line)return!1;if(!stackInfo.stack[0].line&&stackInfo.stack[0].func===initial.func)return stackInfo.stack[0].line=initial.line,!1}return stackInfo.stack.unshift(initial),stackInfo.partial=!0,!0}return stackInfo.incomplete=!0,!1}function computeStackTraceByWalkingCallerChain(ex,depth){for(var parts,item,functionName=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,stack=[],funcs={},recursion=!1,curr=computeStackTraceByWalkingCallerChain.caller;curr&&!recursion;curr=curr.caller)if(curr!==computeStackTrace&&curr!==TraceKit.report){if(item={url:null,func:UNKNOWN_FUNCTION,line:null,column:null},curr.name?item.func=curr.name:(parts=functionName.exec(curr.toString()))&&(item.func=parts[1]),void 0===item.func)try{item.func=parts.input.substring(0,parts.input.indexOf("{"))}catch(e){}funcs[""+curr]?recursion=!0:funcs[""+curr]=!0,stack.push(item)}depth&&stack.splice(0,depth);var result={name:ex.name,message:ex.message,url:getLocationHref(),stack:stack};return augmentStackTraceWithInitialElement(result,ex.sourceURL||ex.fileName,ex.line||ex.lineNumber,ex.message||ex.description),result}function computeStackTrace(ex,depth){var stack=null;depth=null==depth?0:+depth;try{if(stack=computeStackTraceFromStackProp(ex))return stack}catch(e){if(TraceKit.debug)throw e}try{if(stack=computeStackTraceByWalkingCallerChain(ex,depth+1))return stack}catch(e){if(TraceKit.debug)throw e}return{name:ex.name,message:ex.message,url:getLocationHref()}}return computeStackTrace.augmentStackTraceWithInitialElement=augmentStackTraceWithInitialElement,computeStackTrace.computeStackTraceFromStackProp=computeStackTraceFromStackProp,computeStackTrace}(),module.exports=TraceKit}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){"use strict";function indexOf(haystack,needle){for(var i=0;i<haystack.length;++i)if(haystack[i]===needle)return i;return-1}function stringify(obj,replacer,spaces,cycleReplacer){return JSON.stringify(obj,serializer(replacer,cycleReplacer),spaces)}function serializer(replacer,cycleReplacer){var stack=[],keys=[];return null==cycleReplacer&&(cycleReplacer=function(key,value){return stack[0]===value?"[Circular ~]":"[Circular ~."+keys.slice(0,indexOf(stack,value)).join(".")+"]"}),function(key,value){if(stack.length>0){var thisPos=indexOf(stack,this);~thisPos?stack.splice(thisPos+1):stack.push(this),~thisPos?keys.splice(thisPos,1/0,key):keys.push(key),~indexOf(stack,value)&&(value=cycleReplacer.call(this,key,value))}else stack.push(value);return null==replacer?value:replacer.call(this,key,value)}}exports=module.exports=stringify,exports.getSerialize=serializer},function(module,exports,__webpack_require__){module.exports=__webpack_require__(28)},function(module,exports,__webpack_require__){"use strict";function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}module.exports=PassThrough;var Transform=__webpack_require__(220),util=__webpack_require__(45);util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){"use strict";function BufferList(){this.head=null,this.tail=null,this.length=0}var bufferShim=(__webpack_require__(0).Buffer,__webpack_require__(85));module.exports=BufferList,BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return bufferShim.alloc(0);if(1===this.length)return this.head.data;for(var ret=bufferShim.allocUnsafe(n>>>0),p=this.head,i=0;p;)p.data.copy(ret,i),i+=p.data.length,p=p.next;return ret}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(121).PassThrough},function(module,exports,__webpack_require__){module.exports=__webpack_require__(121).Transform},function(module,exports,__webpack_require__){module.exports=__webpack_require__(120)},function(module,exports,__webpack_require__){"use strict";module.exports=function(port,protocol){if(protocol=protocol.split(":")[0],!(port=+port))return!1;switch(protocol){case"http":case"ws":return 80!==port;case"https":case"wss":return 443!==port;case"ftp":return 21!==port;case"gopher":return 70!==port;case"file":return!1}return 0!==port}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(616)},function(module,exports,__webpack_require__){var RetryOperation=__webpack_require__(617);exports.operation=function(options){var timeouts=exports.timeouts(options);return new RetryOperation(timeouts)},exports.timeouts=function(options){if(options instanceof Array)return[].concat(options);var opts={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var key in options)opts[key]=options[key];if(opts.minTimeout>opts.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var timeouts=[],i=0;i<opts.retries;i++)timeouts.push(this._createTimeout(i,opts));return timeouts.sort(function(a,b){return a-b}),timeouts},exports._createTimeout=function(attempt,opts){var random=opts.randomize?Math.random()+1:1,timeout=Math.round(random*opts.minTimeout*Math.pow(opts.factor,attempt));return timeout=Math.min(timeout,opts.maxTimeout)}},function(module,exports){function RetryOperation(timeouts){this._timeouts=timeouts,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null}module.exports=RetryOperation,RetryOperation.prototype.retry=function(err){if(this._timeout&&clearTimeout(this._timeout),!err)return!1;this._errors.push(err);var timeout=this._timeouts.shift();if(void 0===timeout)return!1;this._attempts++;var self=this;return setTimeout(function(){self._fn(self._attempts),self._operationTimeoutCb&&(self._timeout=setTimeout(function(){self._operationTimeoutCb(self._attempts)},self._operationTimeout))},timeout),!0},RetryOperation.prototype.attempt=function(fn,timeoutOps){this._fn=fn,timeoutOps&&(timeoutOps.timeout&&(this._operationTimeout=timeoutOps.timeout),timeoutOps.cb&&(this._operationTimeoutCb=timeoutOps.cb)),this._fn(this._attempts);var self=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){self._operationTimeoutCb()},self._operationTimeout))},RetryOperation.prototype.try=function(fn){console.log("Using RetryOperation.try() is deprecated"),this.attempt(fn)},RetryOperation.prototype.start=function(fn){console.log("Using RetryOperation.start() is deprecated"),this.attempt(fn)},RetryOperation.prototype.start=RetryOperation.prototype.try,RetryOperation.prototype.errors=function(){return this._errors},RetryOperation.prototype.attempts=function(){return this._attempts},RetryOperation.prototype.mainError=function(){if(0===this._errors.length)return null;for(var counts={},mainError=null,mainErrorCount=0,i=0;i<this._errors.length;i++){var error=this._errors[i],message=error.message,count=(counts[message]||0)+1;counts[message]=count,count>=mainErrorCount&&(mainError=error,mainErrorCount=count)}return mainError}},function(module,exports,__webpack_require__){(function(Buffer){function bytesToWords(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words}function wordsToBytes(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes}function processBlock(H,M,offset){for(var i=0;i<16;i++){var offset_i=offset+i,M_offset_i=M[offset_i];M[offset_i]=16711935&(M_offset_i<<8|M_offset_i>>>24)|4278255360&(M_offset_i<<24|M_offset_i>>>8)}var al,bl,cl,dl,el,ar,br,cr,dr,er;ar=al=H[0],br=bl=H[1],cr=cl=H[2],dr=dl=H[3],er=el=H[4];var t;for(i=0;i<80;i+=1)t=al+M[offset+zl[i]]|0,t+=i<16?f1(bl,cl,dl)+hl[0]:i<32?f2(bl,cl,dl)+hl[1]:i<48?f3(bl,cl,dl)+hl[2]:i<64?f4(bl,cl,dl)+hl[3]:f5(bl,cl,dl)+hl[4],t|=0,t=rotl(t,sl[i]),t=t+el|0,al=el,el=dl,dl=rotl(cl,10),cl=bl,bl=t,t=ar+M[offset+zr[i]]|0,t+=i<16?f5(br,cr,dr)+hr[0]:i<32?f4(br,cr,dr)+hr[1]:i<48?f3(br,cr,dr)+hr[2]:i<64?f2(br,cr,dr)+hr[3]:f1(br,cr,dr)+hr[4],t|=0,t=rotl(t,sr[i]),t=t+er|0,ar=er,er=dr,dr=rotl(cr,10),cr=br,br=t;t=H[1]+cl+dr|0,H[1]=H[2]+dl+er|0,H[2]=H[3]+el+ar|0,H[3]=H[4]+al+br|0,H[4]=H[0]+bl+cr|0,H[0]=t}function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}function ripemd160(message){var H=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof message&&(message=new Buffer(message,"utf8"));var m=bytesToWords(message),nBitsLeft=8*message.length,nBitsTotal=8*message.length;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,m[14+(nBitsLeft+64>>>9<<4)]=16711935&(nBitsTotal<<8|nBitsTotal>>>24)|4278255360&(nBitsTotal<<24|nBitsTotal>>>8);for(var i=0;i<m.length;i+=16)processBlock(H,m,i);for(i=0;i<5;i++){var H_i=H[i];H[i]=16711935&(H_i<<8|H_i>>>24)|4278255360&(H_i<<24|H_i>>>8)}var digestbytes=wordsToBytes(H);return new Buffer(digestbytes)}var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];module.exports=ripemd160}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";function setImmediate(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{run(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?function(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}():function(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?function(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}():global.MessageChannel?function(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}():doc&&"onreadystatechange"in doc.createElement("script")?function(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}():function(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}(),attachTo.setImmediate=setImmediate,attachTo.clearImmediate=clearImmediate}}("undefined"==typeof self?void 0===global?this:global:self)}).call(exports,__webpack_require__(4),__webpack_require__(7))},function(module,exports,__webpack_require__){var exports=module.exports=function(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm};exports.sha=__webpack_require__(621),exports.sha1=__webpack_require__(622),exports.sha224=__webpack_require__(623),exports.sha256=__webpack_require__(222),exports.sha384=__webpack_require__(624),exports.sha512=__webpack_require__(223)},function(module,exports,__webpack_require__){(function(Buffer){function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}var inherits=__webpack_require__(2),Hash=__webpack_require__(38),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=W[i-3]^W[i-8]^W[i-14]^W[i-16];for(var j=0;j<80;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha.prototype._hash=function(){var H=new Buffer(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl1(num){return num<<1|num>>>31}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}var inherits=__webpack_require__(2),Hash=__webpack_require__(38),K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(M){for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=rotl1(W[i-3]^W[i-8]^W[i-14]^W[i-16]);for(var j=0;j<80;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha1.prototype._hash=function(){var H=new Buffer(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha1}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}var inherits=__webpack_require__(2),Sha256=__webpack_require__(222),Hash=__webpack_require__(38),W=new Array(64);inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var H=new Buffer(28);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H},module.exports=Sha224}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}var inherits=__webpack_require__(2),SHA512=__webpack_require__(223),Hash=__webpack_require__(38),W=new Array(160);inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(48);return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),H},module.exports=Sha384}).call(exports,__webpack_require__(0).Buffer)},function(module,exports,__webpack_require__){(function(process,module){function Step(){function next(){if(counter=pending=0,0!==steps.length){var fn=steps.shift();results=[];try{lock=!0;var result=fn.apply(next,arguments)}catch(e){next(e)}counter>0&&0==pending?next.apply(null,results):void 0!==result&&next(void 0,result),lock=!1}else if(arguments[0])throw arguments[0]}var pending,counter,results,lock,steps=Array.prototype.slice.call(arguments);next.parallel=function(){var index=1+counter++;return pending++,function(){pending--,arguments[0]&&(results[0]=arguments[0]),results[index]=arguments[1],lock||0!==pending||next.apply(null,results)}},next.group=function(){function check(){0===pending&&localCallback(error,result)}var localCallback=next.parallel(),counter=0,pending=0,result=[],error=void 0;return process.nextTick(check),function(){var index=counter++;return pending++,function(){pending--,arguments[0]&&(error=arguments[0]),result[index]=arguments[1],lock||check()}}},next()}Step.fn=function(){var steps=Array.prototype.slice.call(arguments);return function(){var args=Array.prototype.slice.call(arguments),toRun=[function(){this.apply(null,args)}].concat(steps);"function"==typeof args[args.length-1]&&toRun.push(args.pop()),Step.apply(null,toRun)}},void 0!==module&&"exports"in module&&(module.exports=Step)}).call(exports,__webpack_require__(7),__webpack_require__(29)(module))},function(module,exports,__webpack_require__){var engine=__webpack_require__(629),storages=__webpack_require__(630),plugins=[__webpack_require__(627)];module.exports=engine.createStore(storages,plugins)},function(module,exports,__webpack_require__){function json2Plugin(){return __webpack_require__(628),{}}module.exports=json2Plugin},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}function quote(string){return rx_escapable.lastIndex=0,rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;i<length;i+=1)"string"==typeof rep[i]&&(k=rep[i],(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(module,exports,__webpack_require__){function createStore(storages,plugins){var _privateStoreProps={_seenPlugins:[],_namespacePrefix:"",_namespaceRegexp:null,_legalNamespace:/^[a-zA-Z0-9_\-]+$/,_storage:function(){if(!this.enabled)throw new Error("store.js: No supported storage has been added! Add one (e.g store.addStorage(require('store/storages/cookieStorage')) or use a build with more built-in storages (e.g https://github.com/marcuswestin/store.js/tree/master/dist/store.legacy.min.js)");return this._storage.resolved},_testStorage:function(storage){try{var testStr="__storejs__test__";storage.write(testStr,testStr);var ok=storage.read(testStr)===testStr;return storage.remove(testStr),ok}catch(e){return!1}},_assignPluginFnProp:function(pluginFnProp,propName){var oldFn=this[propName];this[propName]=function(){function super_fn(){if(oldFn)return each(arguments,function(arg,i){args[i]=arg}),oldFn.apply(self,args)}var args=slice(arguments,0),self=this,newFnArgs=[super_fn].concat(args);return pluginFnProp.apply(self,newFnArgs)}},_serialize:function(obj){return JSON.stringify(obj)},_deserialize:function(strVal,defaultVal){if(!strVal)return defaultVal;var val="";try{val=JSON.parse(strVal)}catch(e){val=strVal}return void 0!==val?val:defaultVal}},store=create(_privateStoreProps,storeAPI);return each(storages,function(storage){store.addStorage(storage)}),each(plugins,function(plugin){store.addPlugin(plugin)}),store}var util=__webpack_require__(39),slice=util.slice,pluck=util.pluck,each=util.each,create=util.create,isList=util.isList,isFunction=util.isFunction,isObject=util.isObject;module.exports={createStore:createStore};var storeAPI={version:"2.0.4",enabled:!1,storage:null,addStorage:function(storage){this.enabled||this._testStorage(storage)&&(this._storage.resolved=storage,this.enabled=!0,this.storage=storage.name)},addPlugin:function(plugin){var self=this;if(isList(plugin))return void each(plugin,function(plugin){self.addPlugin(plugin)});if(!pluck(this._seenPlugins,function(seenPlugin){return plugin===seenPlugin})){if(this._seenPlugins.push(plugin),!isFunction(plugin))throw new Error("Plugins must be function values that return objects");var pluginProperties=plugin.call(this);if(!isObject(pluginProperties))throw new Error("Plugins must return an object of function properties");each(pluginProperties,function(pluginFnProp,propName){if(!isFunction(pluginFnProp))throw new Error("Bad plugin property: "+propName+" from plugin "+plugin.name+". Plugins should only return functions.");self._assignPluginFnProp(pluginFnProp,propName)})}},get:function(key,optionalDefaultValue){var data=this._storage().read(this._namespacePrefix+key);return this._deserialize(data,optionalDefaultValue)},set:function(key,value){return void 0===value?this.remove(key):(this._storage().write(this._namespacePrefix+key,this._serialize(value)),value)},remove:function(key){this._storage().remove(this._namespacePrefix+key)},each:function(callback){var self=this;this._storage().each(function(val,namespacedKey){callback(self._deserialize(val),namespacedKey.replace(self._namespaceRegexp,""))})},clearAll:function(){this._storage().clearAll()},hasNamespace:function(namespace){return this._namespacePrefix=="__storejs_"+namespace+"_"},namespace:function(namespace){if(!this._legalNamespace.test(namespace))throw new Error("store.js namespaces can only have alhpanumerics + underscores and dashes");var namespacePrefix="__storejs_"+namespace+"_";return create(this,{_namespacePrefix:namespacePrefix,_namespaceRegexp:namespacePrefix?new RegExp("^"+namespacePrefix):null})},createStore:function(storages,plugins){return createStore(storages,plugins)}}},function(module,exports,__webpack_require__){module.exports={localStorage:__webpack_require__(632),"oldFF-globalStorage":__webpack_require__(634),"oldIE-userDataStorage":__webpack_require__(635),cookieStorage:__webpack_require__(631),sessionStorage:__webpack_require__(636),memoryStorage:__webpack_require__(633)}},function(module,exports,__webpack_require__){function read(key){if(!key||!_has(key))return null;var regexpStr="(?:^|.*;\\s*)"+escape(key).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(doc.cookie.replace(new RegExp(regexpStr),"$1"))}function each(callback){for(var cookies=doc.cookie.split(/; ?/g),i=cookies.length-1;i>=0;i--)if(trim(cookies[i])){var kvp=cookies[i].split("="),key=unescape(kvp[0]),val=unescape(kvp[1]);callback(val,key)}}function write(key,data){key&&(doc.cookie=escape(key)+"="+escape(data)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function remove(key){key&&_has(key)&&(doc.cookie=escape(key)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function clearAll(){each(function(_,key){remove(key)})}function _has(key){return new RegExp("(?:^|;\\s*)"+escape(key).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(doc.cookie)}var util=__webpack_require__(39),Global=util.Global,trim=util.trim;module.exports={name:"cookieStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll};var doc=Global.document},function(module,exports,__webpack_require__){function localStorage(){return Global.localStorage}function read(key){return localStorage().getItem(key)}function write(key,data){return localStorage().setItem(key,data)}function each(fn){for(var i=localStorage().length-1;i>=0;i--){var key=localStorage().key(i);fn(read(key),key)}}function remove(key){return localStorage().removeItem(key)}function clearAll(){return localStorage().clear()}var util=__webpack_require__(39),Global=util.Global;module.exports={name:"localStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll}},function(module,exports){function read(key){return memoryStorage[key]}function write(key,data){memoryStorage[key]=data}function each(callback){for(var key in memoryStorage)memoryStorage.hasOwnProperty(key)&&callback(memoryStorage[key],key)}function remove(key){delete memoryStorage[key]}function clearAll(key){memoryStorage={}}module.exports={name:"memoryStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll};var memoryStorage={}},function(module,exports,__webpack_require__){function read(key){return globalStorage[key]}function write(key,data){globalStorage[key]=data}function each(fn){for(var i=globalStorage.length-1;i>=0;i--){var key=globalStorage.key(i);fn(globalStorage[key],key)}}function remove(key){return globalStorage.removeItem(key)}function clearAll(){each(function(key,_){delete globalStorage[key]})}var util=__webpack_require__(39),Global=util.Global;module.exports={name:"oldFF-globalStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll};var globalStorage=Global.globalStorage},function(module,exports,__webpack_require__){function write(unfixedKey,data){if(!disable){var fixedKey=fixKey(unfixedKey);_withStorageEl(function(storageEl){storageEl.setAttribute(fixedKey,data),storageEl.save(storageName)})}}function read(unfixedKey){if(!disable){var fixedKey=fixKey(unfixedKey),res=null;return _withStorageEl(function(storageEl){res=storageEl.getAttribute(fixedKey)}),res}}function each(callback){_withStorageEl(function(storageEl){for(var attributes=storageEl.XMLDocument.documentElement.attributes,i=attributes.length-1;i>=0;i--){var attr=attributes[i];callback(storageEl.getAttribute(attr.name),attr.name)}})}function remove(unfixedKey){var fixedKey=fixKey(unfixedKey);_withStorageEl(function(storageEl){storageEl.removeAttribute(fixedKey),storageEl.save(storageName)})}function clearAll(){_withStorageEl(function(storageEl){var attributes=storageEl.XMLDocument.documentElement.attributes;storageEl.load(storageName);for(var i=attributes.length-1;i>=0;i--)storageEl.removeAttribute(attributes[i].name);storageEl.save(storageName)})}function fixKey(key){return key.replace(/^\d/,"___$&").replace(forbiddenCharsRegex,"___")}var util=__webpack_require__(39),Global=util.Global;module.exports={name:"oldIE-userDataStorage",write:write,read:read,each:each,remove:remove,clearAll:clearAll};var storageName="storejs",doc=Global.document,_withStorageEl=function(){if(!doc||!doc.documentElement||!doc.documentElement.addBehavior)return null;var storageOwner,storageContainer,storageEl;try{storageContainer=new ActiveXObject("htmlfile"),storageContainer.open(),storageContainer.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),storageContainer.close(),storageOwner=storageContainer.w.frames[0].document,storageEl=storageOwner.createElement("div")}catch(e){storageEl=doc.createElement("div"),storageOwner=doc.body}return function(storeFunction){var args=[].slice.call(arguments,0);args.unshift(storageEl),storageOwner.appendChild(storageEl),storageEl.addBehavior("#default#userData"),storageEl.load(storageName),storeFunction.apply(this,args),storageOwner.removeChild(storageEl)}}(),disable=(Global.navigator?Global.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),forbiddenCharsRegex=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},function(module,exports,__webpack_require__){function sessionStorage(){return Global.sessionStorage}function read(key){return sessionStorage().getItem(key)}function write(key,data){return sessionStorage().setItem(key,data)}function each(fn){for(var i=sessionStorage().length-1;i>=0;i--){var key=sessionStorage().key(i);fn(read(key),key)}}function remove(key){return sessionStorage().removeItem(key)}function clearAll(){return sessionStorage().clear()}var util=__webpack_require__(39),Global=util.Global;module.exports={name:"sessionStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll}},function(module,exports,__webpack_require__){function isFunction(fn){return"[object Function]"===(isObject(fn)?Object.prototype.toString.call(fn):"")}var isObject=__webpack_require__(123);module.exports=isFunction},function(module,exports,__webpack_require__){function RequestBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in RequestBase.prototype)obj[key]=RequestBase.prototype[key];return obj}var isObject=__webpack_require__(123);module.exports=RequestBase,RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},RequestBase.prototype.parse=function(fn){return this._parser=fn,this},RequestBase.prototype.responseType=function(val){return this._responseType=val,this},RequestBase.prototype.serialize=function(fn){return this._serializer=fn,this},RequestBase.prototype.timeout=function(options){if(!options||"object"!=typeof options)return this._timeout=options,this._responseTimeout=0,this;for(var option in options)switch(option){case"deadline":this._timeout=options.deadline;break;case"response":this._responseTimeout=options.response;break;default:console.warn("Unknown timeout option",option)}return this},RequestBase.prototype.retry=function(count){return 0!==arguments.length&&!0!==count||(count=1),count<=0&&(count=0),this._maxRetries=count,this._retries=0,this},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},RequestBase.prototype.then=function(resolve,reject){if(!this._fullfilledPromise){var self=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(innerResolve,innerReject){self.end(function(err,res){err?innerReject(err):innerResolve(res)})})}return this._fullfilledPromise.then(resolve,reject)},RequestBase.prototype.catch=function(cb){return this.then(void 0,cb)},RequestBase.prototype.use=function(fn){return fn(this),this},RequestBase.prototype.ok=function(cb){if("function"!=typeof cb)throw Error("Callback required");return this._okCallback=cb,this},RequestBase.prototype._isResponseOK=function(res){return!!res&&(this._okCallback?this._okCallback(res):res.status>=200&&res.status<300)},RequestBase.prototype.get=function(field){return this._header[field.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(field,val){if(isObject(field)){for(var key in field)this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=val,this.header[field]=val,this},RequestBase.prototype.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},RequestBase.prototype.field=function(name,val){if(null===name||void 0===name)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),isObject(name)){for(var key in name)this.field(key,name[key]);return this}if(Array.isArray(val)){for(var i in val)this.field(name,val[i]);return this}if(null===val||void 0===val)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof val&&(val=""+val),this._getFormData().append(name,val),this},RequestBase.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},RequestBase.prototype.withCredentials=function(on){return void 0==on&&(on=!0),this._withCredentials=on,this},RequestBase.prototype.redirects=function(n){return this._maxRedirects=n,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(data){var isObj=isObject(data),type=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),isObj&&!this._data)Array.isArray(data)?this._data=[]:this._isHost(data)||(this._data={});else if(data&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(isObj&&isObject(this._data))for(var key in data)this._data[key]=data[key];else"string"==typeof data?(type||this.type("form"),type=this._header["content-type"],this._data="application/x-www-form-urlencoded"==type?this._data?this._data+"&"+data:data:(this._data||"")+data):this._data=data;return!isObj||this._isHost(data)?this:(type||this.type("json"),this)},RequestBase.prototype.sortQuery=function(sort){return this._sort=void 0===sort||sort,this},RequestBase.prototype._timeoutError=function(reason,timeout,errno){if(!this._aborted){var err=new Error(reason+timeout+"ms exceeded");err.timeout=timeout,err.code="ECONNABORTED",err.errno=errno,this.timedout=!0,this.abort(),this.callback(err)}},RequestBase.prototype._setTimeouts=function(){var self=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){self._timeoutError("Timeout of ",self._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){self._timeoutError("Response timeout of ",self._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(module,exports,__webpack_require__){function ResponseBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in ResponseBase.prototype)obj[key]=ResponseBase.prototype[key];return obj}var utils=__webpack_require__(641);module.exports=ResponseBase,ResponseBase.prototype.get=function(field){return this.header[field.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(header){var ct=header["content-type"]||"";this.type=utils.type(ct);var params=utils.params(ct);for(var key in params)this[key]=params[key];this.links={};try{header.link&&(this.links=utils.parseLinks(header.link))}catch(err){}},ResponseBase.prototype._setStatusProperties=function(status){var type=status/100|0;this.status=this.statusCode=status,this.statusType=type,this.info=1==type,this.ok=2==type,this.redirect=3==type,this.clientError=4==type,this.serverError=5==type,this.error=(4==type||5==type)&&this.toError(),this.accepted=202==status,this.noContent=204==status,this.badRequest=400==status,this.unauthorized=401==status,this.notAcceptable=406==status,this.forbidden=403==status,this.notFound=404==status}},function(module,exports){var ERROR_CODES=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];module.exports=function(err,res){return!!(err&&err.code&&~ERROR_CODES.indexOf(err.code))||(!!(res&&res.status&&res.status>=500)||(!!(err&&"timeout"in err&&"ECONNABORTED"==err.code)||!!(err&&"crossDomain"in err)))}},function(module,exports){exports.type=function(str){return str.split(/ *; */).shift()},exports.params=function(str){return str.split(/ *; */).reduce(function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();return key&&val&&(obj[key]=val),obj},{})},exports.parseLinks=function(str){return str.split(/ *, */).reduce(function(obj,str){var parts=str.split(/ *; */),url=parts[0].slice(1,-1);return obj[parts[1].split(/ *= */)[1].slice(1,-1)]=url,obj},{})},exports.cleanHeader=function(header,shouldStripCookie){return delete header["content-type"],delete header["content-length"],delete header["transfer-encoding"],delete header.host,shouldStripCookie&&delete header.cookie,header}},function(module,exports,__webpack_require__){var Hoek=__webpack_require__(9),internals={};module.exports=internals.Topo=function(){this._items=[],this.nodes=[]},internals.Topo.prototype.add=function(nodes,options){var self=this;options=options||{};var before=[].concat(options.before||[]),after=[].concat(options.after||[]),group=options.group||"?",sort=options.sort||0;Hoek.assert(-1===before.indexOf(group),"Item cannot come before itself:",group),Hoek.assert(-1===before.indexOf("?"),"Item cannot come before unassociated items"),Hoek.assert(-1===after.indexOf(group),"Item cannot come after itself:",group),Hoek.assert(-1===after.indexOf("?"),"Item cannot come after unassociated items"),[].concat(nodes).forEach(function(node,i){var item={seq:self._items.length,sort:sort,before:before,after:after,group:group,node:node};self._items.push(item)});var error=this._sort();return Hoek.assert(!error,"item","?"!==group?"added into group "+group:"","created a dependencies error"),this.nodes},internals.Topo.prototype.merge=function(others){others=[].concat(others);for(var o=0,ol=others.length;o<ol;++o){var other=others[o];if(other)for(var i=0,il=other._items.length;i<il;++i){var item=Hoek.shallow(other._items[i]);this._items.push(item)}}for(this._items.sort(internals.mergeSort),i=0,il=this._items.length;i<il;++i)this._items[i].seq=i;var error=this._sort();return Hoek.assert(!error,"merge created a dependencies error"),this.nodes},internals.mergeSort=function(a,b){return a.sort===b.sort?0:a.sort<b.sort?-1:1},internals.Topo.prototype._sort=function(){for(var groups={},graph={},graphAfters={},i=0,il=this._items.length;i<il;++i){var item=this._items[i],seq=item.seq,group=item.group;groups[group]=groups[group]||[],groups[group].push(seq),graph[seq]=item.before;for(var after=item.after,j=0,jl=after.length;j<jl;++j)graphAfters[after[j]]=(graphAfters[after[j]]||[]).concat(seq)}var graphNodes=Object.keys(graph);for(i=0,il=graphNodes.length;i<il;++i){var node=graphNodes[i],expandedGroups=[],graphNodeItems=Object.keys(graph[node]);for(j=0,jl=graphNodeItems.length;j<jl;++j){group=graph[node][graphNodeItems[j]],groups[group]=groups[group]||[];for(var k=0,kl=groups[group].length;k<kl;++k)expandedGroups.push(groups[group][k])}graph[node]=expandedGroups}var afterNodes=Object.keys(graphAfters);for(i=0,il=afterNodes.length;i<il;++i)if(group=afterNodes[i],groups[group])for(j=0,jl=groups[group].length;j<jl;++j)node=groups[group][j],graph[node]=graph[node].concat(graphAfters[group]);var children,ancestors={};for(graphNodes=Object.keys(graph),i=0,il=graphNodes.length;i<il;++i)for(node=graphNodes[i],children=graph[node],j=0,jl=children.length;j<jl;++j)ancestors[children[j]]=(ancestors[children[j]]||[]).concat(node);var visited={},sorted=[];for(i=0,il=this._items.length;i<il;++i){var next=i;if(ancestors[i])for(next=null,j=0,jl=this._items.length;j<jl;++j)if(!0!==visited[j]){ancestors[j]||(ancestors[j]=[]);for(var shouldSeeCount=ancestors[j].length,seenCount=0,l=0,ll=shouldSeeCount;l<ll;++l)sorted.indexOf(ancestors[j][l])>=0&&++seenCount;if(seenCount===shouldSeeCount){next=j;break}}null!==next&&(next=next.toString(),visited[next]=!0,sorted.push(next))}if(sorted.length!==this._items.length)return new Error("Invalid dependencies");var seqIndex={};for(i=0,il=this._items.length;i<il;++i)item=this._items[i],seqIndex[item.seq]=item;var sortedNodes=[];this._items=sorted.map(function(value){var sortedItem=seqIndex[value];return sortedNodes.push(sortedItem.node),sortedItem}),this.nodes=sortedNodes}},function(module,exports,__webpack_require__){"use strict";(function(global){var URL,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,ignore={hash:1,query:1};module.exports=function(loc){loc=loc||global.location||{},URL=URL||__webpack_require__(124);var key,finaldestination={},type=typeof loc;if("blob:"===loc.protocol)finaldestination=new URL(unescape(loc.pathname),{});else if("string"===type){finaldestination=new URL(loc,{});for(key in ignore)delete finaldestination[key]}else if("object"===type){for(key in loc)key in ignore||(finaldestination[key]=loc[key]);void 0===finaldestination.slashes&&(finaldestination.slashes=slashes.test(loc.href))}return finaldestination}}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){(function(global){function deprecate(fn,msg){function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}if(config("noDeprecation"))return fn;var warned=!1;return deprecated}function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=deprecate}).call(exports,__webpack_require__(4))},function(module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},function(module,exports,__webpack_require__){var v1=__webpack_require__(647),v4=__webpack_require__(648),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},function(module,exports,__webpack_require__){function v1(options,buf,offset){var i=buf&&offset||0,b=buf||[];options=options||{};var clockseq=void 0!==options.clockseq?options.clockseq:_clockseq,msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq,msecs+=122192928e5;var tl=(1e4*(268435455&msecs)+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var node=options.node||_nodeId,n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}var rng=__webpack_require__(227),bytesToUuid=__webpack_require__(226),_seedBytes=rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0;module.exports=v1},function(module,exports,__webpack_require__){function v4(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"==options?new Array(16):null,options=null),options=options||{};var rnds=options.random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}var rng=__webpack_require__(227),bytesToUuid=__webpack_require__(226);module.exports=v4},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(481),Object_keys=function(obj){if(Object.keys)return Object.keys(obj);var res=[];for(var key in obj)res.push(key);return res},forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);for(var i=0;i<xs.length;i++)fn(xs[i],i,xs)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(obj,name,value){Object.defineProperty(obj,name,{writable:!0,enumerable:!1,configurable:!0,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(code){if(!(this instanceof Script))return new Script(code);this.code=code};Script.prototype.runInContext=function(context){if(!(context instanceof Context))throw new TypeError("needs a 'context' argument.");var iframe=document.createElement("iframe");iframe.style||(iframe.style={}),iframe.style.display="none",document.body.appendChild(iframe);var win=iframe.contentWindow,wEval=win.eval,wExecScript=win.execScript;!wEval&&wExecScript&&(wExecScript.call(win,"null"),wEval=win.eval),forEach(Object_keys(context),function(key){win[key]=context[key]}),forEach(globals,function(key){context[key]&&(win[key]=context[key])});var winKeys=Object_keys(win),res=wEval.call(win,this.code);return forEach(Object_keys(win),function(key){(key in context||-1===indexOf(winKeys,key))&&(context[key]=win[key])}),forEach(globals,function(key){key in context||defineProp(context,key,win[key])}),document.body.removeChild(iframe),res},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(context){var ctx=Script.createContext(context),res=this.runInContext(ctx);return forEach(Object_keys(ctx),function(key){context[key]=ctx[key]}),res},forEach(Object_keys(Script.prototype),function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}}),exports.createScript=function(code){return exports.Script(code)},exports.createContext=Script.createContext=function(context){var copy=new Context;return"object"==typeof context&&forEach(Object_keys(context),function(key){copy[key]=context[key]}),copy}},function(module,exports,__webpack_require__){(function(process){function WaitUntil(){}module.exports=exports=function(interval,times,condition,cb){return void 0===interval?new WaitUntil:(new WaitUntil).interval(interval).times(times).condition(condition).done(cb)},WaitUntil.prototype.interval=function(_interval){var self=this;return self._interval=_interval,self},WaitUntil.prototype.times=function(_times){var self=this;return self._times=_times,self},WaitUntil.prototype.condition=function(_condition,cb){var self=this;return self._condition=_condition,cb?self.done(cb):self},WaitUntil.prototype.done=function(cb){var self=this;if(!self._times)throw new Error("waitUntil.times() not called yet");if(!self._interval)throw new Error("waitUntil.interval() not called yet");if(!self._condition)throw new Error("waitUntil.condition() not called yet");return function runCheck(i,prevResult){i==self._times?cb(prevResult):setTimeout(function(){function gotConditionResult(result){result?cb(result):runCheck(i+1,result)}self._condition.length?self._condition(gotConditionResult):process.nextTick(function(){gotConditionResult(self._condition())})},self._interval)}(0),self}}).call(exports,__webpack_require__(7))},function(module,exports,__webpack_require__){(function(){var create;create=__webpack_require__(11),module.exports=function(){function XMLAttribute(parent,name,value){if(this.stringify=parent.stringify,null==name)throw new Error("Missing attribute name of element "+parent.name);if(null==value)throw new Error("Missing attribute value for attribute "+name+" of element "+parent.name);this.name=this.stringify.attName(name),this.value=this.stringify.attValue(value)}return XMLAttribute.prototype.clone=function(){return create(XMLAttribute.prototype,this)},XMLAttribute.prototype.toString=function(options,level){return" "+this.name+'="'+this.value+'"'},XMLAttribute}()}).call(this)},function(module,exports,__webpack_require__){(function(){var XMLElement,XMLStringifier;XMLStringifier=__webpack_require__(658),__webpack_require__(230),__webpack_require__(231),XMLElement=__webpack_require__(232),module.exports=function(){function XMLBuilder(name,options){var root,temp;if(null==name)throw new Error("Root element needs a name");null==options&&(options={}),this.options=options,this.stringify=new XMLStringifier(options),temp=new XMLElement(this,"doc"),root=temp.element(name),root.isRoot=!0,root.documentObject=this,this.rootObject=root,options.headless||(root.declaration(options),null==options.pubID&&null==options.sysID||root.doctype(options))}return XMLBuilder.prototype.root=function(){return this.rootObject},XMLBuilder.prototype.end=function(options){return this.toString(options)},XMLBuilder.prototype.toString=function(options){var newline,pretty,r,ref,ref1,ref2;return pretty=(null!=options?options.pretty:void 0)||!1,null!=(ref=null!=options?options.indent:void 0)?ref:"  ",null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",r="",null!=this.xmldec&&(r+=this.xmldec.toString(options)),null!=this.doctype&&(r+=this.doctype.toString(options)),r+=this.rootObject.toString(options),pretty&&r.slice(-newline.length)===newline&&(r=r.slice(0,-newline.length)),r},XMLBuilder}()}).call(this)},function(module,exports,__webpack_require__){(function(){__webpack_require__(11),module.exports=function(){function XMLDTDAttList(parent,elementName,attributeName,attributeType,defaultValueType,defaultValue){if(this.stringify=parent.stringify,null==elementName)throw new Error("Missing DTD element name");if(null==attributeName)throw new Error("Missing DTD attribute name");if(!attributeType)throw new Error("Missing DTD attribute type");if(!defaultValueType)throw new Error("Missing DTD attribute default");if(0!==defaultValueType.indexOf("#")&&(defaultValueType="#"+defaultValueType),!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(defaultValue&&!defaultValueType.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(elementName),this.attributeName=this.stringify.attName(attributeName),this.attributeType=this.stringify.dtdAttType(attributeType),this.defaultValue=this.stringify.dtdAttDefault(defaultValue),this.defaultValueType=defaultValueType}return XMLDTDAttList.prototype.toString=function(options,level){var indent,newline,offset,pretty,r,ref,ref1,ref2,space;return pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+="<!ATTLIST "+this.elementName+" "+this.attributeName+" "+this.attributeType,"#DEFAULT"!==this.defaultValueType&&(r+=" "+this.defaultValueType),this.defaultValue&&(r+=' "'+this.defaultValue+'"'),r+=">",pretty&&(r+=newline),r},XMLDTDAttList}()}).call(this)},function(module,exports,__webpack_require__){(function(){__webpack_require__(11),module.exports=function(){function XMLDTDElement(parent,name,value){if(this.stringify=parent.stringify,null==name)throw new Error("Missing DTD element name");value||(value="(#PCDATA)"),Array.isArray(value)&&(value="("+value.join(",")+")"),this.name=this.stringify.eleName(name),this.value=this.stringify.dtdElementValue(value)}return XMLDTDElement.prototype.toString=function(options,level){var indent,newline,offset,pretty,r,ref,ref1,ref2,space;return pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+="<!ELEMENT "+this.name+" "+this.value+">",pretty&&(r+=newline),r},XMLDTDElement}()}).call(this)},function(module,exports,__webpack_require__){(function(){var isObject;__webpack_require__(11),isObject=__webpack_require__(17),module.exports=function(){function XMLDTDEntity(parent,pe,name,value){if(this.stringify=parent.stringify,null==name)throw new Error("Missing entity name");if(null==value)throw new Error("Missing entity value");if(this.pe=!!pe,this.name=this.stringify.eleName(name),isObject(value)){if(!value.pubID&&!value.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(value.pubID&&!value.sysID)throw new Error("System identifier is required for a public external entity");if(null!=value.pubID&&(this.pubID=this.stringify.dtdPubID(value.pubID)),null!=value.sysID&&(this.sysID=this.stringify.dtdSysID(value.sysID)),null!=value.nData&&(this.nData=this.stringify.dtdNData(value.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(value)}return XMLDTDEntity.prototype.toString=function(options,level){var indent,newline,offset,pretty,r,ref,ref1,ref2,space;return pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+="<!ENTITY",this.pe&&(r+=" %"),r+=" "+this.name,this.value?r+=' "'+this.value+'"':(this.pubID&&this.sysID?r+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.sysID&&(r+=' SYSTEM "'+this.sysID+'"'),this.nData&&(r+=" NDATA "+this.nData)),r+=">",pretty&&(r+=newline),r},XMLDTDEntity}()}).call(this)},function(module,exports,__webpack_require__){(function(){__webpack_require__(11),module.exports=function(){function XMLDTDNotation(parent,name,value){if(this.stringify=parent.stringify,null==name)throw new Error("Missing notation name");if(!value.pubID&&!value.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(name),null!=value.pubID&&(this.pubID=this.stringify.dtdPubID(value.pubID)),null!=value.sysID&&(this.sysID=this.stringify.dtdSysID(value.sysID))}return XMLDTDNotation.prototype.toString=function(options,level){var indent,newline,offset,pretty,r,ref,ref1,ref2,space;return pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+="<!NOTATION "+this.name,this.pubID&&this.sysID?r+=' PUBLIC "'+this.pubID+'" "'+this.sysID+'"':this.pubID?r+=' PUBLIC "'+this.pubID+'"':this.sysID&&(r+=' SYSTEM "'+this.sysID+'"'),r+=">",pretty&&(r+=newline),r},XMLDTDNotation}()}).call(this)},function(module,exports,__webpack_require__){(function(){var XMLNode,create,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;create=__webpack_require__(11),XMLNode=__webpack_require__(40),module.exports=function(superClass){function XMLRaw(parent,text){if(XMLRaw.__super__.constructor.call(this,parent),null==text)throw new Error("Missing raw text");this.value=this.stringify.raw(text)}return extend(XMLRaw,superClass),XMLRaw.prototype.clone=function(){return create(XMLRaw.prototype,this)},XMLRaw.prototype.toString=function(options,level){var indent,newline,offset,pretty,r,ref,ref1,ref2,space;return pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+=this.value,pretty&&(r+=newline),r},XMLRaw}(XMLNode)}).call(this)},function(module,exports){(function(){var bind=function(fn,me){return function(){return fn.apply(me,arguments)}},hasProp={}.hasOwnProperty;module.exports=function(){function XMLStringifier(options){this.assertLegalChar=bind(this.assertLegalChar,this);var key,ref,value;this.allowSurrogateChars=null!=options?options.allowSurrogateChars:void 0,this.noDoubleEncoding=null!=options?options.noDoubleEncoding:void 0,ref=(null!=options?options.stringify:void 0)||{};for(key in ref)hasProp.call(ref,key)&&(value=ref[key],this[key]=value)}return XMLStringifier.prototype.eleName=function(val){return val=""+val||"",this.assertLegalChar(val)},XMLStringifier.prototype.eleText=function(val){return val=""+val||"",this.assertLegalChar(this.elEscape(val))},XMLStringifier.prototype.cdata=function(val){if(val=""+val||"",val.match(/]]>/))throw new Error("Invalid CDATA text: "+val);return this.assertLegalChar(val)},XMLStringifier.prototype.comment=function(val){if(val=""+val||"",val.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+val);return this.assertLegalChar(val)},XMLStringifier.prototype.raw=function(val){return""+val||""},XMLStringifier.prototype.attName=function(val){return""+val||""},XMLStringifier.prototype.attValue=function(val){return val=""+val||"",this.attEscape(val)},XMLStringifier.prototype.insTarget=function(val){return""+val||""},XMLStringifier.prototype.insValue=function(val){if(val=""+val||"",val.match(/\?>/))throw new Error("Invalid processing instruction value: "+val);return val},XMLStringifier.prototype.xmlVersion=function(val){if(val=""+val||"",!val.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+val);return val},XMLStringifier.prototype.xmlEncoding=function(val){if(val=""+val||"",!val.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/))throw new Error("Invalid encoding: "+val);return val},XMLStringifier.prototype.xmlStandalone=function(val){return val?"yes":"no"},XMLStringifier.prototype.dtdPubID=function(val){return""+val||""},XMLStringifier.prototype.dtdSysID=function(val){return""+val||""},XMLStringifier.prototype.dtdElementValue=function(val){return""+val||""},XMLStringifier.prototype.dtdAttType=function(val){return""+val||""},XMLStringifier.prototype.dtdAttDefault=function(val){return null!=val?""+val||"":val},XMLStringifier.prototype.dtdEntityValue=function(val){return""+val||""},XMLStringifier.prototype.dtdNData=function(val){return""+val||""},XMLStringifier.prototype.convertAttKey="@",XMLStringifier.prototype.convertPIKey="?",XMLStringifier.prototype.convertTextKey="#text",XMLStringifier.prototype.convertCDataKey="#cdata",XMLStringifier.prototype.convertCommentKey="#comment",XMLStringifier.prototype.convertRawKey="#raw",XMLStringifier.prototype.assertLegalChar=function(str){var chars,chr;if(chars=this.allowSurrogateChars?/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,chr=str.match(chars))throw new Error("Invalid character ("+chr+") in string: "+str+" at index "+chr.index);return str},XMLStringifier.prototype.elEscape=function(str){var ampregex;return ampregex=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,str.replace(ampregex,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},XMLStringifier.prototype.attEscape=function(str){var ampregex;return ampregex=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,str.replace(ampregex,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},XMLStringifier}()}).call(this)},function(module,exports,__webpack_require__){(function(){var XMLNode,create,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;create=__webpack_require__(11),XMLNode=__webpack_require__(40),module.exports=function(superClass){function XMLText(parent,text){if(XMLText.__super__.constructor.call(this,parent),null==text)throw new Error("Missing element text");this.value=this.stringify.eleText(text)}return extend(XMLText,superClass),XMLText.prototype.clone=function(){return create(XMLText.prototype,this)},XMLText.prototype.toString=function(options,level){var indent,newline,offset,pretty,r,ref,ref1,ref2,space;return pretty=(null!=options?options.pretty:void 0)||!1,indent=null!=(ref=null!=options?options.indent:void 0)?ref:"  ",offset=null!=(ref1=null!=options?options.offset:void 0)?ref1:0,newline=null!=(ref2=null!=options?options.newline:void 0)?ref2:"\n",level||(level=0),space=new Array(level+offset+1).join(indent),r="",pretty&&(r+=space),r+=this.value,pretty&&(r+=newline),r},XMLText}(XMLNode)}).call(this)},function(module,exports,__webpack_require__){(function(){var XMLBuilder,assign;assign=__webpack_require__(574),XMLBuilder=__webpack_require__(652),module.exports.create=function(name,xmldec,doctype,options){return options=assign({},xmldec,doctype,options),new XMLBuilder(name,options).root()}}).call(this)},function(module,exports){module.exports={name:"deep-framework",version:"1.12.26",description:"DEEP Framework",keywords:["digital enterprise end-to-end platform","amazon web services","platform-as-a-service","deep","aws","paas","cloud","computing","microservices","architecture","serverless","abstracted","core","library","framework","Framework"],homepage:"https://github.com/MitocGroup/deep-framework",bugs:{url:"https://github.com/MitocGroup/deep-framework/issues"},license:"MIT",author:{name:"Mitoc Group",email:"hello@mitocgroup.com",url:"http://www.mitocgroup.com"},contributors:[{name:"AlexanderC",email:"alexanderc@mitocgroup.com"},{name:"Marcel Goria",email:"mgoria@mitocgroup.com"},{name:"Veaceslav Cotruta",email:"vcotruta@mitocgroup.com"},{name:"Max Ponomariov",email:"mponomariov@mitocgroup.com"},{name:"Alexandru Scripnic",email:"ascripnic@mitocgroup.com"},{name:"Stefan Hariton",email:"shariton@mitocgroup.com"},{name:"Dragos Palade",email:"dpalade@mitocgroup.com"}],main:"lib.compiled/bootstrap.js",repository:{type:"git",url:"https://github.com/MitocGroup/deep-framework.git"},scripts:{test:"bash node-bin/test.sh",compile:"bash node-bin/compile.sh",prepublish:"npm run compile && npm run browser-build","browser-build":"bash node-bin/browser_build.sh",pretest:"npm link deep-log deep-core deep-asset deep-cache deep-db deep-validation deep-di deep-event deep-fs deep-kernel deep-resource deep-security deep-notification babel-preset-es2015","prepare-production":"bash hooks/prepare_production.sh","final-prepare-production":"bash hooks/final_prepare_production.sh"},dependencies:{"deep-asset":"^1.x.x","deep-cache":"^1.x.x","deep-core":"^1.x.x","deep-db":"^1.x.x","deep-di":"^1.x.x","deep-event":"^1.x.x","deep-fs":"^1.x.x","deep-kernel":"^1.x.x","deep-log":"^1.x.x","deep-notification":"^1.x.x","deep-resource":"^1.x.x","deep-search":"^0.x.x","deep-security":"^1.x.x","deep-validation":"^1.x.x",inherits:"^2.0.x"},devDependencies:{chai:"^3.5.x",sinon:"^1.17.x","sinon-chai":"^2.8.x"},engines:{node:">=0.12",npm:">=2.10"},preferGlobal:!1,analyze:!0,jspm:{main:"browser/framework.js"}}},function(module,exports){module.exports=null},function(module,exports){},function(module,exports){},function(module,exports){}]);